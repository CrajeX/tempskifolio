/*! For license information please see main.9fc3273b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,g(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),j(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=j(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=j(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},P={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,P(S);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,v(C),C=-1),f=!0;var s=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,k=null,C=-1,T=5,I=-1;function j(){return!(t.unstable_now()-I<T)}function R(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?_():(E=!1,k=null)}}else E=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=R,_=function(){A.postMessage(null)}}else _=function(){y(R,0)};function P(e){k=e,E||(E=!0,_())}function O(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(v(C),C=-1):m=!0,O(w,s-o))):(e.sortIndex=a,n(c,e),g||f||(g=!0,P(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,U=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function z(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(vo){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ce(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function je(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==_e||null!==Ee)&&(je(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function De(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Ue=null,Me=!1,Fe=null,Ve={onError:function(e){Le=!0,Ue=e}};function ze(e,t,n,r,i,s,o,a,l){Le=!1,Ue=null,De.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function $e(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,_t,Et,kt,Ct=!1,Tt=[],It=null,jt=null,Rt=null,Nt=new Map,At=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Mt(It)&&(It=null),null!==jt&&Mt(jt)&&(jt=null),null!==Rt&&Mt(Rt)&&(Rt=null),Nt.forEach(Ft),At.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==jt&&zt(jt,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Pt.shift()}var Ht=x.ReactCurrentBatchConfig,Wt=!0;function $t(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function qt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Kt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Lt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=U({},cn,{view:0,detail:0}),hn=sn(dn),pn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),gn=sn(U({},pn,{dataTransfer:0})),mn=sn(U({},dn,{relatedTarget:0})),yn=sn(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),xn=sn(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function kn(){return En}var Cn=U({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Cn),In=sn(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=sn(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Nn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Un=u&&(!On||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Mr(e,0)}function Qn(e){if(K(xi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];$n(t,Kn,e,we(e)),Ne(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function kr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=kr("animationend"),Tr=kr("animationiteration"),Ir=kr("animationstart"),jr=kr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Or=Nr[Pr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Ue;Le=!1,Ue=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,a,c),s=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=$t;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=we(n),o=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Cr:case Tr:case Ir:l=yn;break;case jr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Ae(f,h))&&u.push($r(f,g,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:xi(l),p=null==c?a:xi(c),(a=new u(g,f+"leave",l,n,i)).target=d,a.relatedTarget=p,g=null,vi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,g=h;g;g=Kr(g))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(o,a,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(a=r?xi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Jn;else if(Wn(a))if(Yn)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?$n(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?xi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=qr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Mr(o,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift($r(e,s,i)),null!=(s=Ae(e,t))&&r.push($r(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,s))&&o.unshift($r(n,l,a)):i||null!=(l=Ae(n,s))&&o.push($r(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[pi]||null}var Si=[],_i=-1;function Ei(e){return{current:e}}function ki(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ci(e,t){_i++,Si[_i]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),ji=Ei(!1),Ri=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){ki(ji),ki(Ii)}function Oi(e,t,n){if(Ii.current!==Ti)throw Error(s(168));Ci(Ii,t),Ci(ji,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return U({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,Ci(Ii,e),Ci(ji,ji.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(ji),ki(Ii),Ci(Ii,e)):ki(ji),Ci(ji,n)}var Mi=null,Fi=!1,Vi=!1;function zi(e){null===Mi?Mi=[e]:Mi.push(e)}function Bi(){if(!Vi&&null!==Mi){Vi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Fi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var Hi=[],Wi=0,$i=null,qi=0,Ki=[],Gi=0,Qi=null,Ji=1,Yi="";function Xi(e,t){Hi[Wi++]=qi,Hi[Wi++]=$i,$i=e,qi=t}function Zi(e,t,n){Ki[Gi++]=Ji,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Qi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else Ji=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===$i;)$i=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=x.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&vs(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case S:return(t=Vc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Uc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case A:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(i,d,a[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(i,d),is&&Xi(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(s=o(d,s,g),null===u?c=d:u.sibling=d,u=d);return is&&Xi(i,g),c}for(d=r(i,d);g<a.length;g++)null!==(m=f(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),is&&Xi(i,g),c}function m(i,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),is&&Xi(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return is&&Xi(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=f(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(i,e)})),is&&Xi(i,m),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===_){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=ms(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===_?((s=Uc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(o,r.mode,l)).return=r,r=s}return a(r);case A:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(D(o))return m(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var xs=bs(!0),ws=bs(!1),Ss=Ei(null),_s=null,Es=null,ks=null;function Cs(){ks=Es=_s=null}function Ts(e){var t=Ss.current;ki(Ss),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){_s=e,ks=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===_s)throw Error(s(308));Es=e,_s.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ns=null;function As(e){null===Ns?Ns=[e]:Ns.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=U({},d,h);break e;case 2:Ds=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},$s=Ei(Ws),qs=Ei(Ws),Ks=Ei(Ws);function Gs(e){if(e===Ws)throw Error(s(174));return e}function Qs(e,t){switch(Ci(Ks,t),Ci(qs,e),Ci($s,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki($s),Ci($s,t)}function Js(){ki($s),ki(qs),ki(Ks)}function Ys(e){Gs(Ks.current);var t=Gs($s.current),n=le(t,e.type);t!==n&&(Ci(qs,e),Ci($s,n))}function Xs(e){qs.current===e&&(ki($s),ki(qs))}var Zs=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,io=x.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?ta:na,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ra,e=n(r,i)}while(uo)}if(ro.current=ea,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(){}function ko(e,t){var n=oo,r=xo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Uo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ao(9,To.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Ro(e)}function Io(e,t,n){return n((function(){jo(t)&&Ro(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ro(e){var t=Os(e,1);null!==t&&ic(t,e,1,-1)}function No(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,oo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return xo().memoizedState}function Oo(e,t,n,r){var i=bo();oo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=xo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Ao(t,n,s,r))}oo.flags|=e,i.memoizedState=Ao(1|t,n,s,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Uo(e,t){return Do(2048,8,e,t)}function Mo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function Bo(){}function Ho(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ko(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Go(){return xo().memoizedState}function Qo(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Ps(e,t,n,r))){ic(n,e,r,nc()),Zo(n,t,r)}}function Jo(e,t,n){var r=rc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ps(e,t,i,r))&&(ic(n,e,r,i=nc()),Zo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ea={readContext:Rs,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},ta={readContext:Rs,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:No,useDebugValue:Bo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Ko.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=bo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Io.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=Nl.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},na={readContext:Rs,useCallback:Ho,useContext:Rs,useEffect:Uo,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Wo,useReducer:So,useRef:Po,useState:function(){return So(wo)},useDebugValue:Bo,useDeferredValue:function(e){return $o(xo(),ao.memoizedState,e)},useTransition:function(){return[So(wo)[0],xo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1},ra={readContext:Rs,useCallback:Ho,useContext:Rs,useEffect:Uo,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Wo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=xo();return null===ao?t.memoizedState=e:$o(t,ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],xo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(ic(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(ic(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(ic(t,e,r,n),Vs(t,e,r))}};function aa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function la(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(i=Ai(t)?Ri:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ca(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ua(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Rs(s):(s=Ai(t)?Ri:Ii.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(sa(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oa.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function da(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function pa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function ga(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),pa(0,t)},n}function ma(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){pa(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){pa(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ya(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xa=x.ReactCurrentOwner,wa=!1;function Sa(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return js(t,i),r=mo(e,t,n,r,s,i),n=yo(),null===e||wa?(is&&n&&es(t),t.flags|=1,Sa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ka(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Dl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Dl,Ol),Ol|=r;return Sa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var s=Ai(n)?Ri:Ii.current;return s=Ni(t,s),js(t,i),n=mo(e,t,n,r,s,i),r=yo(),null===e||wa?(is&&r&&es(t),t.flags|=1,Sa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function ja(e,t,n,r,i){if(Ai(n)){var s=!0;Li(t)}else s=!1;if(js(t,i),null===t.stateNode)$a(e,t),la(t,n,r),ua(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Ni(t,c=Ai(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&ca(t,o,r,c),Ds=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ji.current||Ds?("function"===typeof u&&(sa(t,n,u,r),l=t.memoizedState),(a=Ds||aa(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Us(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ia(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Ni(t,l=Ai(n)?Ri:Ii.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&ca(t,o,r,l),Ds=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,i);var f=t.memoizedState;a!==d||h!==f||ji.current||Ds?("function"===typeof p&&(sa(t,n,p,r),f=t.memoizedState),(c=Ds||aa(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,s,i)}function Ra(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),qa(e,t,s);r=t.stateNode,xa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,a,s)):Sa(e,t,a,s),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Qs(e,t.containerInfo)}function Aa(e,t,n,r,i){return ps(),fs(i),t.flags|=256,Sa(e,t,n,r),t.child}var Pa,Oa,Da,La,Ua={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Uc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Ua,e):Va(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Uc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Ua,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),ic(r,e,i,-1))}return yc(),za(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Ji,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Ji=e.id,Yi=e.overflow,Qi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dc(r,a):(a=Uc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&fs(r),xs(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ha(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Sa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,s);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ai(t.type)&&Pi(),Ga(t),null;case 3:return r=t.stateNode,Js(),ki(ji),ki(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Oa(e,t),Ga(t),null;case 5:Xs(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=Gs($s.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs($s.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(lc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):yc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Js(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Ts(t.type._context),Ga(t),null;case 19:if(ki(Zs),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Wl&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*Ye()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ja(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),ki(ji),ki(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Js(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs($s.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&nl(t,n,s)}i=i.next}while(i!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)gl(e,t,n),n=n.sibling}function gl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||tl(n,t);case 6:var r=hl,i=pl;hl=null,fl(e,t,n),pl=i,null!==(hl=r)&&(pl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(pl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=pl,hl=n.stateNode.containerInfo,pl=!0,fl(e,t,n),hl=r,pl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&nl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,pl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));gl(o,a,i),hl=null,pl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),bl(e),4&r){try{il(3,e,e.return),sl(3,e)}catch(m){Cc(e,e.return,m)}try{il(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(m){Cc(e,e.return,m)}}break;case 6:if(yl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cc(e,e.return,m)}}break;case 3:if(yl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:yl(t,e),bl(e);break;case 13:yl(t,e),bl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,yl(t,e),Xa=u):yl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(f=(p=el).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:tl(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:tl(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,el=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Cc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yl(t,e),bl(e),4&r&&ml(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,cl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,cl(e),o);break;default:throw Error(s(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){el=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=l)&&!c)for(el=i;null!==el;)l=(o=el).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,el=l):El(i);for(;null!==s;)el=s,wl(s,t,n),s=s.sibling;el=i,Ya=a,Xa=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,el=s):Sl(e)}}function Sl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ia(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&ol(t)}catch(p){Cc(t,t.return,p)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function _l(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var s=t.return;try{ol(t)}catch(l){Cc(t,s,l)}break;case 5:var o=t.return;try{ol(t)}catch(l){Cc(t,o,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){el=null;break}var a=t.sibling;if(null!==a){a.return=t.return,el=a;break}el=t.return}}var kl,Cl=Math.ceil,Tl=x.ReactCurrentDispatcher,Il=x.ReactCurrentOwner,jl=x.ReactCurrentBatchConfig,Rl=0,Nl=null,Al=null,Pl=0,Ol=0,Dl=Ei(0),Ll=0,Ul=null,Ml=0,Fl=0,Vl=0,zl=null,Bl=null,Hl=0,Wl=1/0,$l=null,ql=!1,Kl=null,Gl=null,Ql=!1,Jl=null,Yl=0,Xl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Rl)?Ye():-1!==ec?ec:ec=Ye()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===tc&&(tc=gt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ic(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));yt(e,n,r),0!==(2&Rl)&&e===Nl||(e===Nl&&(0===(2&Rl)&&(Fl|=n),4===Ll&&cc(e,Pl)),sc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Wl=Ye()+500,Fi&&Bi()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===(6&Rl)&&Bi()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(ec=-1,tc=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Rl;Rl|=2;var o=mc();for(Nl===e&&Pl===t||($l=null,Wl=Ye()+500,fc(e,t));;)try{xc();break}catch(l){gc(e,l)}Cs(),Tl.current=o,Rl=i,null!==Al?t=0:(Nl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ul,fc(e,0),cc(e,r),sc(e,Ye()),n;if(6===t)cc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ul,fc(e,0),cc(e,r),sc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Bl,$l);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Hl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bl,$l),t);break}_c(e,Bl,$l);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bl,$l),r);break}_c(e,Bl,$l);break;default:throw Error(s(329))}}}return sc(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Rl))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return sc(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ul,fc(e,0),cc(e,t),sc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bl,$l),sc(e,Ye()),null}function dc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Wl=Ye()+500,Fi&&Bi())}}function hc(e){null!==Jl&&0===Jl.tag&&0===(6&Rl)&&Ec();var t=Rl;Rl|=1;var n=jl.transition,r=bt;try{if(jl.transition=null,bt=1,e)return e()}finally{bt=r,jl.transition=n,0===(6&(Rl=t))&&Bi()}}function pc(){Ol=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Js(),ki(ji),ki(Ii),no();break;case 5:Xs(r);break;case 4:Js();break;case 13:case 19:ki(Zs);break;case 10:Ts(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Nl=e,Al=e=Dc(e.current,null),Pl=Ol=t,Ll=0,Ul=null,Vl=Fl=Ml=0,Bl=zl=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(r=(n=Ns[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return e}function gc(e,t){for(;;){var n=Al;try{if(Cs(),ro.current=ea,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Il.current=null,null===n||null===n.return){Ll=1,Ul=t,Al=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=va(a);if(null!==f){f.flags&=-257,ba(f,a,l,0,t),1&f.mode&&ya(o,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ya(o,u,t),yc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=va(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ba(y,a,l,0,t),fs(da(c,l));break e}}o=c=da(c,l),4!==Ll&&(Ll=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,ga(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}Sc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=ea,null===e?ea:e}function yc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&Ml)&&0===(268435455&Fl)||cc(Nl,Pl)}function vc(e,t){var n=Rl;Rl|=2;var r=mc();for(Nl===e&&Pl===t||($l=null,fc(e,t));;)try{bc();break}catch(i){gc(e,i)}if(Cs(),Rl=n,Tl.current=r,null!==Al)throw Error(s(261));return Nl=null,Pl=0,Ll}function bc(){for(;null!==Al;)wc(Al)}function xc(){for(;null!==Al&&!Qe();)wc(Al)}function wc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?Sc(e):Al=t,Il.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Al=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function _c(e,t,n){var r=bt,i=jl.transition;try{jl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Jl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Al=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=jl.transition,jl.transition=null;var a=bt;bt=1;var l=Rl;Rl|=4,Il.current=null,function(e,t){if(ei=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(qo){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ia(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(qo){Cc(t,t.return,qo)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}g=rl,rl=!1}(e,n),vl(n,e),fr(ti),Wt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),Je(),Rl=l,bt=a,jl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Jl=e,Yl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Bi()}(e,t,n,r)}finally{jl.transition=i,bt=r}return null}function Ec(){if(null!==Jl){var e=xt(Yl),t=jl.transition,n=bt;try{if(jl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Yl=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,el=e.current;null!==el;){var o=el,a=o.child;if(0!==(16&el.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:il(8,d,o)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var p=(d=el).sibling,f=d.return;if(al(d),d===u){el=null;break}if(null!==p){p.return=f,el=p;break}el=f}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}el=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,el=a;else e:for(;null!==el;){if(0!==(2048&(o=el).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,el=v;break e}el=o.return}}var b=e.current;for(el=b;null!==el;){var x=(a=el).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,el=x;else e:for(a=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(S){Cc(l,l.return,S)}if(l===a){el=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,el=w;break e}el=l.return}}if(Rl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,jl.transition=t}}return!1}function kc(e,t,n){e=Fs(e,t=ga(0,t=da(n,t),1),1),t=nc(),null!==e&&(yt(e,1,t),sc(e,t))}function Cc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fs(t,e=ma(t,e=da(n,e),1),1),e=nc(),null!==t&&(yt(t,1,e),sc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Ye()-Hl?fc(e,0):Vl|=n),sc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Os(e,t))&&(yt(e,t,n),sc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return Uc(n.children,i,o,t);case E:a=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case j:return(e=Pc(13,n,t,i)).elementType=j,e.lanes=o,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case T:a=9;break e;case I:a=11;break e;case N:a=14;break e;case A:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Uc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,o,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Hc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Wc(e,t,n,r,i,s,o,a,l){return(e=Bc(n,r,!0,e,0,s,0,a,l)).context=Hc(null),n=e.current,(s=Ms(r=nc(),i=rc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,yt(e,i,r),sc(e,r),e}function $c(e,t,n,r){var i=t.current,s=nc(),o=rc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,o))&&(ic(e,i,o,s),Vs(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),ps();break;case 5:Ys(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);js(t,n),i=mo(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=oa,t.stateNode=i,i._reactInternals=t,ua(t,r,e,n),t=Ra(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),Sa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=ia(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=ja(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,ia(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 1:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Us(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,r,n,i=da(Error(s(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=da(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=qa(e,t,n);break e}Sa(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),Sa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):Sa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 7:return Sa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Sa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(Ss,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!ji.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ms(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Sa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),r=r(i=Rs(i)),t.flags|=1,Sa(e,t,r,n),t.child;case 14:return i=ia(r=t.type,t.pendingProps),Ea(e,t,r,i=ia(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ia(r,i),$a(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,js(t,n),la(t,r,i),ua(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return Ca(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qc(o);a.call(e)}}$c(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(o);s.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=o,e[fi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[fi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return qc(o)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$c(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){$c(null,e,null,null)})),t[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),sc(t,Ye()),0===(6&Rl)&&(Wl=Ye()+500,Bi()))}break;case 13:hc((function(){var t=Os(e,1);if(null!==t){var n=nc();ic(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)ic(t,e,134217728,nc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=rc(e),n=Os(e,t);if(null!==n)ic(n,e,t,nc());Gc(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=dc,je=hc;var nu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ce,Te,dc]},ru={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{it=su.inject(iu),st=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,o,a),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>hb,hasStandardBrowserEnv:()=>fb,hasStandardBrowserWebWorkerEnv:()=>gb,navigator:()=>pb,origin:()=>mb});var i=n(43),s=n.t(i,2),o=n(391);const a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new c;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(e){return function(e){const t=a(e);return l.encodeByteArray(t,!0)}(e).replace(/\./g,"")},d=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const h=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,p=()=>{try{return h()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},f=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=e=>{const t=f(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},m=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},y=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function b(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(s)),""].join(".")}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function w(){return!function(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"===typeof indexedDB}catch(e){return!1}}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E.prototype.create)}}class E{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(k,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new _(n,s,t)}}const k=/\{\$([^}]+)}/g;function C(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(T(n)&&T(s)){if(!C(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T(e){return null!==e&&"object"===typeof e}function I(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function j(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function R(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class N{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function A(){}function P(e){return e&&e._delegate?e._delegate:e}class O{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const D="[DEFAULT]";class L{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new v;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:D})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===D?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.component?this.component.multipleInstances?e:D:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new L(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const M=[];var F;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(F||(F={}));const V={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},z=F.INFO,B={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},H=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=B[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class W{constructor(e){this.name=e,this._logLevel=z,this._logHandler=H,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in F))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...t),this._logHandler(this,F.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...t),this._logHandler(this,F.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.INFO,...t),this._logHandler(this,F.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.WARN,...t),this._logHandler(this,F.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.ERROR,...t),this._logHandler(this,F.ERROR,...t)}}let $,q;const K=new WeakMap,G=new WeakMap,Q=new WeakMap,J=new WeakMap,Y=new WeakMap;let X={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return G.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Q.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return te(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Z(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ne(this),n),te(K.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te(e.apply(ne(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ne(this),t,...r);return Q.set(s,t.sort?t.sort():[t]),te(s)}}function ee(e){return"function"===typeof e?Z(e):(e instanceof IDBTransaction&&function(e){if(G.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));G.set(e,t)}(e),t=e,($||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,X):e);var t}function te(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(te(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&K.set(t,e)})).catch((()=>{})),Y.set(t,e),t}(e);if(J.has(e))return J.get(e);const t=ee(e);return t!==e&&(J.set(e,t),Y.set(t,e)),t}const ne=e=>Y.get(e);const re=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],se=new Map;function oe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(se.get(t))return se.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!re.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return se.set(t,s),s}X=(e=>({...e,get:(t,n,r)=>oe(t,n)||e.get(t,n,r),has:(t,n)=>!!oe(t,n)||e.has(t,n)}))(X);class ae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const le="@firebase/app",ce="0.11.2",ue=new W("@firebase/app"),de="@firebase/app-compat",he="@firebase/analytics-compat",pe="@firebase/analytics",fe="@firebase/app-check-compat",ge="@firebase/app-check",me="@firebase/auth",ye="@firebase/auth-compat",ve="@firebase/database",be="@firebase/data-connect",xe="@firebase/database-compat",we="@firebase/functions",Se="@firebase/functions-compat",_e="@firebase/installations",Ee="@firebase/installations-compat",ke="@firebase/messaging",Ce="@firebase/messaging-compat",Te="@firebase/performance",Ie="@firebase/performance-compat",je="@firebase/remote-config",Re="@firebase/remote-config-compat",Ne="@firebase/storage",Ae="@firebase/storage-compat",Pe="@firebase/firestore",Oe="@firebase/vertexai",De="@firebase/firestore-compat",Le="firebase",Ue="[DEFAULT]",Me={[le]:"fire-core",[de]:"fire-core-compat",[pe]:"fire-analytics",[he]:"fire-analytics-compat",[ge]:"fire-app-check",[fe]:"fire-app-check-compat",[me]:"fire-auth",[ye]:"fire-auth-compat",[ve]:"fire-rtdb",[be]:"fire-data-connect",[xe]:"fire-rtdb-compat",[we]:"fire-fn",[Se]:"fire-fn-compat",[_e]:"fire-iid",[Ee]:"fire-iid-compat",[ke]:"fire-fcm",[Ce]:"fire-fcm-compat",[Te]:"fire-perf",[Ie]:"fire-perf-compat",[je]:"fire-rc",[Re]:"fire-rc-compat",[Ne]:"fire-gcs",[Ae]:"fire-gcs-compat",[Pe]:"fire-fst",[De]:"fire-fst-compat",[Oe]:"fire-vertex","fire-js":"fire-js",[Le]:"fire-js-all"},Fe=new Map,Ve=new Map,ze=new Map;function Be(e,t){try{e.container.addComponent(t)}catch(n){ue.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function He(e){const t=e.name;if(ze.has(t))return ue.debug(`There were multiple attempts to register component ${t}.`),!1;ze.set(t,e);for(const n of Fe.values())Be(n,e);for(const n of Ve.values())Be(n,e);return!0}function We(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $e(e){return null!==e&&void 0!==e&&void 0!==e.settings}const qe=new E("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ke{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new O("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}}const Ge="11.4.0";function Qe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qe.create("bad-app-name",{appName:String(i)});if(n||(n=m()),!n)throw qe.create("no-options");const s=Fe.get(i);if(s){if(C(n,s.options)&&C(r,s.config))return s;throw qe.create("duplicate-app",{appName:i})}const o=new U(i);for(const l of ze.values())o.addComponent(l);const a=new Ke(n,r,o);return Fe.set(i,a),a}function Je(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;const t=Fe.get(e);if(!t&&e===Ue&&m())return Qe();if(!t)throw qe.create("no-app",{appName:e});return t}function Ye(e,t,n){var r;let i=null!==(r=Me[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ue.warn(e.join(" "))}He(new O(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Xe="firebase-heartbeat-store";let Ze=null;function et(){return Ze||(Ze=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=te(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(te(o.result),e.oldVersion,e.newVersion,te(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Xe)}catch(n){console.warn(n)}}}).catch((e=>{throw qe.create("idb-open",{originalErrorMessage:e.message})}))),Ze}async function tt(e,t){try{const n=(await et()).transaction(Xe,"readwrite"),r=n.objectStore(Xe);await r.put(t,nt(e)),await n.done}catch(n){if(n instanceof _)ue.warn(n.message);else{const e=qe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ue.warn(e.message)}}}function nt(e){return`${e.name}!${e.options.appId}`}class rt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new st(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=it();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ue.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=it(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ot(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ot(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ue.warn(t),""}}}function it(){return(new Date).toISOString().substring(0,10)}class st{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!S()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await et()).transaction(Xe),n=await t.objectStore(Xe).get(nt(e));return await t.done,n}catch(t){if(t instanceof _)ue.warn(t.message);else{const e=qe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ue.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return tt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return tt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ot(e){return u(JSON.stringify({version:2,heartbeats:e})).length}var at;at="",He(new O("platform-logger",(e=>new ae(e)),"PRIVATE")),He(new O("heartbeat",(e=>new rt(e)),"PRIVATE")),Ye(le,ce,at),Ye(le,ce,"esm2017"),Ye("fire-js","");function lt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ut=ct,dt=new E("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new W("@firebase/auth");function pt(e){if(ht.logLevel<=F.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ht.error(`Auth (${Ge}): ${e}`,...n)}}function ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vt(e,...n)}function gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vt(e,...n)}function mt(e,t,n){const r=Object.assign(Object.assign({},ut()),{[t]:n});return new E("auth","Firebase",r).create(t,{appName:e.name})}function yt(e){return mt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return dt.create(e,...n)}function bt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vt(t,...r)}}function xt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pt(t),new Error(t)}function wt(e,t){e||xt(t)}function St(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _t(){return"http:"===Et()||"https:"===Et()}function Et(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function kt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_t()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ct{constructor(e,t){this.shortDelay=e,this.longDelay=t,wt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return kt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tt(e,t){wt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class It{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rt=new Ct(3e4,6e4);function Nt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function At(e,t,n,r){return Pt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=I(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),It.fetch()(Dt(e,e.config.apiHost,n,o),l)}))}async function Pt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},jt),t);try{const t=new Ut(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Mt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Mt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Mt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Mt(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw mt(e,a,o);ft(e,a)}}catch(i){if(i instanceof _)throw i;ft(e,"network-request-failed",{message:String(i)})}}async function Ot(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await At(e,t,n,r,i);return"mfaPendingCredential"in s&&ft(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Dt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Tt(e.config,i):`${e.config.apiScheme}://${i}`}function Lt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ut{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(gt(this.auth,"network-request-failed"))),Rt.get())}))}}function Mt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gt(e,t,r);return i.customData._tokenResponse=n,i}function Ft(e){return void 0!==e&&void 0!==e.enterprise}class Vt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Lt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zt(e,t){return At(e,"GET","/v2/recaptchaConfig",Nt(e,t))}async function Bt(e,t){return At(e,"POST","/v1/accounts:lookup",t)}function Ht(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Wt(e){return 1e3*Number(e)}function $t(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const e=d(n);return e?JSON.parse(e):(pt("Failed to decode base64 JWT payload"),null)}catch(i){return pt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function qt(e){const t=$t(e);return bt(t,"internal-error"),bt("undefined"!==typeof t.exp,"internal-error"),bt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Kt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof _&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Gt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Qt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ht(this.lastLoginAt),this.creationTime=Ht(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Kt(e,Bt(n,{idToken:r}));bt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Yt(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qt(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function Yt(e){return e.map((e=>{var{providerId:t}=e,n=lt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt("undefined"!==typeof e.idToken,"internal-error"),bt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):qt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bt(0!==e.length,"internal-error");const t=qt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Pt(e,{},(async()=>{const n=I({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Dt(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",It.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Xt;return n&&(bt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(bt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(bt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return xt("not implemented")}}function Zt(e,t){bt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class en{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=lt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Kt(this,this.stsTokenManager.getToken(this.auth,e));return bt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=P(e),r=await n.getIdToken(t),i=$t(r);bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ht(Wt(i.auth_time)),issuedAtTime:Ht(Wt(i.iat)),expirationTime:Ht(Wt(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=P(e);await Jt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new en(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Jt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($e(this.auth.app))return Promise.reject(yt(this.auth));const e=await this.getIdToken();return await Kt(this,async function(e,t){return At(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:S}=t;bt(v&&S,e,"internal-error");const _=Xt.fromJSON(this.name,S);bt("string"===typeof v,e,"internal-error"),Zt(u,e.name),Zt(d,e.name),bt("boolean"===typeof b,e,"internal-error"),bt("boolean"===typeof x,e,"internal-error"),Zt(h,e.name),Zt(p,e.name),Zt(f,e.name),Zt(g,e.name),Zt(m,e.name),Zt(y,e.name);const E=new en({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:_,createdAt:m,lastLoginAt:y});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xt;r.updateFromServerResponse(t);const i=new en({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Jt(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];bt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Yt(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Xt;o.updateFromIdToken(n);const a=new en({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Qt(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const tn=new Map;function nn(e){wt(e instanceof Function,"Expected a class definition");let t=tn.get(e);return t?(wt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tn.set(e,t),t)}class rn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rn.type="NONE";const sn=rn;function on(e,t,n){return`firebase:${e}:${t}:${n}`}class an{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=on(this.userKey,r.apiKey,i),this.fullPersistenceKey=on("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?en._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new an(nn(sn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||nn(sn);const s=on(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=en._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new an(i,e,n)):new an(i,e,n)}}function ln(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fn(t))return"Blackberry";if(gn(t))return"Webos";if(un(t))return"Safari";if((t.includes("chrome/")||dn(t))&&!t.includes("edge/"))return"Chrome";if(pn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/firefox\//i.test(e)}function un(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/crios\//i.test(e)}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iemobile/i.test(e)}function pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/android/i.test(e)}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/blackberry/i.test(e)}function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/webos/i.test(e)}function mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yn(){return function(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return mn(e)||pn(e)||gn(e)||fn(e)||/windows phone/i.test(e)||hn(e)}function bn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ln(x());break;case"Worker":t=`${ln(x())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ge}/${r}`}class xn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class wn{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Sn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new En(this),this.idTokenSubscription=new En(this),this.beforeStateQueue=new xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nn(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await an.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Bt(this,{idToken:e}),n=await en._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($e(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jt(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($e(this.app))return Promise.reject(yt(this));const t=e?P(e):null;return t&&bt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return $e(this.app)?Promise.reject(yt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $e(this.app)?Promise.reject(yt(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(nn(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return At(e,"GET","/v2/passwordPolicy",Nt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new wn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new E("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return At(e,"POST","/v2/accounts:revokeToken",Nt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nn(e)||this._popupRedirectResolver;bt(t,this,"argument-error"),this.redirectPersistenceManager=await an.create(this,[nn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if($e(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ht.logLevel<=F.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ht.warn(`Auth (${Ge}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function _n(e){return P(e)}class En{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new N(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cn(e){return kn.loadJS(e)}function Tn(e){return`__${e}${Math.floor(1e6*Math.random())}`}class In{constructor(){this.enterprise=new jn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Rn="NO_RECAPTCHA";class Nn{constructor(e){this.type="recaptcha-enterprise",this.auth=_n(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ft(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Rn)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new In).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{zt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Vt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ft(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=kn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Cn(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function An(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Nn(e);let o;if(i)o=Rn;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Pn(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await An(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await An(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await An(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await An(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await An(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function On(e){const t=_n(e),n=await zt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Vt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Nn(t).verify()}}function Dn(e,t,n){const r=_n(e);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ln(t),{host:o,port:a}=function(e){const t=Ln(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Un(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Un(t)}}}(t),l={url:`${s}//${o}${null===a?"":`:${a}`}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void bt(C(l,r.config.emulator)&&C(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ln(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Un(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xt("not implemented")}_getIdTokenResponse(e){return xt("not implemented")}_linkToIdToken(e,t){return xt("not implemented")}_getReauthenticationResolver(e){return xt("not implemented")}}async function Fn(e,t){return At(e,"POST","/v1/accounts:signUp",t)}async function Vn(e,t){return Ot(e,"POST","/v1/accounts:signInWithPassword",Nt(e,t))}async function zn(e,t){return At(e,"POST","/v1/accounts:sendOobCode",Nt(e,t))}async function Bn(e,t){return zn(e,t)}class Hn extends Mn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hn(e,t,"password")}static _fromEmailAndCode(e,t){return new Hn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Pn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithEmailLink",Nt(e,t))}(e,{email:this._email,oobCode:this._password});default:ft(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Pn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithEmailLink",Nt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ft(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wn(e,t){return Ot(e,"POST","/v1/accounts:signInWithIdp",Nt(e,t))}class $n extends Mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ft("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=lt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new $n(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Wn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=I(t)}return e}}async function qn(e,t){return At(e,"POST","/v1/accounts:sendVerificationCode",Nt(e,t))}const Kn={USER_NOT_FOUND:"user-not-found"};class Gn extends Mn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithPhoneNumber",Nt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ot(e,"POST","/v1/accounts:signInWithPhoneNumber",Nt(e,t));if(n.temporaryProof)throw Mt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithPhoneNumber",Nt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Kn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Gn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Qn{constructor(e){var t,n,r,i,s,o;const a=j(R(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);bt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=j(R(e)).link,n=t?j(R(t)).deep_link_id:null,r=j(R(e)).deep_link_id;return(r?j(R(r)).link:null)||r||n||t||e}(e);try{return new Qn(t)}catch(n){return null}}}class Jn{constructor(){this.providerId=Jn.PROVIDER_ID}static credential(e,t){return Hn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Qn.parseLink(t);return bt(n,"argument-error"),Hn._fromEmailAndCode(e,n.code,n.tenantId)}}Jn.PROVIDER_ID="password",Jn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Jn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xn extends Yn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zn extends Xn{constructor(){super("facebook.com")}static credential(e){return $n._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zn.credential(t.oauthAccessToken)}catch(n){return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zn.PROVIDER_ID="facebook.com";class er extends Xn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $n._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return er.credential(n,r)}catch(i){return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com",er.PROVIDER_ID="google.com";class tr extends Xn{constructor(){super("github.com")}static credential(e){return $n._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch(n){return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com",tr.PROVIDER_ID="github.com";class nr extends Xn{constructor(){super("twitter.com")}static credential(e,t){return $n._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return nr.credential(n,r)}catch(i){return null}}}async function rr(e,t){return Ot(e,"POST","/v1/accounts:signUp",Nt(e,t))}nr.TWITTER_SIGN_IN_METHOD="twitter.com",nr.PROVIDER_ID="twitter.com";class ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await en._fromIdTokenResponse(e,n,r),s=sr(n);return new ir({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=sr(n);return new ir({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function sr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class or extends _{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,or.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new or(e,t,n,r)}}function ar(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw or._fromErrorAndOperation(e,n,t,r);throw n}))}async function lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Kt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ir._forOperation(e,"link",r)}async function cr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if($e(r.app))return Promise.reject(yt(r));const i="reauthenticate";try{const s=await Kt(e,ar(r,i,t,e),n);bt(s.idToken,r,"internal-error");const o=$t(s.idToken);bt(o,r,"internal-error");const{sub:a}=o;return bt(e.uid===a,r,"user-mismatch"),ir._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&ft(r,"user-mismatch"),s}}async function ur(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($e(e.app))return Promise.reject(yt(e));const r="signIn",i=await ar(e,r,t),s=await ir._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function dr(e,t){return ur(_n(e),t)}function hr(e,t,n){var r;bt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),bt("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),bt("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(bt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(bt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function pr(e){const t=_n(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fr(e,t,n){const r=_n(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&hr(r,i,n),await Pn(r,i,"getOobCode",Bn,"EMAIL_PASSWORD_PROVIDER")}function gr(e,t,n){return $e(e.app)?Promise.reject(yt(e)):dr(P(e),Jn.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&pr(e),t}))}async function mr(e,t){const n=P(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&hr(n.auth,r,t);const{email:i}=await async function(e,t){return zn(e,t)}(n.auth,r);i!==e.email&&await e.reload()}function yr(e,t,n,r){return P(e).onAuthStateChanged(t,n,r)}function vr(e){return P(e).signOut()}function br(e,t){return At(e,"POST","/v2/accounts/mfaEnrollment:start",Nt(e,t))}new WeakMap;const xr="__sak";class wr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xr,"1"),this.storage.removeItem(xr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Sr extends wr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);yn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sr.type="LOCAL";const _r=Sr;class Er extends wr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Er.type="SESSION";const kr=Er;class Cr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Cr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Cr.receivers=[];class Ir{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Tr("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function jr(){return window}function Rr(){return"undefined"!==typeof jr().WorkerGlobalScope&&"function"===typeof jr().importScripts}const Nr="firebaseLocalStorageDb",Ar="firebaseLocalStorage",Pr="fbase_key";class Or{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Dr(e,t){return e.transaction([Ar],t?"readwrite":"readonly").objectStore(Ar)}function Lr(){const e=indexedDB.open(Nr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ar,{keyPath:Pr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ar)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Nr);return new Or(e).toPromise()}(),t(await Lr()))}))}))}async function Ur(e,t,n){const r=Dr(e,!0).put({[Pr]:t,value:n});return new Or(r).toPromise()}function Mr(e,t){const n=Dr(e,!0).delete(t);return new Or(n).toPromise()}class Fr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Lr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cr._getInstance(Rr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ir(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lr();return await Ur(e,xr,"1"),await Mr(e,xr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ur(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Dr(e,!1).get(t),r=await new Or(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Mr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Dr(e,!1).getAll();return new Or(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fr.type="LOCAL";const Vr=Fr;function zr(e,t){return At(e,"POST","/v2/accounts/mfaSignIn:start",Nt(e,t))}Tn("rcb"),new Ct(3e4,6e4);const Br="recaptcha";async function Hr(e,t,n){var r;if(!e._getRecaptchaConfig())try{await On(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){bt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Pn(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Rn){bt((null===n||void 0===n?void 0:n.type)===Br,e,"argument-error");return br(e,await Wr(e,t,n))}return br(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{bt("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;bt(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Pn(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Rn){bt((null===n||void 0===n?void 0:n.type)===Br,e,"argument-error");return zr(e,await Wr(e,t,n))}return zr(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Pn(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Rn){bt((null===n||void 0===n?void 0:n.type)===Br,e,"argument-error");return qn(e,await Wr(e,t,n))}return qn(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Wr(e,t,n){bt(n.type===Br,e,"argument-error");const r=await n.verify();bt("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class $r{constructor(e){this.providerId=$r.PROVIDER_ID,this.auth=_n(e)}verifyPhoneNumber(e,t){return Hr(this.auth,e,P(t))}static credential(e,t){return Gn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $r.credentialFromTaggedObject(t)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gn._fromTokenResponse(n,r):null}}function qr(e,t){return t?nn(t):(bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$r.PROVIDER_ID="phone",$r.PHONE_SIGN_IN_METHOD="phone";class Kr extends Mn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gr(e){return ur(e.auth,new Kr(e),e.bypassAuthState)}function Qr(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),cr(n,new Kr(e),e.bypassAuthState)}async function Jr(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),lr(n,new Kr(e),e.bypassAuthState)}class Yr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gr;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return Qr;default:ft(this.auth,"internal-error")}}resolve(e){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xr=new Ct(2e3,1e4);class Zr extends Yr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){wt(1===this.filter.length,"Popup operations only handle one event");const e=Tr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(gt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(gt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Xr.get())};e()}}Zr.currentPopupAction=null;const ei=new Map;class ti extends Yr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ei.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ii(t),r=ri(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ei.set(this.auth._key(),e)}return this.bypassAuthState||ei.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ni(e,t){ei.set(e._key(),t)}function ri(e){return nn(e._redirectPersistence)}function ii(e){return on("pendingRedirect",e.config.apiKey,e.name)}async function si(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($e(e.app))return Promise.reject(yt(e));const r=_n(e),i=qr(r,t),s=new ti(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class oi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return li(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!li(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(gt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ai(e))}saveEventToCache(e){this.cachedEventUids.add(ai(e)),this.lastProcessedEventTime=Date.now()}}function ai(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function li(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ci=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ui=/^https?/;async function di(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return At(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(hi(r))return}catch(n){}ft(e,"unauthorized-domain")}function hi(e){const t=St(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ui.test(n))return!1;if(ci.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const pi=new Ct(3e4,6e4);function fi(){const e=jr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function gi(e){return new Promise(((t,n)=>{var r,i,s;function o(){fi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fi(),n(gt(e,"network-request-failed"))},timeout:pi.get()})}if(null===(i=null===(r=jr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=jr().gapi)||void 0===s?void 0:s.load)){const t=Tn("iframefcb");return jr()[t]=()=>{gapi.load?o():n(gt(e,"network-request-failed"))},Cn(`${kn.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw mi=null,e}))}let mi=null;const yi=new Ct(5e3,15e3),vi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xi(e){const t=e.config;bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Tt(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Ge},i=bi.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${I(r).slice(1)}`}async function wi(e){const t=await function(e){return mi=mi||gi(e),mi}(e),n=jr().gapi;return bt(n,e,"internal-error"),t.open({where:document.body,url:xi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vi,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=gt(e,"network-request-failed"),s=jr().setTimeout((()=>{r(i)}),yi.get());function o(){jr().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _i{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ei(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Si),{width:r.toString(),height:i.toString(),top:s,left:o}),c=x().toLowerCase();n&&(a=dn(c)?"_blank":n),cn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return mn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new _i(null);const d=window.open(t||"",a,u);bt(d,e,"popup-blocked");try{d.focus()}catch(h){}return new _i(d)}const ki="__/auth/handler",Ci="emulator/auth/handler",Ti=encodeURIComponent("fac");async function Ii(e,t,n,r,i,s){bt(e.config.authDomain,e,"auth-domain-config-required"),bt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ge,eventId:i};if(t instanceof Yn){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Xn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${Ti}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ki}`;return Tt(t,Ci)}(e)}?${I(a).slice(1)}${c}`}const ji="webStorageSupport";const Ri=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kr,this._completeRedirectFn=si,this._overrideRedirectResult=ni}async _openPopup(e,t,n,r){var i;wt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ei(e,await Ii(e,t,n,St(),r),Tr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){jr().location.href=e}(await Ii(e,t,n,St(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(wt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await wi(e),n=new oi(e);return t.register("authEvent",(t=>{bt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ji,{type:ji},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ji];void 0!==i&&t(!!i),ft(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=di(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vn()||un()||mn()}};var Ni="@firebase/auth",Ai="1.9.1";class Pi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Oi=y("authIdTokenMaxAge")||300;let Di=null;var Li;kn={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=gt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Li="Browser",He(new O("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Li,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(Li)},c=new Sn(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),He(new O("auth-internal",(e=>(e=>new Pi(e))(_n(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(Ni,Ai,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Li)),Ye(Ni,Ai,"esm2017");const Ui="firebasestorage.googleapis.com",Mi="storageBucket";class Fi extends _{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Bi(e),`Firebase Storage: ${t} (${Bi(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bi(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vi,zi;function Bi(e){return"storage/"+e}function Hi(){return new Fi(Vi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Wi(){return new Fi(Vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $i(){return new Fi(Vi.CANCELED,"User canceled the upload/download.")}function qi(){return new Fi(Vi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ki(e){return new Fi(Vi.INVALID_ARGUMENT,e)}function Gi(){return new Fi(Vi.APP_DELETED,"The Firebase app was deleted.")}function Qi(e,t){return new Fi(Vi.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ji(e){throw new Fi(Vi.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Vi||(Vi={}));class Yi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Yi.makeFromUrl(e,t)}catch(i){return new Yi(e,"")}if(""===n.path)return n;throw r=e,new Fi(Vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Ui?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Yi(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Fi(Vi.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Xi{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Zi(e){return"string"===typeof e||e instanceof String}function es(e){return ts()&&e instanceof Blob}function ts(){return"undefined"!==typeof Blob}function ns(e,t,n,r){if(r<t)throw Ki(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ki(`Invalid value for '${e}'. Expected ${n} or less.`)}function rs(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function is(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ss(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(zi||(zi={}));class os{constructor(e,t,n,r,i,s,o,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new as(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===zi.NO_ERROR,i=n.getStatus();if(!t||ss(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===zi.ABORT;return void e(!1,new as(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new as(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Hi();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Gi():$i())}else{r(Wi())}};this.canceled_?t(0,new as(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function h(){s&&clearTimeout(s)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let f=!1;function g(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class as{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ls(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cs(){const e=ls();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(ts())return new Blob(n);throw new Fi(Vi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function us(e){if("undefined"===typeof atob)throw t="base-64",new Fi(Vi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const ds="raw",hs="base64",ps="base64url",fs="data_url";class gs{constructor(e,t){this.data=e,this.contentType=t||null}}function ms(e,t){switch(e){case ds:return new gs(ys(t));case hs:case ps:return new gs(vs(e,t));case fs:return new gs(function(e){const t=new bs(e);return t.base64?vs(hs,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Qi(fs,"Malformed data URL.")}return ys(t)}(t.rest)}(t),new bs(t).contentType)}throw Hi()}function ys(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vs(e,t){switch(e){case hs:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Qi(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ps:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Qi(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=us(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw Qi(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class bs{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Qi(fs,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class xs{constructor(e,t){let n=0,r="";es(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(es(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new xs(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new xs(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(ts()){const e=t.map((e=>e instanceof xs?e.data_:e));return new xs(cs.apply(null,e))}{const e=t.map((e=>Zi(e)?ms(ds,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new xs(r,!0)}}uploadData(){return this.data_}}function ws(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ss(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function _s(e,t){return t}class Es{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||_s}}let ks=null;function Cs(){if(ks)return ks;const e=[];e.push(new Es("bucket")),e.push(new Es("generation")),e.push(new Es("metageneration")),e.push(new Es("name","fullPath",!0));const t=new Es("name");t.xform=function(e,t){return function(e){return!Zi(e)||e.length<2?e:Ss(e)}(t)},e.push(t);const n=new Es("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Es("timeCreated")),e.push(new Es("updated")),e.push(new Es("md5Hash",null,!0)),e.push(new Es("cacheControl",null,!0)),e.push(new Es("contentDisposition",null,!0)),e.push(new Es("contentEncoding",null,!0)),e.push(new Es("contentLanguage",null,!0)),e.push(new Es("contentType",null,!0)),e.push(new Es("metadata","customMetadata",!0)),ks=e,ks}function Ts(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Yi(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Is(e,t,n){const r=ws(t);if(null===r)return null;return Ts(e,r,n)}function js(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Rs{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ns(e){if(!e)throw Hi()}function As(e,t){return function(n,r){const i=Is(e,r,t);return Ns(null!==i),i}}function Ps(e,t){return function(n,r){const i=Is(e,r,t);return Ns(null!==i),function(e,t,n,r){const i=ws(t);if(null===i)return null;if(!Zi(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return rs("/b/"+o(i)+"/o/"+o(s),n,r)+is({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Os(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Fi(Vi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Fi(Vi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Fi(Vi.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Fi(Vi.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Ds(e){const t=Os(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Fi(Vi.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ls(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Us(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=Ls(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+js(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=xs.getBlob(c,r,u);if(null===d)throw qi();const h={name:l.fullPath},p=rs(s,e.host,e._protocol),f=e.maxUploadRetryTime,g=new Rs(p,"POST",As(e,n),f);return g.urlParams=h,g.headers=o,g.body=d.uploadData(),g.errorHandler=Os(t),g}class Ms{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zi.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=zi.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=zi.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Ji("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ji("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ji("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ji("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ji("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Fs extends Ms{initXhr(){this.xhr_.responseType="text"}}function Vs(){return new Fs}class zs{constructor(e,t){this._service=e,this._location=t instanceof Yi?t:Yi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zs(e,t)}get root(){const e=new Yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ss(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Yi(this._location.bucket,e);return new zs(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Fi(Vi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Bs(e,t,n){e._throwIfRoot("uploadBytes");const r=Us(e.storage,e._location,Cs(),new xs(t,!0),n);return e.storage.makeRequestWithTokens(r,Vs).then((t=>({metadata:t,ref:e})))}function Hs(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=rs(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Rs(r,"GET",Ps(e,n),i);return s.errorHandler=Ds(t),s}(e.storage,e._location,Cs());return e.storage.makeRequestWithTokens(t,Vs).then((e=>{if(null===e)throw new Fi(Vi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ws(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=rs(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Rs(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Ds(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Vs)}function $s(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Yi(e._location.bucket,n);return new zs(e.storage,r)}function qs(e,t){if(e instanceof Qs){const n=e;if(null==n._bucket)throw new Fi(Vi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mi+"' property when initializing the app?");const r=new zs(n,n._bucket);return null!=t?qs(r,t):r}return void 0!==t?$s(e,t):e}function Ks(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Qs)return new zs(e,t);throw Ki("To use ref(service, url), the first argument must be a Storage instance.")}return qs(e,t)}function Gs(e,t){const n=null===t||void 0===t?void 0:t[Mi];return null==n?null:Yi.makeFromBucketSpec(n,e)}class Qs{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Ui,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Yi.makeFromBucketSpec(r,this._host):Gs(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Yi.makeFromBucketSpec(this._url,e):this._bucket=Gs(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ns("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ns("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if($e(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zs(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Xi(Gi());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=is(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new os(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Js="@firebase/storage",Ys="0.13.7",Xs="storage";function Zs(e,t,n){return Bs(e=P(e),t,n)}function eo(e){return Hs(e=P(e))}function to(e,t){return Ks(e=P(e),t)}function no(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Qs(r,i,s,n,Ge)}He(new O(Xs,no,"PUBLIC").setMultipleInstances(!0)),Ye(Js,Ys,""),Ye(Js,Ys,"esm2017");Ye("firebase","11.4.0","app");var ro,io,so="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},oo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=p(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=p(e,c)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,p=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=p*m,f(n,2*i+2*s),n[2*i+2*s+1]+=l*m,f(n,2*i+2*s+1),n[2*i+2*s+1]+=p*g,f(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,f(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,io=oo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},ro=oo.Integer=r}).apply("undefined"!==typeof so?so:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ao,lo,co,uo,ho,po,fo,go,mo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof mo&&mo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(N)}};var N=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){_(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function A(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),M=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),$={};function q(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=te(n),e&&e[U]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[U]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[U]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[U])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):V(e)}}}function Y(e){return e in $?$[e]:$[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;w(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[U]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}fe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var xe={},we=null;function Se(){return we=we||new ne}function _e(e){P.call(this,xe.La,e)}function Ee(e){const t=Se();re(t,new _e(t))}function ke(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Se();re(t,new ke(t,e))}function Te(e,t){P.call(this,xe.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function je(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(_e,P),xe.STAT_EVENT="statevent",d(ke,P),xe.Ma="timingevent",d(Te,P),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ne,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,fe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ne=new Oe;var Ue={},Me={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=q(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?Ue:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function $e(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&($e(a),He(a)),r.g=o}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==$t(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=$t(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||Ee(),$e(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=qt(this.g);e="";var s=r.length,o=4==$t(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ke(this),qe(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Me){4==h&&(this.s=4,Ce(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ue){this.s=4,Ce(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,Ce(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Re(this.i,this.l,a,null),Ge(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=$t(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),qe(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Ce(17)),Ke(this),this.s=2,qe(this)):We(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,xt)),e.join("")};var gt,mt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){St(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return St(e),t=Ct(e,t),e.g.has(t)}function kt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new pe}function jt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ut(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){St(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Et(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,fe),Rt.prototype.g=function(){return new Nt(this.l,this.j)},Rt.prototype.i=(gt={},function(){return gt}),d(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Ot(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ut,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=$t(e)||2!=e.Z()))if(e.u&&4==$t(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==$t(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Mt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<$t(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Wt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function $t(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(vo){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Yt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||R(),I||(T(),I=!0),j.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{jt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||R(),I||(T(),I=!0),j.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Te(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ut(new Rt({eb:n})):new Ut(e.pa)).Ha(e.J),t}function fn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ut.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?ge(this.o):ge(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Jt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,go=yo.createWebChannelTransport=function(){return new gn},fo=yo.getStatEventTarget=function(){return Se()},po=yo.Event=xe,ho=yo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,uo=yo.ErrorCode=Ae,Pe.COMPLETE="complete",co=yo.EventType=Pe,me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,lo=yo.WebChannel=me,yo.FetchXmlHttpFactory=Rt,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,ao=yo.XhrIo=Ut}).apply("undefined"!==typeof mo?mo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const vo="@firebase/firestore",bo="4.7.9";class xo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xo.UNAUTHENTICATED=new xo(null),xo.GOOGLE_CREDENTIALS=new xo("google-credentials-uid"),xo.FIRST_PARTY=new xo("first-party-uid"),xo.MOCK_USER=new xo("mock-user");let wo="11.4.0";const So=new W("@firebase/firestore");function _o(){return So.logLevel}function Eo(e){if(So.logLevel<=F.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(To);So.debug(`Firestore (${wo}): ${e}`,...i)}}function ko(e){if(So.logLevel<=F.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(To);So.error(`Firestore (${wo}): ${e}`,...i)}}function Co(e){if(So.logLevel<=F.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(To);So.warn(`Firestore (${wo}): ${e}`,...i)}}function To(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Io(){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ko(e),new Error(e)}function jo(e,t){e||Io()}function Ro(e,t){return e}const No={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ao extends _{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Po{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Oo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Do{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xo.UNAUTHENTICATED)))}shutdown(){}}class Lo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Uo{constructor(e){this.t=e,this.currentUser=xo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jo(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Po,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Eo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Eo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Po)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Eo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(jo("string"==typeof t.accessToken),new Oo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jo(null===e||"string"==typeof e),new xo(e)}}class Mo{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=xo.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fo{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Mo(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(xo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zo{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,$e(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){jo(void 0===this.o);const n=e=>{null!=e.error&&Eo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Eo("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Eo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Eo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Vo(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(jo("string"==typeof e.token),this.R=e.token,new Vo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Bo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ho{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Bo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Wo(e,t){return e<t?-1:e>t?1:0}function $o(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const qo=-62135596800,Ko=1e6;class Go{static now(){return Go.fromMillis(Date.now())}static fromDate(e){return Go.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ko);return new Go(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ao(No.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ao(No.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qo)throw new Ao(No.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ao(No.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ko}_compareTo(e){return this.seconds===e.seconds?Wo(this.nanoseconds,e.nanoseconds):Wo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qo{static fromTimestamp(e){return new Qo(e)}static min(){return new Qo(new Go(0,0))}static max(){return new Qo(new Go(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jo="__name__";class Yo{constructor(e,t,n){void 0===t?t=0:t>e.length&&Io(),void 0===n?n=e.length-t:n>e.length-t&&Io(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Yo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Yo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Yo.isNumericId(e),r=Yo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Yo.extractNumericId(e).compare(Yo.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class Xo extends Yo{construct(e,t,n){return new Xo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ao(No.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Xo(e)}static emptyPath(){return new Xo([])}}const Zo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ea extends Yo{construct(e,t,n){return new ea(e,t,n)}static isValidIdentifier(e){return Zo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ea.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Jo}static keyField(){return new ea([Jo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ao(No.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ao(No.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ao(No.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ao(No.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ea(t)}static emptyPath(){return new ea([])}}class ta{constructor(e){this.path=e}static fromPath(e){return new ta(Xo.fromString(e))}static fromName(e){return new ta(Xo.fromString(e).popFirst(5))}static empty(){return new ta(Xo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ta(new Xo(e.slice()))}}const na=-1;class ra{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ra.UNKNOWN_ID=-1;function ia(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qo.fromTimestamp(1e9===r?new Go(n+1,0):new Go(n,r));return new oa(i,ta.empty(),t)}function sa(e){return new oa(e.readTime,e.key,na)}class oa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new oa(Qo.min(),ta.empty(),na)}static max(){return new oa(Qo.max(),ta.empty(),na)}}function aa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ta.comparator(e.documentKey,t.documentKey),0!==n?n:Wo(e.largestBatchId,t.largestBatchId))}const la="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ca{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ua(e){if(e.code!==No.FAILED_PRECONDITION||e.message!==la)throw e;Eo("LocalStore","Unexpectedly lost primary lease")}class da{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Io(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new da(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof da?t:da.resolve(t)}catch(e){return da.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):da.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):da.reject(t)}static resolve(e){return new da(((t,n)=>{t(e)}))}static reject(e){return new da(((t,n)=>{n(e)}))}static waitFor(e){return new da(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=da.resolve(!1);for(const n of e)t=t.next((e=>e?da.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new da(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new da(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ha(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(e){return"IndexedDbTransactionError"===e.name}class fa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fa.ae=-1;const ga=-1;function ma(e){return null==e}function ya(e){return 0===e&&1/e==-1/0}function va(e){return"number"==typeof e&&Number.isInteger(e)&&!ya(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ba="\x01";function xa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Sa(t)),t=wa(e.get(n),t);return Sa(t)}function wa(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ba:n+="\x01\x11";break;default:n+=t}}return n}function Sa(e){return e+ba+"\x01"}const _a="remoteDocuments",Ea="owner",ka="mutationQueues",Ca="mutations";const Ta="documentMutations",Ia="remoteDocumentsV14",ja="remoteDocumentGlobal",Ra="targets",Na="targetDocuments",Aa="targetGlobal",Pa="collectionParents",Oa="clientMetadata",Da="bundles",La="namedQueries",Ua="indexConfiguration",Ma="indexState",Fa="indexEntries",Va="documentOverlays",za="globals",Ba=[ka,Ca,Ta,_a,Ra,Ea,Aa,Na,Oa,ja,Pa,Da,La],Ha=[ka,Ca,Ta,Ia,Ra,Ea,Aa,Na,Oa,ja,Pa,Da,La,Va],Wa=Ha,$a=[...Wa,Ua,Ma,Fa];function qa(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ka(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ga(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Qa{constructor(e,t){this.comparator=e,this.root=t||Ya.EMPTY}insert(e,t){return new Qa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ya.BLACK,null,null))}remove(e){return new Qa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ya.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ja(this.root,e,this.comparator,!0)}}class Ja{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ya{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ya.RED,this.left=null!=r?r:Ya.EMPTY,this.right=null!=i?i:Ya.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ya(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ya.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ya.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ya.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ya.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Io();if(this.right.isRed())throw Io();const e=this.left.check();if(e!==this.right.check())throw Io();return e+(this.isRed()?0:1)}}Ya.EMPTY=null,Ya.RED=!0,Ya.BLACK=!1,Ya.EMPTY=new class{constructor(){this.size=0}get key(){throw Io()}get value(){throw Io()}get color(){throw Io()}get left(){throw Io()}get right(){throw Io()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ya(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xa{constructor(e){this.comparator=e,this.data=new Qa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Za(this.data.getIterator())}getIteratorFrom(e){return new Za(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Xa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xa(this.comparator);return t.data=e,t}}class Za{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class el{constructor(e){this.fields=e,e.sort(ea.comparator)}static empty(){return new el([])}unionWith(e){let t=new Xa(ea.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new el(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class tl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new tl("Invalid base64 string: "+e):e}}(e);return new nl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new nl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nl.EMPTY_BYTE_STRING=new nl("");const rl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(e){if(jo(!!e),"string"==typeof e){let t=0;const n=rl.exec(e);if(jo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:sl(e.seconds),nanos:sl(e.nanos)}}function sl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ol(e){return"string"==typeof e?nl.fromBase64String(e):nl.fromUint8Array(e)}const al="server_timestamp",ll="__type__",cl="__previous_value__",ul="__local_write_time__";function dl(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ll])||void 0===n?void 0:n.stringValue)===al}function hl(e){const t=e.mapValue.fields[cl];return dl(t)?hl(t):t}function pl(e){const t=il(e.mapValue.fields[ul].timestampValue);return new Go(t.seconds,t.nanos)}class fl{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}const gl="(default)";class ml{constructor(e,t){this.projectId=e,this.database=t||gl}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database===gl}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}const yl="__type__",vl="__max__",bl={mapValue:{fields:{__type__:{stringValue:vl}}}},xl="__vector__",wl="value";function Sl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dl(e)?4:Fl(e)?9007199254740991:Ul(e)?10:11:Io()}function _l(e,t){if(e===t)return!0;const n=Sl(e);if(n!==Sl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pl(e).isEqual(pl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=il(e.timestampValue),r=il(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ol(e.bytesValue).isEqual(ol(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sl(e.geoPointValue.latitude)===sl(t.geoPointValue.latitude)&&sl(e.geoPointValue.longitude)===sl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sl(e.integerValue)===sl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=sl(e.doubleValue),r=sl(t.doubleValue);return n===r?ya(n)===ya(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $o(e.arrayValue.values||[],t.arrayValue.values||[],_l);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qa(n)!==qa(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_l(n[i],r[i])))return!1;return!0}(e,t);default:return Io()}}function El(e,t){return void 0!==(e.values||[]).find((e=>_l(e,t)))}function kl(e,t){if(e===t)return 0;const n=Sl(e),r=Sl(t);if(n!==r)return Wo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=sl(e.integerValue||e.doubleValue),r=sl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cl(e.timestampValue,t.timestampValue);case 4:return Cl(pl(e),pl(t));case 5:return Wo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ol(e),r=ol(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Wo(n[i],r[i]);if(0!==e)return e}return Wo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Wo(sl(e.latitude),sl(t.latitude));return 0!==n?n:Wo(sl(e.longitude),sl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Tl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[wl])||void 0===n?void 0:n.arrayValue,c=null===(r=a[wl])||void 0===r?void 0:r.arrayValue,u=Wo((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Tl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bl.mapValue&&t===bl.mapValue)return 0;if(e===bl.mapValue)return 1;if(t===bl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Wo(r[o],s[o]);if(0!==e)return e;const t=kl(n[r[o]],i[s[o]]);if(0!==t)return t}return Wo(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Io()}}function Cl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wo(e,t);const n=il(e),r=il(t),i=Wo(n.seconds,r.seconds);return 0!==i?i:Wo(n.nanos,r.nanos)}function Tl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kl(n[i],r[i]);if(e)return e}return Wo(n.length,r.length)}function Il(e){return jl(e)}function jl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=il(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ol(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ta.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=jl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${jl(e.fields[i])}`;return n+"}"}(e.mapValue):Io()}function Rl(e){switch(Sl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hl(e);return t?16+Rl(t):16;case 5:return 2*e.stringValue.length;case 6:return ol(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Rl(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ka(e.fields,((e,n)=>{t+=e.length+Rl(n)})),t}(e.mapValue);default:throw Io()}}function Nl(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Al(e){return!!e&&"integerValue"in e}function Pl(e){return!!e&&"arrayValue"in e}function Ol(e){return!!e&&"nullValue"in e}function Dl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ll(e){return!!e&&"mapValue"in e}function Ul(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[yl])||void 0===n?void 0:n.stringValue)===xl}function Ml(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ka(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ml(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ml(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Fl(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vl}class Vl{constructor(e){this.value=e}static empty(){return new Vl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(t)}setAll(e){let t=ea.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ml(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ll(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ka(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vl(Ml(this.value))}}function zl(e){const t=[];return Ka(e.fields,((e,n)=>{const r=new ea([e]);if(Ll(n)){const e=zl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new el(t)}class Bl{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Bl(e,0,Qo.min(),Qo.min(),Qo.min(),Vl.empty(),0)}static newFoundDocument(e,t,n,r){return new Bl(e,1,t,Qo.min(),n,r,0)}static newNoDocument(e,t){return new Bl(e,2,t,Qo.min(),Qo.min(),Vl.empty(),0)}static newUnknownDocument(e,t){return new Bl(e,3,t,Qo.min(),Qo.min(),Vl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hl{constructor(e,t){this.position=e,this.inclusive=t}}function Wl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ta.comparator(ta.fromName(o.referenceValue),n.key):kl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $l(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_l(e.position[n],t.position[n]))return!1;return!0}class ql{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Gl{}class Ql extends Gl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rc(e,t,n):"array-contains"===t?new ac(e,n):"in"===t?new lc(e,n):"not-in"===t?new cc(e,n):"array-contains-any"===t?new uc(e,n):new Ql(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ic(e,n):new sc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kl(t,this.value)):null!==t&&Sl(this.value)===Sl(t)&&this.matchesComparison(kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Io()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jl extends Gl{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Jl(e,t)}matches(e){return Yl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Yl(e){return"and"===e.op}function Xl(e){return Zl(e)&&Yl(e)}function Zl(e){for(const t of e.filters)if(t instanceof Jl)return!1;return!0}function ec(e){if(e instanceof Ql)return e.field.canonicalString()+e.op.toString()+Il(e.value);if(Xl(e))return e.filters.map((e=>ec(e))).join(",");{const t=e.filters.map((e=>ec(e))).join(",");return`${e.op}(${t})`}}function tc(e,t){return e instanceof Ql?function(e,t){return t instanceof Ql&&e.op===t.op&&e.field.isEqual(t.field)&&_l(e.value,t.value)}(e,t):e instanceof Jl?function(e,t){return t instanceof Jl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&tc(n,t.filters[r])),!0)}(e,t):void Io()}function nc(e){return e instanceof Ql?function(e){return`${e.field.canonicalString()} ${e.op} ${Il(e.value)}`}(e):e instanceof Jl?function(e){return e.op.toString()+" {"+e.getFilters().map(nc).join(" ,")+"}"}(e):"Filter"}class rc extends Ql{constructor(e,t,n){super(e,t,n),this.key=ta.fromName(n.referenceValue)}matches(e){const t=ta.comparator(e.key,this.key);return this.matchesComparison(t)}}class ic extends Ql{constructor(e,t){super(e,"in",t),this.keys=oc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sc extends Ql{constructor(e,t){super(e,"not-in",t),this.keys=oc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ta.fromName(e.referenceValue)))}class ac extends Ql{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pl(t)&&El(t.arrayValue,this.value)}}class lc extends Ql{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&El(this.value.arrayValue,t)}}class cc extends Ql{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!El(this.value.arrayValue,t)}}class uc extends Ql{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>El(this.value.arrayValue,e)))}}class dc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.le=null}}function hc(e){return new dc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pc(e){const t=Ro(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ec(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ma(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Il(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Il(e))).join(",")),t.le=e}return t.le}function fc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$l(e.startAt,t.startAt)&&$l(e.endAt,t.endAt)}function gc(e){return ta.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class mc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yc(e,t,n,r,i,s,o,a){return new mc(e,t,n,r,i,s,o,a)}function vc(e){return new mc(e)}function bc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xc(e){return null!==e.collectionGroup}function wc(e){const t=Ro(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Xa(ea.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new ql(r,n))})),e.has(ea.keyField().canonicalString())||t.he.push(new ql(ea.keyField(),n))}return t.he}function Sc(e){const t=Ro(e);return t.Pe||(t.Pe=_c(t,wc(e))),t.Pe}function _c(e,t){if("F"===e.limitType)return hc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ql(e.field,t)}));const n=e.endAt?new Hl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hl(e.startAt.position,e.startAt.inclusive):null;return hc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ec(e,t){const n=e.filters.concat([t]);return new mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function kc(e,t,n){return new mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return fc(Sc(e),Sc(t))&&e.limitType===t.limitType}function Tc(e){return`${pc(Sc(e))}|lt:${e.limitType}`}function Ic(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>nc(e))).join(", ")}]`),ma(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Il(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Il(e))).join(",")),`Target(${t})`}(Sc(e))}; limitType=${e.limitType})`}function jc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ta.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Wl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Wl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wc(e),t))}(e,t)}function Rc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nc(e){return(t,n)=>{let r=!1;for(const i of wc(e)){const e=Ac(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ac(e,t,n){const r=e.field.isKeyField()?ta.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kl(r,i):Io()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Io()}}class Pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ga(this.inner)}size(){return this.innerSize}}const Oc=new Qa(ta.comparator);function Dc(){return Oc}const Lc=new Qa(ta.comparator);function Uc(){let e=Lc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Mc(e){let t=Lc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Fc(){return zc()}function Vc(){return zc()}function zc(){return new Pc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Bc=new Qa(ta.comparator),Hc=new Xa(ta.comparator);function Wc(){let e=Hc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const $c=new Xa(Wo);function qc(){return $c}function Kc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ya(t)?"-0":t}}function Gc(e){return{integerValue:""+e}}function Qc(e,t){return va(t)?Gc(t):Kc(e,t)}class Jc{constructor(){this._=void 0}}function Yc(e,t,n){return e instanceof eu?function(e,t){const n={fields:{[ll]:{stringValue:al},[ul]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dl(t)&&(t=hl(t)),t&&(n.fields[cl]=t),{mapValue:n}}(n,t):e instanceof tu?nu(e,t):e instanceof ru?iu(e,t):function(e,t){const n=Zc(e,t),r=ou(n)+ou(e.Ie);return Al(n)&&Al(e.Ie)?Gc(r):Kc(e.serializer,r)}(e,t)}function Xc(e,t,n){return e instanceof tu?nu(e,t):e instanceof ru?iu(e,t):n}function Zc(e,t){return e instanceof su?function(e){return Al(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class eu extends Jc{}class tu extends Jc{constructor(e){super(),this.elements=e}}function nu(e,t){const n=au(t);for(const r of e.elements)n.some((e=>_l(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ru extends Jc{constructor(e){super(),this.elements=e}}function iu(e,t){let n=au(t);for(const r of e.elements)n=n.filter((e=>!_l(e,r)));return{arrayValue:{values:n}}}class su extends Jc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ou(e){return sl(e.integerValue||e.doubleValue)}function au(e){return Pl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lu{constructor(e,t){this.field=e,this.transform=t}}class cu{constructor(e,t){this.version=e,this.transformResults=t}}class uu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uu}static exists(e){return new uu(void 0,e)}static updateTime(e){return new uu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hu{}function pu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _u(e.key,uu.none()):new vu(e.key,e.data,uu.none());{const n=e.data,r=Vl.empty();let i=new Xa(ea.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new bu(e.key,r,new el(i.toArray()),uu.none())}}function fu(e,t,n){e instanceof vu?function(e,t,n){const r=e.value.clone(),i=wu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bu?function(e,t,n){if(!du(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gu(e,t,n,r){return e instanceof vu?function(e,t,n,r){if(!du(e.precondition,t))return n;const i=e.value.clone(),s=Su(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bu?function(e,t,n,r){if(!du(e.precondition,t))return n;const i=Su(e.fieldTransforms,r,t),s=t.data;return s.setAll(xu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return du(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function mu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Zc(r.transform,e||null);null!=i&&(null===n&&(n=Vl.empty()),n.set(r.field,i))}return n||null}function yu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$o(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof tu&&t instanceof tu||e instanceof ru&&t instanceof ru?$o(e.elements,t.elements,_l):e instanceof su&&t instanceof su?_l(e.Ie,t.Ie):e instanceof eu&&t instanceof eu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vu extends hu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bu extends hu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function wu(e,t,n){const r=new Map;jo(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Xc(o,a,n[i]))}return r}function Su(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Yc(e,s,t))}return r}class _u extends hu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eu extends hu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ku{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&fu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vc();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=pu(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Qo.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wc())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,((e,t)=>yu(e,t)))&&$o(this.baseMutations,e.baseMutations,((e,t)=>yu(e,t)))}}class Cu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){jo(e.mutations.length===n.length);let r=Bc;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Cu(e,t,n,r)}}class Tu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Iu{constructor(e,t){this.count=e,this.unchangedNames=t}}var ju,Ru;function Nu(e){switch(e){case No.OK:return Io();case No.CANCELLED:case No.UNKNOWN:case No.DEADLINE_EXCEEDED:case No.RESOURCE_EXHAUSTED:case No.INTERNAL:case No.UNAVAILABLE:case No.UNAUTHENTICATED:return!1;case No.INVALID_ARGUMENT:case No.NOT_FOUND:case No.ALREADY_EXISTS:case No.PERMISSION_DENIED:case No.FAILED_PRECONDITION:case No.ABORTED:case No.OUT_OF_RANGE:case No.UNIMPLEMENTED:case No.DATA_LOSS:return!0;default:return Io()}}function Au(e){if(void 0===e)return ko("GRPC error has no .code"),No.UNKNOWN;switch(e){case ju.OK:return No.OK;case ju.CANCELLED:return No.CANCELLED;case ju.UNKNOWN:return No.UNKNOWN;case ju.DEADLINE_EXCEEDED:return No.DEADLINE_EXCEEDED;case ju.RESOURCE_EXHAUSTED:return No.RESOURCE_EXHAUSTED;case ju.INTERNAL:return No.INTERNAL;case ju.UNAVAILABLE:return No.UNAVAILABLE;case ju.UNAUTHENTICATED:return No.UNAUTHENTICATED;case ju.INVALID_ARGUMENT:return No.INVALID_ARGUMENT;case ju.NOT_FOUND:return No.NOT_FOUND;case ju.ALREADY_EXISTS:return No.ALREADY_EXISTS;case ju.PERMISSION_DENIED:return No.PERMISSION_DENIED;case ju.FAILED_PRECONDITION:return No.FAILED_PRECONDITION;case ju.ABORTED:return No.ABORTED;case ju.OUT_OF_RANGE:return No.OUT_OF_RANGE;case ju.UNIMPLEMENTED:return No.UNIMPLEMENTED;case ju.DATA_LOSS:return No.DATA_LOSS;default:return Io()}}(Ru=ju||(ju={}))[Ru.OK=0]="OK",Ru[Ru.CANCELLED=1]="CANCELLED",Ru[Ru.UNKNOWN=2]="UNKNOWN",Ru[Ru.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ru[Ru.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ru[Ru.NOT_FOUND=5]="NOT_FOUND",Ru[Ru.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ru[Ru.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ru[Ru.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ru[Ru.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ru[Ru.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ru[Ru.ABORTED=10]="ABORTED",Ru[Ru.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ru[Ru.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ru[Ru.INTERNAL=13]="INTERNAL",Ru[Ru.UNAVAILABLE=14]="UNAVAILABLE",Ru[Ru.DATA_LOSS=15]="DATA_LOSS";let Pu=null;function Ou(){return new TextEncoder}const Du=new ro([4294967295,4294967295],0);function Lu(e){const t=Ou().encode(e),n=new io;return n.update(t),new Uint8Array(n.digest())}function Uu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ro([n,r],0),new ro([i,s],0)]}class Mu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Fu(`Invalid padding: ${t}`);if(n<0)throw new Fu(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Fu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Fu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ro.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(ro.fromNumber(n)));return 1===r.compare(Du)&&(r=new ro([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Lu(e),[n,r]=Uu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Mu(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=Lu(e),[n,r]=Uu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vu(Qo.min(),r,new Qa(Wo),Dc(),Wc())}}class zu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new zu(n,t,Wc(),Wc(),Wc())}}class Bu{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Hu{constructor(e,t){this.targetId=e,this.ge=t}}class Wu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class $u{constructor(){this.pe=0,this.ye=Gu(),this.we=nl.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Wc(),t=Wc(),n=Wc();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Io()}})),new zu(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=Gu()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jo(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class qu{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Dc(),this.$e=Ku(),this.Ke=Ku(),this.Ue=new Qa(Wo)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Io()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(gc(i))if(0===n){const e=new ta(i.path);this.ze(t,e,Bl.newNoDocument(e,Qo.min()))}else jo(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==Pu||Pu.rt(function(e,t,n,r,i){var s,o,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ol(n).toUint8Array()}catch(e){if(e instanceof tl)return Co("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Mu(s,r,i)}catch(e){return Co(e instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ee?null:o}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&gc(i.target)){const t=new ta(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Bl.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Wc();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Vu(e,t,this.Ue,this.Qe,n);return this.Qe=Dc(),this.$e=Ku(),this.Ke=Ku(),this.Ue=new Qa(Wo),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new $u,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Xa(Wo),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Xa(Wo),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Eo("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $u),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ku(){return new Qa(ta.comparator)}function Gu(){return new Qa(ta.comparator)}const Qu={asc:"ASCENDING",desc:"DESCENDING"},Ju={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yu={and:"AND",or:"OR"};class Xu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zu(e,t){return e.useProto3Json||ma(t)?t:{value:t}}function ed(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function td(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nd(e,t){return ed(e,t.toTimestamp())}function rd(e){return jo(!!e),Qo.fromTimestamp(function(e){const t=il(e);return new Go(t.seconds,t.nanos)}(e))}function id(e,t){return sd(e,t).canonicalString()}function sd(e,t){const n=function(e){return new Xo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function od(e){const t=Xo.fromString(e);return jo(Cd(t)),t}function ad(e,t){return id(e.databaseId,t.path)}function ld(e,t){const n=od(t);if(n.get(1)!==e.databaseId.projectId)throw new Ao(No.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ao(No.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ta(hd(n))}function cd(e,t){return id(e.databaseId,t)}function ud(e){const t=od(e);return 4===t.length?Xo.emptyPath():hd(t)}function dd(e){return new Xo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hd(e){return jo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pd(e,t,n){return{name:ad(e,t),fields:n.value.mapValue.fields}}function fd(e,t){let n;if(t instanceof vu)n={update:pd(e,t.key,t.value)};else if(t instanceof _u)n={delete:ad(e,t.key)};else if(t instanceof bu)n={update:pd(e,t.key,t.data),updateMask:kd(t.fieldMask)};else{if(!(t instanceof Eu))return Io();n={verify:ad(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof eu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ru)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof su)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Io()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Io()}(e,t.precondition)),n}function gd(e,t){return{documents:[cd(e,t.path)]}}function md(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cd(e,i);const s=function(e){if(0!==e.length)return Ed(Jl.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Sd(e.field),direction:bd(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zu(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function yd(e){let t=ud(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=vd(e);return t instanceof Jl&&Xl(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ql(_d(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ma(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hl(n,t)}(n.endAt)),yc(t,i,o,s,a,"F",l,c)}function vd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_d(e.unaryFilter.field);return Ql.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_d(e.unaryFilter.field);return Ql.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_d(e.unaryFilter.field);return Ql.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_d(e.unaryFilter.field);return Ql.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Io()}}(e):void 0!==e.fieldFilter?function(e){return Ql.create(_d(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Io()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jl.create(e.compositeFilter.filters.map((e=>vd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Io()}}(e.compositeFilter.op))}(e):Io()}function bd(e){return Qu[e]}function xd(e){return Ju[e]}function wd(e){return Yu[e]}function Sd(e){return{fieldPath:e.canonicalString()}}function _d(e){return ea.fromServerFormat(e.fieldPath)}function Ed(e){return e instanceof Ql?function(e){if("=="===e.op){if(Dl(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NAN"}};if(Ol(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dl(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NOT_NAN"}};if(Ol(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sd(e.field),op:xd(e.op),value:e.value}}}(e):e instanceof Jl?function(e){const t=e.getFilters().map((e=>Ed(e)));return 1===t.length?t[0]:{compositeFilter:{op:wd(e.op),filters:t}}}(e):Io()}function kd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Cd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Td{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qo.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qo.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Id{constructor(e){this.Tt=e}}function jd(e){const t=yd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kc(t,t.limit,"L"):t}class Rd{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(sl(e.integerValue));else if("doubleValue"in e){const n=sl(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),ya(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=il(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(ol(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Fl(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Ul(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Io()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=wl,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(sl(o)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),ta.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Rd.xt=new Rd;class Nd{constructor(){this.Tn=new Ad}addToCollectionParentIndex(e,t){return this.Tn.add(t),da.resolve()}getCollectionParents(e,t){return da.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return da.resolve()}deleteFieldIndex(e,t){return da.resolve()}deleteAllFieldIndexes(e){return da.resolve()}createTargetIndexes(e,t){return da.resolve()}getDocumentsMatchingTarget(e,t){return da.resolve(null)}getIndexType(e,t){return da.resolve(0)}getFieldIndexes(e,t){return da.resolve([])}getNextCollectionGroupToUpdate(e){return da.resolve(null)}getMinOffset(e,t){return da.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,t){return da.resolve(oa.min())}updateCollectionGroup(e,t,n){return da.resolve()}updateIndexEntries(e,t){return da.resolve()}}class Ad{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xa(Xo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Xa(Xo.comparator)).toArray()}}new Uint8Array(0);const Pd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Od=41943040;class Dd{static withCacheSize(e){return new Dd(e,Dd.DEFAULT_COLLECTION_PERCENTILE,Dd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Dd.DEFAULT_COLLECTION_PERCENTILE=10,Dd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dd.DEFAULT=new Dd(Od,Dd.DEFAULT_COLLECTION_PERCENTILE,Dd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dd.DISABLED=new Dd(-1,0,0);class Ld{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ld(0)}static Un(){return new Ld(-1)}}const Ud="LruGarbageCollector",Md=1048576;function Fd(e,t){let[n,r]=e,[i,s]=t;const o=Wo(n,i);return 0===o?Wo(r,s):o}class Vd{constructor(e){this.Hn=e,this.buffer=new Xa(Fd),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Fd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zd{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Eo(Ud,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){pa(e)?Eo(Ud,"Ignoring IndexedDB error during garbage collection: ",e):await ua(e)}await this.er(3e5)}))}}class Bd{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return da.resolve(fa.ae);const n=new Vd(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Eo("LruGarbageCollector","Garbage collection skipped; disabled"),da.resolve(Pd)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Eo("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pd):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Eo("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),_o()<=F.DEBUG&&Eo("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),da.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Hd(e,t){return new Bd(e,t)}class Wd{constructor(){this.changes=new Pc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?da.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $d{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&gu(n.mutation,e,el.empty(),Go.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wc();const r=Fc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Uc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Fc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Dc();const s=zc(),o=zc();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof bu)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),gu(o.mutation,t,o.mutation.getFieldMask(),Go.now())):s.set(t.key,el.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new $d(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=zc();let r=new Qa(((e,t)=>e-t)),i=Wc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||el.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Wc()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Vc();l.forEach((e=>{if(!i.has(e)){const r=pu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return da.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ta.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):da.resolve(Fc());let o=na,a=i;return s.next((t=>da.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?da.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Wc()))).next((e=>({batchId:o,changes:Mc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ta(t)).next((e=>{let t=Uc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Uc();return this.indexManager.getCollectionParents(e,i).next((o=>da.forEach(o,(o=>{const a=function(e,t){return new mc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bl.newInvalidDocument(r)))}));let n=Uc();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&gu(s.mutation,r,el.empty(),Go.now()),jc(t,r)&&(n=n.insert(e,r))})),n}))}}class Kd{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return da.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:rd(e.createTime)}}(t)),da.resolve()}getNamedQuery(e,t){return da.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:jd(e.bundledQuery),readTime:rd(e.readTime)}}(t)),da.resolve()}}class Gd{constructor(){this.overlays=new Qa(ta.comparator),this.Rr=new Map}getOverlay(e,t){return da.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fc();return da.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),da.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),da.resolve()}getOverlaysForCollection(e,t,n){const r=Fc(),i=t.length+1,s=new ta(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return da.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Qa(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Fc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Fc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return da.resolve(o)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Tu(t,n));let i=this.Rr.get(t);void 0===i&&(i=Wc(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Qd{constructor(){this.sessionToken=nl.EMPTY_BYTE_STRING}getSessionToken(e){return da.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,da.resolve()}}class Jd{constructor(){this.Vr=new Xa(Yd.mr),this.gr=new Xa(Yd.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Yd(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Yd(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new ta(new Xo([])),n=new Yd(t,e),r=new Yd(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ta(new Xo([])),n=new Yd(t,e),r=new Yd(t,e+1);let i=Wc();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Yd(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Yd{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ta.comparator(e.key,t.key)||Wo(e.Cr,t.Cr)}static pr(e,t){return Wo(e.Cr,t.Cr)||ta.comparator(e.key,t.key)}}class Xd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Xa(Yd.mr)}checkEmpty(e){return da.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ku(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Mr=this.Mr.add(new Yd(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return da.resolve(s)}lookupMutationBatch(e,t){return da.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return da.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return da.resolve(0===this.mutationQueue.length?ga:this.Fr-1)}getAllMutationBatches(e){return da.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yd(t,0),r=new Yd(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),da.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xa(Wo);return t.forEach((e=>{const t=new Yd(e,0),r=new Yd(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),da.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ta.isDocumentKey(i)||(i=i.child(""));const s=new Yd(new ta(i),0);let o=new Xa(Wo);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Cr)),!0)}),s),da.resolve(this.Br(o))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){jo(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return da.forEach(t.mutations,(r=>{const i=new Yd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Yd(t,0),r=this.Mr.firstAfterOrEqual(n);return da.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,da.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zd{constructor(e){this.kr=e,this.docs=new Qa(ta.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return da.resolve(n?n.document.mutableCopy():Bl.newInvalidDocument(t))}getEntries(e,t){let n=Dc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bl.newInvalidDocument(e))})),da.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Dc();const s=t.path,o=new ta(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||aa(sa(o),n)<=0||(r.has(o.key)||jc(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return da.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Io()}qr(e,t){return da.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new eh(this)}getSize(e){return da.resolve(this.size)}}class eh extends Wd{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),da.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class th{constructor(e){this.persistence=e,this.Qr=new Pc((e=>pc(e)),fc),this.lastRemoteSnapshotVersion=Qo.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Jd,this.targetCount=0,this.Ur=Ld.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),da.resolve()}getLastRemoteSnapshotVersion(e){return da.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return da.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),da.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),da.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ld(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,da.resolve()}updateTargetData(e,t){return this.zn(t),da.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,da.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),da.waitFor(i).next((()=>r))}getTargetCount(e){return da.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return da.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),da.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),da.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),da.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return da.resolve(n)}containsKey(e,t){return da.resolve(this.Kr.containsKey(t))}}class nh{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new fa(0),this.zr=!1,this.zr=!0,this.jr=new Qd,this.referenceDelegate=e(this),this.Hr=new th(this),this.indexManager=new Nd,this.remoteDocumentCache=function(e){return new Zd(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Id(t),this.Yr=new Kd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Xd(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Eo("MemoryPersistence","Starting transaction:",e);const r=new rh(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return da.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class rh extends ca{constructor(e){super(),this.currentSequenceNumber=e}}class ih{constructor(e){this.persistence=e,this.ti=new Jd,this.ni=null}static ri(e){return new ih(e)}get ii(){if(this.ni)return this.ni;throw Io()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),da.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),da.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),da.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return da.forEach(this.ii,(n=>{const r=ta.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Qo.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return da.or([()=>da.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sh{constructor(e,t){this.persistence=e,this.oi=new Pc((e=>xa(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Hd(this,t)}static ri(e,t){return new sh(e,t)}Zr(){}Xr(e){return da.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return da.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?da.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Qo.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),da.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),da.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),da.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),da.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rl(e.data.value)),t}ar(e,t,n){return da.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return da.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class oh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Wc(),r=Wc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new oh(e,t.fromCache,n,r)}}class ah{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lh{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=w()?8:ha(x())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ah;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(_o()<=F.DEBUG&&Eo("QueryEngine","SDK will not create cache indexes for query:",Ic(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),da.resolve()):(_o()<=F.DEBUG&&Eo("QueryEngine","Query:",Ic(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(_o()<=F.DEBUG&&Eo("QueryEngine","The SDK decides to create cache indexes for query:",Ic(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sc(t))):da.resolve())}rs(e,t){if(bc(t))return da.resolve(null);let n=Sc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=kc(t,null,"F"),n=Sc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Wc(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,kc(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return bc(t)||r.isEqual(Qo.min())?da.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?da.resolve(null):(_o()<=F.DEBUG&&Eo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ic(t)),this.hs(e,s,t,ia(r,na)).next((e=>e)))}))}cs(e,t){let n=new Xa(Nc(e));return t.forEach(((t,r)=>{jc(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return _o()<=F.DEBUG&&Eo("QueryEngine","Using full collection scan to execute query:",Ic(t)),this.ns.getDocumentsMatchingQuery(e,t,oa.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const ch="LocalStore";class uh{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Qa(Wo),this.Is=new Pc((e=>pc(e)),fc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qd(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function dh(e,t,n,r){return new uh(e,t,n,r)}async function hh(e,t){const n=Ro(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Wc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function ph(e){const t=Ro(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function fh(e,t,n){let r=Wc(),i=Wc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Dc();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Qo.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Eo(ch,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function gh(e,t){const n=Ro(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ga),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function mh(e,t){const n=Ro(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,da.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Td(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function yh(e,t,n){const r=Ro(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!pa(e))throw e;Eo(ch,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function vh(e,t,n){const r=Ro(e);let i=Qo.min(),s=Wc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ro(e),i=r.Is.get(n);return void 0!==i?da.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Sc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Qo.min(),n?s:Wc()))).next((e=>(bh(r,Rc(t),e),{documents:e,gs:s})))))}function bh(e,t,n){let r=e.Es.get(t)||Qo.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class xh{constructor(){this.activeTargetIds=qc()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wh{constructor(){this.ho=new xh,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new xh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sh{To(e){}shutdown(){}}const _h="ConnectivityMonitor";class Eh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Eo(_h,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Eo(_h,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kh=null;function Ch(){return null===kh?kh=268435456+Math.round(2147483648*Math.random()):kh++,"0x"+kh.toString(16)}const Th="RestConnection",Ih={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jh{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===gl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const s=Ch(),o=this.So(e,t.toUriEncodedString());Eo(Th,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(e,o,a,n).then((t=>(Eo(Th,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Co(Th,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Ih[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Rh{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const Nh="WebChannelConnection";class Ah extends jh{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Ch();return new Promise(((s,o)=>{const a=new ao;a.setWithCredentials(!0),a.listenOnce(co.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case uo.NO_ERROR:const t=a.getResponseJson();Eo(Nh,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case uo.TIMEOUT:Eo(Nh,`RPC '${e}' ${i} timed out`),o(new Ao(No.DEADLINE_EXCEEDED,"Request time out"));break;case uo.HTTP_ERROR:const n=a.getStatus();if(Eo(Nh,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(No).indexOf(t)>=0?t:No.UNKNOWN}(t.status);o(new Ao(e,t.message))}else o(new Ao(No.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ao(No.UNAVAILABLE,"Connection failed."));break;default:Io()}}finally{Eo(Nh,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Eo(Nh,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Ch(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=go(),o=fo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Eo(Nh,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const p=new Rh({Fo:t=>{h?Eo(Nh,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Eo(Nh,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Eo(Nh,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,lo.EventType.OPEN,(()=>{h||(Eo(Nh,`RPC '${e}' stream ${r} transport opened.`),p.Qo())})),f(u,lo.EventType.CLOSE,(()=>{h||(h=!0,Eo(Nh,`RPC '${e}' stream ${r} transport closed`),p.Ko())})),f(u,lo.EventType.ERROR,(t=>{h||(h=!0,Co(Nh,`RPC '${e}' stream ${r} transport errored:`,t),p.Ko(new Ao(No.UNAVAILABLE,"The operation could not be completed")))})),f(u,lo.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];jo(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Eo(Nh,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=ju[e];if(void 0!==t)return Au(t)}(t),i=o.message;void 0===n&&(n=No.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,p.Ko(new Ao(n,i)),u.close()}else Eo(Nh,`RPC '${e}' stream ${r} received:`,i),p.Uo(i)}})),f(o,po.STAT_EVENT,(t=>{t.stat===ho.PROXY?Eo(Nh,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ho.NOPROXY&&Eo(Nh,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.$o()}),0),p}}function Ph(){return"undefined"!=typeof document?document:null}function Oh(e){return new Xu(e,!0)}class Dh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Eo("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Lh="PersistentStream";class Uh{constructor(e,t,n,r,i,s,o,a){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Dh(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===No.RESOURCE_EXHAUSTED?(ko(t.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===No.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Ao(No.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Eo(Lh,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Eo(Lh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mh extends Uh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Io()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(jo(void 0===t||"string"==typeof t),nl.fromBase64String(t||"")):(jo(void 0===t||t instanceof Buffer||t instanceof Uint8Array),nl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?No.UNKNOWN:Au(e.code);return new Ao(t,e.message||"")}(o);n=new Wu(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ld(e,r.document.name),s=rd(r.document.updateTime),o=r.document.createTime?rd(r.document.createTime):Qo.min(),a=new Vl({mapValue:{fields:r.document.fields}}),l=Bl.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ld(e,r.document),s=r.readTime?rd(r.readTime):Qo.min(),o=Bl.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ld(e,r.document),s=r.removedTargetIds||[];n=new Bu([],s,i,null)}else{if(!("filter"in t))return Io();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Iu(r,i),o=e.targetId;n=new Hu(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Qo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Qo.min():t.readTime?rd(t.readTime):Qo.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=dd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=gc(r)?{documents:gd(e,r)}:{query:md(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=td(e,t.resumeToken);const r=Zu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Qo.min())>0){n.readTime=ed(e,t.snapshotVersion.toTimestamp());const r=Zu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Io()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=dd(this.serializer),t.removeTarget=e,this.I_(t)}}class Fh extends Uh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return jo(!!e.streamToken),this.lastStreamToken=e.streamToken,jo(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){jo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(jo(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?rd(e.updateTime):rd(t);return n.isEqual(Qo.min())&&(n=rd(t)),new cu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=rd(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=dd(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>fd(this.serializer,e)))};this.I_(t)}}class Vh{}class zh extends Vh{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Ao(No.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.bo(e,sd(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===No.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ao(No.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Co(e,sd(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===No.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ao(No.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Bh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ko(t),this.N_=!1):Eo("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Hh="RemoteStore";class Wh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Zh(this)&&(Eo(Hh,"Restarting streams for network reachability change."),await async function(e){const t=Ro(e);t.W_.add(4),await qh(t),t.j_.set("Unknown"),t.W_.delete(4),await $h(t)}(this))}))})),this.j_=new Bh(n,r)}}async function $h(e){if(Zh(e))for(const t of e.G_)await t(!0)}async function qh(e){for(const t of e.G_)await t(!1)}function Kh(e,t){const n=Ro(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Xh(n)?Yh(n):vp(n).c_()&&Qh(n,t))}function Gh(e,t){const n=Ro(e),r=vp(n);n.U_.delete(t),r.c_()&&Jh(n,t),0===n.U_.size&&(r.c_()?r.P_():Zh(n)&&n.j_.set("Unknown"))}function Qh(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vp(e).y_(t)}function Jh(e,t){e.H_.Ne(t),vp(e).w_(t)}function Yh(e){e.H_=new qu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),vp(e).start(),e.j_.B_()}function Xh(e){return Zh(e)&&!vp(e).u_()&&e.U_.size>0}function Zh(e){return 0===Ro(e).W_.size}function ep(e){e.H_=void 0}async function tp(e){e.j_.set("Online")}async function np(e){e.U_.forEach(((t,n)=>{Qh(e,t)}))}async function rp(e,t){ep(e),Xh(e)?(e.j_.q_(t),Yh(e)):e.j_.set("Unknown")}async function ip(e,t,n){if(e.j_.set("Online"),t instanceof Wu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Eo(Hh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sp(e,n)}else if(t instanceof Bu?e.H_.We(t):t instanceof Hu?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Qo.min()))try{const t=await ph(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(nl.EMPTY_BYTE_STRING,r.snapshotVersion)),Jh(e,t);const i=new Td(r.target,t,n,r.sequenceNumber);Qh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Eo(Hh,"Failed to raise snapshot:",t),await sp(e,t)}}async function sp(e,t,n){if(!pa(t))throw t;e.W_.add(1),await qh(e),e.j_.set("Offline"),n||(n=()=>ph(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Eo(Hh,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await $h(e)}))}function op(e,t){return t().catch((n=>sp(e,n,t)))}async function ap(e){const t=Ro(e),n=bp(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:ga;for(;lp(t);)try{const e=await gh(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,cp(t,e)}catch(e){await sp(t,e)}up(t)&&dp(t)}function lp(e){return Zh(e)&&e.K_.length<10}function cp(e,t){e.K_.push(t);const n=bp(e);n.c_()&&n.b_&&n.S_(t.mutations)}function up(e){return Zh(e)&&!bp(e).u_()&&e.K_.length>0}function dp(e){bp(e).start()}async function hp(e){bp(e).C_()}async function pp(e){const t=bp(e);for(const n of e.K_)t.S_(n.mutations)}async function fp(e,t,n){const r=e.K_.shift(),i=Cu.from(r,t,n);await op(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ap(e)}async function gp(e,t){t&&bp(e).b_&&await async function(e,t){if(function(e){return Nu(e)&&e!==No.ABORTED}(t.code)){const n=e.K_.shift();bp(e).h_(),await op(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ap(e)}}(e,t),up(e)&&dp(e)}async function mp(e,t){const n=Ro(e);n.asyncQueue.verifyOperationInProgress(),Eo(Hh,"RemoteStore received new credentials");const r=Zh(n);n.W_.add(3),await qh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await $h(n)}async function yp(e,t){const n=Ro(e);t?(n.W_.delete(2),await $h(n)):t||(n.W_.add(2),await qh(n),n.j_.set("Unknown"))}function vp(e){return e.J_||(e.J_=function(e,t,n){const r=Ro(e);return r.M_(),new Mh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:tp.bind(null,e),No:np.bind(null,e),Lo:rp.bind(null,e),p_:ip.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Xh(e)?Yh(e):e.j_.set("Unknown")):(await e.J_.stop(),ep(e))}))),e.J_}function bp(e){return e.Y_||(e.Y_=function(e,t,n){const r=Ro(e);return r.M_(),new Fh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:hp.bind(null,e),Lo:gp.bind(null,e),D_:pp.bind(null,e),v_:fp.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await ap(e)):(await e.Y_.stop(),e.K_.length>0&&(Eo(Hh,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class xp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new xp(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ao(No.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(e,t){if(ko("AsyncQueue",`${t}: ${e}`),pa(e))return new Ao(No.UNAVAILABLE,`${t}: ${e}`);throw e}class Sp{static emptySet(e){return new Sp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ta.comparator(t.key,n.key):(e,t)=>ta.comparator(e.key,t.key),this.keyedMap=Uc(),this.sortedSet=new Qa(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Sp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _p{constructor(){this.Z_=new Qa(ta.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Io():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ep{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Ep(e,t,Sp.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kp{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Cp{constructor(){this.queries=Tp(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Ro(e),r=n.queries;n.queries=Tp(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Ao(No.ABORTED,"Firestore shutting down"))}}function Tp(){return new Pc((e=>Tc(e)),Cc)}async function Ip(e,t){const n=Ro(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new kp,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=wp(e,`Initialization of query '${Ic(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&Ap(n)}async function jp(e,t){const n=Ro(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rp(e,t){const n=Ro(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Ap(n)}function Np(e,t,n){const r=Ro(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function Ap(e){e.ia.forEach((e=>{e.next()}))}var Pp,Op;(Op=Pp||(Pp={}))._a="default",Op.Cache="cache";class Dp{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ep(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Ep.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pp.Cache}}class Lp{constructor(e){this.key=e}}class Up{constructor(e){this.key=e}}class Mp{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Wc(),this.mutatedKeys=Wc(),this.ya=Nc(e),this.wa=new Sp(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new _p,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=jc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.va(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.ya(u,a)>0||l&&this.ya(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:o,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Io()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const o=t&&!r?this.Fa():[],a=0===this.pa.size&&this.current&&!r?1:0,l=a!==this.ga;return this.ga=a,0!==s.length||l?{snapshot:new Ep(this.query,e.wa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _p,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Wc(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Up(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Lp(n))})),t}Oa(e){this.fa=e.gs,this.pa=Wc();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Ep.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Fp="SyncEngine";class Vp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zp{constructor(e){this.key=e,this.Ba=!1}}class Bp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Pc((e=>Tc(e)),Cc),this.qa=new Map,this.Qa=new Set,this.$a=new Qa(ta.comparator),this.Ka=new Map,this.Ua=new Jd,this.Wa={},this.Ga=new Map,this.za=Ld.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Hp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=df(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await $p(r,t,n,!0),i}async function Wp(e,t){const n=df(e);await $p(n,t,!0,!1)}async function $p(e,t,n,r){const i=await mh(e.localStore,Sc(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await qp(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Kh(e.remoteStore,i),a}async function qp(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await vh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return sf(e,t.targetId,a.Ma),a.snapshot}(e,t,n,r);const s=await vh(e.localStore,t,!0),o=new Mp(t,s.gs),a=o.Sa(s.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);sf(e,n,c.Ma);const u=new Vp(t,n,o);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function Kp(e,t,n){const r=Ro(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!Cc(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gh(r.remoteStore,i.targetId),nf(r,i.targetId)})).catch(ua)):(nf(r,i.targetId),await yh(r.localStore,i.targetId,!0))}async function Gp(e,t){const n=Ro(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gh(n.remoteStore,r.targetId))}async function Qp(e,t){const n=Ro(e);try{const e=await function(e,t){const n=Ro(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(nl.EMPTY_BYTE_STRING,Qo.min()).withLastLimboFreeSnapshotVersion(Qo.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Hr.updateTargetData(e,c))}));let a=Dc(),l=Wc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fh(e,s,t.documentUpdates).next((e=>{a=e.Vs,l=e.fs}))),!r.isEqual(Qo.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return da.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(jo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?jo(r.Ba):e.removedDocuments.size>0&&(jo(r.Ba),r.Ba=!1))})),await lf(n,e,t)}catch(e){await ua(e)}}function Jp(e,t,n){const r=Ro(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ro(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Ap(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yp(e,t,n){const r=Ro(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),s=i&&i.key;if(s){let e=new Qa(ta.comparator);e=e.insert(s,Bl.newNoDocument(s,Qo.min()));const n=Wc().add(s),i=new Vu(Qo.min(),new Map,new Qa(Wo),e,n);await Qp(r,i),r.$a=r.$a.remove(s),r.Ka.delete(t),af(r)}else await yh(r.localStore,t,!1).then((()=>nf(r,t,n))).catch(ua)}async function Xp(e,t){const n=Ro(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ro(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=da.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);jo(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);tf(n,r,null),ef(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,e)}catch(e){await ua(e)}}async function Zp(e,t,n){const r=Ro(e);try{const e=await function(e,t){const n=Ro(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(jo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);tf(r,t,n),ef(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lf(r,e)}catch(n){await ua(n)}}function ef(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function tf(e,t,n){const r=Ro(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||rf(e,t)}))}function rf(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Gh(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),af(e))}function sf(e,t,n){for(const r of n)r instanceof Lp?(e.Ua.addReference(r.key,t),of(e,r)):r instanceof Up?(Eo(Fp,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||rf(e,r.key)):Io()}function of(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Eo(Fp,"New document in limbo: "+n),e.Qa.add(r),af(e))}function af(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new ta(Xo.fromString(t)),r=e.za.next();e.Ka.set(r,new zp(n)),e.$a=e.$a.insert(n,r),Kh(e.remoteStore,new Td(Sc(vc(n.path)),r,"TargetPurposeLimboResolution",fa.ae))}}async function lf(e,t,n){const r=Ro(e),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((e,a)=>{o.push(r.Ha(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=oh.Yi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.La.p_(i),await async function(e,t){const n=Ro(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>da.forEach(t,(t=>da.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>da.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!pa(e))throw e;Eo(ch,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function cf(e,t){const n=Ro(e);if(!n.currentUser.isEqual(t)){Eo(Fp,"User change. New user:",t.toKey());const e=await hh(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Ao(No.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lf(n,e.Rs)}}function uf(e,t){const n=Ro(e),r=n.Ka.get(t);if(r&&r.Ba)return Wc().add(r.key);{let e=Wc();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function df(e){const t=Ro(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yp.bind(null,t),t.La.p_=Rp.bind(null,t.eventManager),t.La.Ja=Np.bind(null,t.eventManager),t}function hf(e){const t=Ro(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zp.bind(null,t),t}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return dh(this.persistence,new lh,e.initialUser,this.serializer)}Xa(e){return new nh(ih.ri,this.serializer)}Za(e){return new wh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class ff extends pf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){jo(this.persistence.referenceDelegate instanceof sh);const n=this.persistence.referenceDelegate.garbageCollector;return new zd(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Dd.withCacheSize(this.cacheSizeBytes):Dd.DEFAULT;return new nh((e=>sh.ri(e,t)),this.serializer)}}class gf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cf.bind(null,this.syncEngine),await yp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cp}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),n=function(e){return new Ah(e)}(e.databaseInfo);return function(e,t,n,r){return new zh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Wh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Jp(this.syncEngine,e,0)),Eh.D()?new Eh:new Sh)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Bp(e,t,n,r,i,s);return o&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ro(e);Eo(Hh,"RemoteStore shutting down."),t.W_.add(5),await qh(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}gf.provider={build:()=>new gf};class mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const yf="FirestoreClient";class vf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=xo.UNAUTHENTICATED,this.clientId=Ho.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Eo(yf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Eo(yf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bf(e,t){e.asyncQueue.verifyOperationInProgress(),Eo(yf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function xf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wf(e);Eo(yf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>mp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>mp(t.remoteStore,n))),e._onlineComponents=t}async function wf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Eo(yf,"Using user provided OfflineComponentProvider");try{await bf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===No.FAILED_PRECONDITION||e.code===No.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await bf(e,new pf)}}else Eo(yf,"Using default OfflineComponentProvider"),await bf(e,new ff(void 0));return e._offlineComponents}async function Sf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Eo(yf,"Using user provided OnlineComponentProvider"),await xf(e,e._uninitializedComponentsProvider._online)):(Eo(yf,"Using default OnlineComponentProvider"),await xf(e,new gf))),e._onlineComponents}function _f(e){return Sf(e).then((e=>e.syncEngine))}async function Ef(e){const t=await Sf(e),n=t.eventManager;return n.onListen=Hp.bind(null,t.syncEngine),n.onUnlisten=Kp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Wp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Gp.bind(null,t.syncEngine),n}function kf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Po;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new mf({next:a=>{s.su(),t.enqueueAndForget((()=>jp(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Ao(No.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Ao(No.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Dp(vc(n.path),s,{includeMetadataChanges:!0,Ta:!0});return Ip(e,o)}(await Ef(e),e.asyncQueue,t,n,r))),r.promise}function Cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Po;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new mf({next:n=>{s.su(),t.enqueueAndForget((()=>jp(e,o))),n.fromCache&&"server"===r.source?i.reject(new Ao(No.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Dp(n,s,{includeMetadataChanges:!0,Ta:!0});return Ip(e,o)}(await Ef(e),e.asyncQueue,t,n,r))),r.promise}function Tf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const If=new Map;function jf(e,t,n){if(!n)throw new Ao(No.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Rf(e){if(!ta.isDocumentKey(e))throw new Ao(No.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Nf(e){if(ta.isDocumentKey(e))throw new Ao(No.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Af(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Io()}function Pf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ao(No.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(e);throw new Ao(No.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Of="firestore.googleapis.com",Df=!0;class Lf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ao(No.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Of,this.ssl=Df}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Df;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Od;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Md)throw new Ao(No.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ao(No.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ao(No.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ao(No.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ao(No.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ao(No.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ao(No.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Do;switch(e.type){case"firstParty":return new Fo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ao(No.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=If.get(e);t&&(Eo("ComponentProvider","Removing Datastore"),If.delete(e),t.terminate())}(this),Promise.resolve()}}class Mf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mf(this.firestore,e,this._query)}}class Ff{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ff(this.firestore,e,this._key)}}class Vf extends Mf{constructor(e,t,n){super(e,t,vc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ff(this.firestore,null,new ta(e))}withConverter(e){return new Vf(this.firestore,e,this._path)}}function zf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),jf("collection","path",t),e instanceof Uf){const n=Xo.fromString(t,...r);return Nf(n),new Vf(e,null,n)}{if(!(e instanceof Ff||e instanceof Vf))throw new Ao(No.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xo.fromString(t,...r));return Nf(n),new Vf(e.firestore,null,n)}}function Bf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),1===arguments.length&&(t=Ho.newId()),jf("doc","path",t),e instanceof Uf){const n=Xo.fromString(t,...r);return Rf(n),new Ff(e,null,new ta(n))}{if(!(e instanceof Ff||e instanceof Vf))throw new Ao(No.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xo.fromString(t,...r));return Rf(n),new Ff(e.firestore,e instanceof Vf?e.converter:null,new ta(n))}}const Hf="AsyncQueue";class Wf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Dh(this,"async_queue_retry"),this.bu=()=>{const e=Ph();e&&Eo(Hf,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=Ph();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Po;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!pa(e))throw e;Eo(Hf,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ko("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=xp.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Io()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function $f(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class qf extends Uf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wf(e),this._firestoreClient=void 0,await e}}}function Kf(e){if(e._terminated)throw new Ao(No.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gf(e),e._firestoreClient}function Gf(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new fl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Tf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new vf(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Qf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qf(nl.fromBase64String(e))}catch(e){throw new Ao(No.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Qf(nl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ao(No.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ea(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._methodName=e}}class Xf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ao(No.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ao(No.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wo(this._lat,e._lat)||Wo(this._long,e._long)}}class Zf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const eg=/^__.*__$/;class tg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new vu(e,this.data,t,this.fieldTransforms)}}class ng{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Io()}}class ig{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(rg(this.Lu)&&eg.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class sg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Oh(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ig({Lu:e,methodName:t,zu:n,path:ea.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(e){const t=e._freezeSettings(),n=Oh(e._databaseId);return new sg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ag(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ju(s.merge||s.mergeFields?2:0,t,n,i);mg("Data must be an object, but it was:",o,r);const a=fg(r,o);let l,c;if(s.merge)l=new el(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=yg(t,r,n);if(!o.contains(i))throw new Ao(No.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);wg(e,i)||e.push(i)}l=new el(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new tg(new Vl(a),l,c)}class lg extends Yf{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lg}}class cg extends Yf{_toFieldTransform(e){return new lu(e.path,new eu)}isEqual(e){return e instanceof cg}}function ug(e,t,n,r){const i=e.ju(1,t,n);mg("Data must be an object, but it was:",i,r);const s=[],o=Vl.empty();Ka(r,((e,r)=>{const a=bg(t,e,n);r=P(r);const l=i.Ku(a);if(r instanceof lg)s.push(a);else{const e=pg(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new el(s);return new ng(o,a,i.fieldTransforms)}function dg(e,t,n,r,i,s){const o=e.ju(1,t,n),a=[yg(t,r,n)],l=[i];if(s.length%2!=0)throw new Ao(No.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(yg(t,s[h])),l.push(s[h+1]);const c=[],u=Vl.empty();for(let h=a.length-1;h>=0;--h)if(!wg(c,a[h])){const e=a[h];let t=l[h];t=P(t);const n=o.Ku(e);if(t instanceof lg)c.push(e);else{const r=pg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new el(c);return new ng(u,d,o.fieldTransforms)}function hg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pg(n,e.ju(r?4:3,t))}function pg(e,t){if(gg(e=P(e)))return mg("Unsupported field value:",t,e),fg(e,t);if(e instanceof Yf)return function(e,t){if(!rg(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pg(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=P(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Go.fromDate(e);return{timestampValue:ed(t.serializer,n)}}if(e instanceof Go){const n=new Go(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ed(t.serializer,n)}}if(e instanceof Xf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Qf)return{bytesValue:td(t.serializer,e._byteString)};if(e instanceof Ff){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:id(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Zf)return function(e,t){return{mapValue:{fields:{[yl]:{stringValue:xl},[wl]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Kc(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Af(e)}`)}(e,t)}function fg(e,t){const n={};return Ga(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ka(e,((e,r)=>{const i=pg(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Go||e instanceof Xf||e instanceof Qf||e instanceof Ff||e instanceof Yf||e instanceof Zf)}function mg(e,t,n){if(!gg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Af(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function yg(e,t,n){if((t=P(t))instanceof Jf)return t._internalPath;if("string"==typeof t)return bg(e,t);throw xg("Field path arguments must be of type string or ",e,!1,void 0,n)}const vg=new RegExp("[~\\*/\\[\\]]");function bg(e,t,n){if(t.search(vg)>=0)throw xg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jf(...t.split("."))._internalPath}catch(r){throw xg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xg(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ao(No.INVALID_ARGUMENT,a+e+l)}function wg(e,t){return e.some((e=>e.isEqual(t)))}class Sg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ff(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _g(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _g extends Sg{data(){return super.data()}}function Eg(e,t){return"string"==typeof t?bg(e,t):t instanceof Jf?t._internalPath:t._delegate._internalPath}function kg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ao(No.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class Tg extends Cg{}function Ig(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Cg&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ng)).length,n=e.filter((e=>e instanceof jg)).length;if(t>1||t>0&&n>0)throw new Ao(No.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class jg extends Tg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new jg(e,t,n)}_apply(e){const t=this._parse(e);return Og(e._query,t),new Mf(e.firestore,e.converter,Ec(e._query,t))}_parse(e){const t=og(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ao(No.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Pg(o,s);const t=[];for(const n of o)t.push(Ag(r,e,n));a={arrayValue:{values:t}}}else a=Ag(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Pg(o,s),a=hg(n,t,o,"in"===s||"not-in"===s);return Ql.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Rg(e,t,n){const r=t,i=Eg("where",e);return jg._create(i,r,n)}class Ng extends Cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ng(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Jl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Og(n,i),n=Ec(n,i)}(e._query,t),new Mf(e.firestore,e.converter,Ec(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ag(e,t,n){if("string"==typeof(n=P(n))){if(""===n)throw new Ao(No.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xc(t)&&-1!==n.indexOf("/"))throw new Ao(No.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Xo.fromString(n));if(!ta.isDocumentKey(r))throw new Ao(No.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nl(e,new ta(r))}if(n instanceof Ff)return Nl(e,n._key);throw new Ao(No.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function Pg(e,t){if(!Array.isArray(e)||0===e.length)throw new Ao(No.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Og(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ao(No.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ao(No.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Dg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Io()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ka(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[wl].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>sl(e.doubleValue)));return new Zf(i)}convertGeoPoint(e){return new Xf(sl(e.latitude),sl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const t=il(e);return new Go(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xo.fromString(e);jo(Cd(n));const r=new ml(n.get(1),n.get(3)),i=new ta(n.popFirst(5));return r.isEqual(t)||ko(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Lg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mg extends Sg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Fg extends Mg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Vg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ug(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Fg(this._firestore,this._userDataWriter,n.key,n,new Ug(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ao(No.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Fg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ug(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Fg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ug(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:zg(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Io()}}function Bg(e){e=Pf(e,Ff);const t=Pf(e.firestore,qf);return kf(Kf(t),e._key).then((n=>Jg(t,e,n)))}class Hg extends Dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ff(this.firestore,null,t)}}function Wg(e){e=Pf(e,Mf);const t=Pf(e.firestore,qf),n=Kf(t),r=new Hg(t);return kg(e._query),Cf(n,e._query).then((n=>new Vg(t,r,e,n)))}function $g(e,t,n){e=Pf(e,Ff);const r=Pf(e.firestore,qf),i=Lg(e.converter,t,n);return Qg(r,[ag(og(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,uu.none())])}function qg(e,t,n){e=Pf(e,Ff);const r=Pf(e.firestore,qf),i=og(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=P(t))||t instanceof Jf?dg(i,"updateDoc",e._key,t,n,a):ug(i,"updateDoc",e._key,t),Qg(r,[s.toMutation(e._key,uu.exists(!0))])}function Kg(e){return Qg(Pf(e.firestore,qf),[new _u(e._key,uu.none())])}function Gg(e,t){const n=Pf(e.firestore,qf),r=Bf(e),i=Lg(e.converter,t);return Qg(n,[ag(og(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,uu.exists(!1))]).then((()=>r))}function Qg(e,t){return function(e,t){const n=new Po;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=hf(e);try{const e=await function(e,t){const n=Ro(e),r=Go.now(),i=t.reduce(((e,t)=>e.add(t.key)),Wc());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Dc(),l=Wc();return n.ds.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=mu(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new bu(e.key,t,zl(t.value.mapValue),uu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Mc(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Qa(Wo)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await lf(r,e.changes),await ap(r.remoteStore)}catch(e){const t=wp(e,"Failed to persist write");n.reject(t)}}(await _f(e),t,n))),n.promise}(Kf(e),t)}function Jg(e,t,n){const r=n.docs.get(t._key),i=new Hg(e);return new Mg(e,i,t._key,r,new Ug(n.hasPendingWrites,n.fromCache),t.converter)}class Yg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=og(e)}set(e,t,n){this._verifyNotCommitted();const r=Xg(e,this._firestore),i=Lg(r.converter,t,n),s=ag(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,uu.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Xg(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=P(t))||t instanceof Jf?dg(this._dataReader,"WriteBatch.update",r._key,t,n,o):ug(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,uu.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xg(e,this._firestore);return this._mutations=this._mutations.concat(new _u(t._key,uu.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ao(No.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xg(e,t){if((e=P(e)).firestore!==t)throw new Ao(No.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Zg(){return new cg("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wo=e}(Ge),He(new O("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new qf(new Uo(e.getProvider("auth-internal")),new zo(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ao(No.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ye(vo,bo,e),Ye(vo,bo,"esm2017")}();const em=Qe({apiKey:"AIzaSyDV7FQssUQFafUndD3OjlQV8djAFKEHBZA",authDomain:"practiceapp-13602.firebaseapp.com",projectId:"practiceapp-13602",storageBucket:"practiceapp-13602.appspot.com",messagingSenderId:"315638640724",appId:"1:315638640724:web:126e597ca42d4c25e2fdc1"}),tm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();const t=We(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=We(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(C(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ft(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ri,persistence:[Vr,_r,kr]}),r=y("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Oi)return;const r=null===t||void 0===t?void 0:t.token;Di!==r&&(Di=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){P(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){P(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=f("auth");return s&&Dn(n,`http://${s}`),n}(em),nm=function(e,t){const n="object"==typeof e?e:Je(),r="string"==typeof e?e:t||gl,i=We(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=g("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Pf(e,Uf))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;s.host!==Of&&s.host!==a&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!C(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=xo.MOCK_USER;else{t=b(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ao(No.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xo(s)}e._authCredentials=new Lo(new Oo(t,n))}}(i,...e)}return i}(em),rm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je(),t=arguments.length>1?arguments[1]:void 0;e=P(e);const n=We(e,Xs).getImmediate({identifier:t}),r=g("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:b(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(em);function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},im.apply(this,arguments)}var sm;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(sm||(sm={}));const om="popstate";function am(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function lm(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function cm(e,t){return{usr:e.state,key:e.key,idx:t}}function um(e,t,n,r){return void 0===n&&(n=null),im({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?hm(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function dm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function hm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pm(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=sm.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){a=sm.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:dm(e);return n=n.replace(/ $/,"%20"),am(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(im({},o.state,{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(om,d),l=e,()=>{i.removeEventListener(om,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=sm.Push;let r=um(p.location,e,t);n&&n(r,e),c=u()+1;let d=cm(r,c),h=p.createHref(r);try{o.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=sm.Replace;let r=um(p.location,e,t);n&&n(r,e),c=u();let i=cm(r,c),d=p.createHref(r);o.replaceState(i,"",d),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}var fm;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(fm||(fm={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function gm(e,t,n){return void 0===n&&(n="/"),mm(e,t,n,!1)}function mm(e,t,n,r){let i=Rm(("string"===typeof t?hm(t):t).pathname||"/",n);if(null==i)return null;let s=ym(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=jm(i);o=Tm(s[a],e,r)}return o}function ym(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(am(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=Dm([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(am(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),ym(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Cm(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of vm(e.path))i(e,t,r);else i(e,t)})),t}function vm(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=vm(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const bm=/^:[\w-]+$/,xm=3,wm=2,Sm=1,_m=10,Em=-2,km=e=>"*"===e;function Cm(e,t){let n=e.split("/"),r=n.length;return n.some(km)&&(r+=Em),t&&(r+=wm),n.filter((e=>!km(e))).reduce(((e,t)=>e+(bm.test(t)?xm:""===t?Sm:_m)),r)}function Tm(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=Im({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Im({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Dm([s,u.pathname]),pathnameBase:Lm(Dm([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Dm([s,u.pathnameBase]))}return o}function Im(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);lm("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function jm(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return lm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Rm(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Nm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Am(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Pm(e,t){let n=Am(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Om(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=hm(e):(i=im({},e),am(!i.pathname||!i.pathname.includes("?"),Nm("?","pathname","search",i)),am(!i.pathname||!i.pathname.includes("#"),Nm("#","pathname","hash",i)),am(!i.search||!i.search.includes("#"),Nm("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?hm(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Um(r),hash:Mm(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Dm=e=>e.join("/").replace(/\/\/+/g,"/"),Lm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Um=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Mm=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Fm(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Vm=["post","put","patch","delete"],zm=(new Set(Vm),["get",...Vm]);new Set(zm),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bm.apply(this,arguments)}const Hm=i.createContext(null);const Wm=i.createContext(null);const $m=i.createContext(null);const qm=i.createContext(null);const Km=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Gm=i.createContext(null);function Qm(){return null!=i.useContext(qm)}function Jm(){return Qm()||am(!1),i.useContext(qm).location}function Ym(e){i.useContext($m).static||i.useLayoutEffect(e)}function Xm(){let{isDataRoute:e}=i.useContext(Km);return e?function(){let{router:e}=ly(oy.UseNavigateStable),t=uy(ay.UseNavigateStable),n=i.useRef(!1);return Ym((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Bm({fromRouteId:t},i)))}),[e,t])}():function(){Qm()||am(!1);let e=i.useContext(Hm),{basename:t,future:n,navigator:r}=i.useContext($m),{matches:s}=i.useContext(Km),{pathname:o}=Jm(),a=JSON.stringify(Pm(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return Ym((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=Om(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:Dm([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function Zm(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext($m),{matches:s}=i.useContext(Km),{pathname:o}=Jm(),a=JSON.stringify(Pm(s,r.v7_relativeSplatPath));return i.useMemo((()=>Om(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ey(e,t,n,r){Qm()||am(!1);let{navigator:s}=i.useContext($m),{matches:o}=i.useContext(Km),a=o[o.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,d=Jm();if(t){var h;let e="string"===typeof t?hm(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||am(!1),u=e}else u=d;let p=u.pathname||"/",f=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=gm(e,{pathname:f});let m=sy(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Dm([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Dm([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&m?i.createElement(qm.Provider,{value:{location:Bm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sm.Pop}},m):m}function ty(){let e=function(){var e;let t=i.useContext(Gm),n=cy(ay.UseRouteError),r=uy(ay.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Fm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ny=i.createElement(ty,null);class ry extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Km.Provider,{value:this.props.routeContext},i.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iy(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(Hm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Km.Provider,{value:t},r)}function sy(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||am(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,d=!1,h=null,p=null;var f;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ny,c&&(u<0&&0===s?(f="route-fallback",!1||dy[f]||(dy[f]=!0),d=!0,p=null):u===s&&(d=!0,p=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,s+1)),m=()=>{let t;return t=o?h:d?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(iy,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ry,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var oy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oy||{}),ay=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ay||{});function ly(e){let t=i.useContext(Hm);return t||am(!1),t}function cy(e){let t=i.useContext(Wm);return t||am(!1),t}function uy(e){let t=function(){let e=i.useContext(Km);return e||am(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||am(!1),n.route.id}const dy={};s.startTransition;function hy(e){am(!1)}function py(e){let{basename:t="/",children:n=null,location:r,navigationType:s=sm.Pop,navigator:o,static:a=!1,future:l}=e;Qm()&&am(!1);let c=t.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:c,navigator:o,static:a,future:Bm({v7_relativeSplatPath:!1},l)})),[c,l,o,a]);"string"===typeof r&&(r=hm(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:g="default"}=r,m=i.useMemo((()=>{let e=Rm(d,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:f,key:g},navigationType:s}}),[c,d,h,p,f,g,s]);return null==m?null:i.createElement($m.Provider,{value:u},i.createElement(qm.Provider,{children:n,value:m}))}function fy(e){let{children:t,location:n}=e;return ey(gy(t),n)}new Promise((()=>{}));i.Component;function gy(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,gy(e.props.children,s));e.type!==hy&&am(!1),e.props.index&&e.props.children&&am(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=gy(e.props.children,s)),n.push(o)})),n}var my=n(950),yy=n.t(my,2);function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(this,arguments)}function by(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Wx){}new Map;const wy=s.startTransition;yy.flushSync,s.useId;function Sy(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),pm((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return um("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:dm(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&wy?wy((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.createElement(py,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const _y="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ey=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ky=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=by(e,xy),{basename:f}=i.useContext($m),g=!1;if("string"===typeof u&&Ey.test(u)&&(n=u,_y))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Rm(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(Wx){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Qm()||am(!1);let{basename:r,navigator:s}=i.useContext($m),{hash:o,pathname:a,search:l}=Zm(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:Dm([r,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),y=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,c=Xm(),u=Jm(),d=Zm(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:dm(u)===dm(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[u,c,d,r,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});return i.createElement("a",vy({},p,{href:n||m,onClick:g||o?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var Cy,Ty;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cy||(Cy={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ty||(Ty={}));var Iy=n(579);const jy=e=>{let{setUserType:t}=e;const[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(!1),a=Xm(),l=e=>{t(e),r(!0)};return(0,i.useEffect)((()=>{o(!0)}),[]),(0,Iy.jsxs)("div",{className:"hero",children:[(0,Iy.jsx)("div",{className:"Home",children:(0,Iy.jsxs)("div",{className:"choicecontainer",children:[(0,Iy.jsx)("h1",{style:{fontFamily:"Times New Roman",color:"#ffffff",fontSize:"4rem"},children:"Ski-Folio"}),(0,Iy.jsx)("p",{style:{fontFamily:"Times New Roman",color:"#ffffff",fontSize:"1.2rem"},children:"A website for our young and new frontend web developers"}),n?(0,Iy.jsxs)("div",{className:"Home1",children:[(0,Iy.jsx)(ky,{to:"/signin",children:(0,Iy.jsx)("button",{className:"submit",children:"Log In"})}),(0,Iy.jsx)(ky,{to:"/signup",children:(0,Iy.jsx)("button",{className:"submit",children:"Sign Up"})}),(0,Iy.jsx)("button",{className:"submit",onClick:()=>{t(null),r(!1)},children:"Change Role"})]}):(0,Iy.jsx)(Iy.Fragment,{children:(0,Iy.jsxs)("div",{className:"Roles",children:[(0,Iy.jsx)("button",{onClick:()=>l("applicant"),children:(0,Iy.jsx)("span",{children:"I am an Applicant"})}),(0,Iy.jsx)("button",{onClick:()=>l("employer"),children:(0,Iy.jsx)("span",{children:"I am an Employer"})})]})})]})}),(0,Iy.jsx)("footer",{className:"footer",children:(0,Iy.jsx)("button",{className:"admin-btn "+(s?"show":""),onClick:()=>{a("/admin")},children:"Alrights Reserve 2024-2025"})})]})},Ry=e=>{let{userType:t,setUser:n}=e;const[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,g]=(0,i.useState)(""),[m,y]=(0,i.useState)(""),[v,b]=(0,i.useState)(!0),[x,w]=(0,i.useState)(!1),[S,_]=(0,i.useState)(""),[E,k]=(0,i.useState)(!1),C=Xm(),T=()=>{"applicant"===t?(d(""),p("")):(g(""),y(""))};return(0,Iy.jsx)("div",{className:"hero",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Iy.jsx)("div",{className:"choicecontainer2",style:{textAlign:"center",width:"100%",maxWidth:"400px"},children:(0,Iy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!v||x)try{let e;if(v){if(!("employer"!==t||f&&m))return void alert("Please fill in all required company information.");if("applicant"===t&&(!u||!h))return void alert("Please fill in all required applicant information.");if("applicant"===t)try{if(!await(async(e,t)=>{try{k(!0);let n=e.trim();n.endsWith("/")&&(n=n.slice(0,-1));const r=n.replace("github.com","api.github.com/repos")+"/commits",i=await fetch(r);if(!i.ok)throw new Error("Failed to fetch repository data. Please check if the repository exists and is public.");const s=await i.json();if(!s||0===s.length)throw new Error("No commits found in this repository.");if(s[0].commit.author.email.toLowerCase()!==t.toLowerCase())throw new Error("The email used for the latest commit does not match your login email.");return k(!1),!0}catch(n){return k(!1),alert(`GitHub verification failed: ${n.message}`),T(),!1}})(h,r))return void alert("GitHub verification failed. Please ensure the repository exists and you have access to it.")}catch(i){return console.error("GitHub verification error:",i),void alert("Error during GitHub verification. Please try again or contact support.")}e=await async function(e,t,n){if($e(e.app))return Promise.reject(yt(e));const r=_n(e),i=Pn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rr,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&pr(e),t})),o=await ir._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(tm,r,o),await mr(e.user);let n={email:r,type:t,status:"pending",createdAt:(new Date).toISOString()};"applicant"===t?n={...n,name:u,githubRepo:h}:"employer"===t&&(n={...n,companyName:f,companyWebsite:m});const s=e.user.uid,a=function(e){return Kf(e=Pf(e,qf)),new Yg(e,(t=>Qg(e,t)))}(nm);return a.set(Bf(nm,"userAccountsToApprove",s),n),a.set(Bf(nm,"userAccountsToBeApproved",s),n),await a.commit(),alert("A verification email has been sent. Please verify before signing in."),await vr(tm),void C("/")}{e=await gr(tm,r,o);const t=e.user;if(!t.emailVerified)return alert("Please verify your email before signing in."),await vr(tm),void C("/");const i=t.uid;try{const e=await Bg(Bf(nm,"userAccountsToApprove",i));if(!e.exists())return alert("Your account is not found. Please sign up."),await vr(tm),void C("/");const r=e.data();if((await Bg(Bf(nm,"userAccountsToBeApproved",i))).exists())return alert("Your account is pending approval. Please wait for admin approval."),await vr(tm),void C("/");if("approved"!==r.status)return alert("Your account is not yet approved. Please wait for admin approval."),await vr(tm),void C("/");n(t),C("employer"===r.type?"/employer/profile":"/applicant/profile")}catch(s){return console.error("Error checking user status:",s),alert("Error verifying account status. Please try again later."),await vr(tm),void C("/")}}}catch(s){console.error("Error signing in/up:",s.code,s.message),"auth/email-already-in-use"===s.code?alert("This email is already registered. Please use a different email or try logging in."):"auth/invalid-email"===s.code?alert("Please enter a valid email address."):"auth/weak-password"===s.code?alert("Password is too weak. Please use a stronger password."):"auth/user-not-found"===s.code||"auth/wrong-password"===s.code?alert("Invalid email or password. Please check your credentials and try again."):alert("An error occurred. Please try again later.")}else alert("Please accept the terms and conditions.")},id:"formauth",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Iy.jsxs)("h2",{style:{fontFamily:"times new roman"},children:[v?"Sign Up":"Sign In"," as ",t]}),(0,Iy.jsx)("input",{className:"inputs",type:"email",placeholder:"Email",value:r,onChange:e=>s(e.target.value),required:!0,style:{marginBottom:"10px",width:"100%"}}),(0,Iy.jsxs)("div",{style:{position:"relative",width:"100%",marginBottom:"10px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Iy.jsx)("input",{className:"inputs",type:l?"text":"password",placeholder:"Password",value:o,onChange:e=>a(e.target.value),required:!0,style:{width:"100%"}}),(0,Iy.jsx)("button",{type:"button",onClick:()=>c(!l),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"black"},children:l?"Hide":"Show"})]}),v&&"applicant"===t&&(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)("input",{className:"inputs",type:"text",placeholder:"Full Name",value:u,onChange:e=>d(e.target.value),required:!0,style:{marginBottom:"10px",width:"100%"}}),(0,Iy.jsx)("input",{className:"inputs",type:"text",placeholder:"GitHub Repository URL",value:h,onChange:e=>p(e.target.value),required:!0,style:{marginBottom:"10px",width:"100%"}})]}),v&&"employer"===t&&(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)("input",{className:"inputs",type:"text",placeholder:"Company Name",value:f,onChange:e=>g(e.target.value),required:!0,style:{marginBottom:"10px",width:"100%"}}),(0,Iy.jsx)("input",{className:"inputs",type:"url",placeholder:"Company Website",value:m,onChange:e=>y(e.target.value),required:!0,style:{marginBottom:"10px",width:"100%"}})]}),v&&(0,Iy.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Iy.jsx)("input",{type:"checkbox",checked:x,onChange:e=>w(e.target.checked),style:{marginRight:"5px"}}),(0,Iy.jsxs)("label",{children:["I agree to the ",(0,Iy.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})]})]}),(0,Iy.jsx)("button",{type:"submit",className:"input submit",disabled:E,children:E?"Verifying...":v?"Sign Up":"Sign In"}),(0,Iy.jsx)(ky,{to:"/select",children:(0,Iy.jsx)("button",{className:"submit",children:"Cancel"})}),!v&&(0,Iy.jsx)("button",{type:"button",onClick:async()=>{if(S)try{await fr(tm,S),alert("Password reset email sent. Please check your inbox.")}catch(e){console.error("Error sending password reset email:",e.code,e.message),"auth/user-not-found"===e.code?alert("No account found with this email. Please check the email address."):"auth/invalid-email"===e.code?alert("Please enter a valid email address."):alert("Error sending password reset email. Please try again later.")}else alert("Please enter your email to reset the password.")},style:{background:"none",border:"none",color:"blue",cursor:"pointer",marginTop:"10px"},children:"Forgot Password?"})]})})})},Ny=()=>{var e;const[t,n]=(0,i.useState)(""),[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)({linkedin:"",twitter:"",portfolio:"",github:"",other:""}),[h,p]=(0,i.useState)({HTML:[],CSS:[],JavaScript:[],Others:[]}),[f,g]=(0,i.useState)("HTML"),[m,y]=(0,i.useState)({name:"",issuer:"",issueDate:"",expiryDate:"",credentialID:"",imageURL:""}),[v,b]=(0,i.useState)(!1),[x,w]=(0,i.useState)(!1),[S,_]=(0,i.useState)(!1),[E,k]=(0,i.useState)(!1),[C,T]=(0,i.useState)(!1),[I,j]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{if(tm.currentUser)try{const f=await Bg(Bf(nm,"applicants",tm.currentUser.uid));if(f.exists()){var e,t,r,i,o,l,u,h;const g=f.data();n(g.profilePicURL||"defaultProfilePic.jpg"),s(g.coverPhotoURL||"defaultCoverPhoto.jpg"),a(g.name||""),c(g.githubRepo||"");const m=(g.githubRepo||"").replace(/\/[^/]*$/,"");d({linkedin:(null===(e=g.socialLinks)||void 0===e?void 0:e.linkedin)||"",twitter:(null===(t=g.socialLinks)||void 0===t?void 0:t.twitter)||"",portfolio:(null===(r=g.socialLinks)||void 0===r?void 0:r.portfolio)||"",github:m||"",other:(null===(i=g.socialLinks)||void 0===i?void 0:i.other)||""}),p({HTML:Array.isArray(null===(o=g.certifications)||void 0===o?void 0:o.HTML)?g.certifications.HTML:[],CSS:Array.isArray(null===(l=g.certifications)||void 0===l?void 0:l.CSS)?g.certifications.CSS:[],JavaScript:Array.isArray(null===(u=g.certifications)||void 0===u?void 0:u.JavaScript)?g.certifications.JavaScript:[],Others:Array.isArray(null===(h=g.certifications)||void 0===h?void 0:h.Others)?g.certifications.Others:[]})}}catch(f){console.error("Error fetching user data:",f)}else console.error("User is not signed in.")})()}),[]);const R=async(e,t)=>{const r=e.target.files[0];if(!r)return;let i,o;try{"certificate"===t?(i=to(rm,`users/${tm.currentUser.uid}/certifications/${f}/${r.name}`),await Zs(i,r),o=await eo(i),y((e=>({...e,imageURL:o})))):"profilePic"===t?(i=to(rm,`users/${tm.currentUser.uid}/profilePic/${r.name}`),await Zs(i,r),o=await eo(i),n(o),await qg(Bf(nm,"applicants",tm.currentUser.uid),{profilePicURL:o})):"coverPhoto"===t&&(i=to(rm,`users/${tm.currentUser.uid}/coverPhoto/${r.name}`),await Zs(i,r),o=await eo(i),s(o),await qg(Bf(nm,"applicants",tm.currentUser.uid),{coverPhotoURL:o}))}catch(a){console.error("Error uploading file:",a)}},N=(e,t)=>{const n=e.target.value;d((e=>({...e,[t]:n})))},A=e=>{const{name:t,value:n}=e.target;y((e=>({...e,[t]:n}))),"expiryDate"===t&&j("")},O=e=>{if(!e.expiryDate)return!0;return new Date<=new Date(e.expiryDate)},D=async(e,t,n)=>{try{if(await(async(e,t,n)=>{const r={applicantId:tm.currentUser.uid,type:e,skill:t,certificate:n,deletedAt:new Date};try{await Gg(zf(nm,"deletedFiles"),r)}catch(i){console.error("Error archiving file:",i)}})(e,t,n),n.imageURL){const e=to(rm,n.imageURL);await function(e){return Ws(e=P(e))}(e)}const r=h[t].filter((e=>e.imageURL!==n.imageURL||e.name!==n.name));p((e=>({...e,[t]:r}))),await qg(Bf(nm,"applicants",tm.currentUser.uid),{certifications:{...h,[t]:r}})}catch(r){console.error("Error deleting certificate:",r)}},L=e=>{let{show:t,onClose:n,title:r,content:i}=e;return t?(0,Iy.jsxs)("div",{style:{position:"absolute",zIndex:1e3,backgroundColor:"white",border:"none",borderRadius:"12px",padding:"0",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",maxWidth:"380px",right:"0",top:"30px",overflow:"hidden",transition:"all 0.3s ease",animation:"fadeIn 0.3s ease"},children:[(0,Iy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",borderBottom:"1px solid #f0f0f0",backgroundColor:"#f8f9fa"},children:[(0,Iy.jsx)("h4",{style:{margin:0,color:"#3a3a3a",fontSize:"16px",fontWeight:"600"},children:r}),(0,Iy.jsx)("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#666",display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"50%",transition:"all 0.2s ease"},onMouseOver:e=>{e.target.style.backgroundColor="#f0f0f0",e.target.style.color="#333"},onMouseOut:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="#666"},children:"\xd7"})]}),(0,Iy.jsx)("div",{style:{padding:"20px",color:"#444",fontSize:"14px",lineHeight:"1.6",maxHeight:"400px",overflowY:"auto"},children:i})]}):null},U=e=>{let{onClick:t,style:n}=e;return(0,Iy.jsx)("button",{onClick:t,style:{backgroundColor:"rgb(255, 255, 255)",border:"0px solid #e0e0e0",borderRadius:"10%",width:"1px",height:"1px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.08)",transition:"all 0.2s ease",opacity:"1",...n},onMouseOver:e=>{e.target.style.backgroundColor="#f0f9ff",e.target.style.boxShadow="0 3px 7px rgba(0,0,0,0.12)"},onMouseOut:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.9)",e.target.style.boxShadow="0 2px 5px rgba(0,0,0,0.08)"},children:(0,Iy.jsx)("span",{style:{fontSize:"15px",color:"#0078d4",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u2139\ufe0f"})})},M={marginTop:"30px",padding:"25px",background:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",width:"100%",transition:"0.3s ease",position:"relative",border:"1px solid #f0f0f0"};return(0,Iy.jsxs)("div",{id:"applicant",children:[(0,Iy.jsx)("h2",{children:"Applicant Profile"}),(0,Iy.jsxs)("div",{style:{position:"relative",width:"100%",height:"300px",overflow:"hidden",marginBottom:"10px",borderRadius:"12px"},children:[(0,Iy.jsxs)("div",{style:{position:"absolute",top:"15px",right:"15px",zIndex:10},children:[(0,Iy.jsx)(U,{onClick:()=>T(!C),style:{backgroundColor:"rgba(255, 255, 255, 0.85)"}}),(0,Iy.jsx)("div",{style:{position:"relative"},children:(0,Iy.jsx)(L,{show:C,onClose:()=>T(!1),title:"Cover Photo Guidelines",content:(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("p",{style:{fontSize:"14px",margin:"0 0 15px 0"},children:"Your cover photo creates the first impression for recruiters and employers."}),(0,Iy.jsxs)("ul",{style:{paddingLeft:"20px",margin:"0 0 15px 0",color:"#555"},children:[(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Recommended size:"})," 1584\xd7396 pixels"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Content:"})," Professional background related to your field"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Best practice:"})," Avoid busy images with text"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"How to update:"})," Click anywhere on the cover image to upload a new one"]})]}),(0,Iy.jsx)("div",{style:{padding:"12px",backgroundColor:"#f0f9ff",borderLeft:"4px solid #0078d4",borderRadius:"4px",fontSize:"13px"},children:"A professional cover photo increases profile views by up to 40%."})]})})})]}),(0,Iy.jsx)("img",{src:r,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},onClick:()=>document.getElementById("coverPhotoInput").click()}),(0,Iy.jsx)("input",{id:"coverPhotoInput",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>R(e,"coverPhoto")})]}),(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"-50px",position:"relative"},children:[(0,Iy.jsxs)("div",{style:{position:"relative",marginLeft:"20px"},children:[(0,Iy.jsx)("img",{src:t,alt:"Profile",style:{width:"150px",height:"150px",borderRadius:"50%",cursor:"pointer",border:"4px solid white",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.15)",objectFit:"cover"},onClick:()=>document.getElementById("profilePicInput").click()}),(0,Iy.jsx)(U,{onClick:()=>_(!S),style:{position:"absolute",bottom:"10px",right:"10px",zIndex:5}})]}),(0,Iy.jsx)("input",{id:"profilePicInput",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>R(e,"profilePic")}),(0,Iy.jsxs)("div",{style:{marginLeft:"20px",position:"relative"},children:[(0,Iy.jsx)(L,{show:S,onClose:()=>_(!1),title:"Profile Picture Guidelines",content:(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("p",{style:{fontSize:"14px",margin:"0 0 15px 0"},children:"Your profile picture is your professional identity online:"}),(0,Iy.jsxs)("ul",{style:{paddingLeft:"20px",margin:"0 0 15px 0",color:"#555"},children:[(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Quality:"})," Use a high-quality, professional headshot"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Setting:"})," Ensure good lighting and a neutral background"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Framing:"})," Face should take up 60% of the frame"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Appearance:"})," Present a professional appearance"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"How to update:"})," Click on the current image to update"]})]}),(0,Iy.jsx)("div",{style:{padding:"12px",backgroundColor:"#f0f9ff",borderLeft:"4px solid #0078d4",borderRadius:"4px",fontSize:"13px"},children:"Profiles with professional photos get up to 21\xd7 more views and 36\xd7 more messages."})]})}),(0,Iy.jsx)("br",{}),(0,Iy.jsx)("h3",{children:o})]})]}),(0,Iy.jsx)("div",{style:{marginTop:"20px",display:"flex",gap:"10px",marginLeft:"20px"},children:Object.keys(h).map((e=>{var t;return(null===(t=h[e])||void 0===t?void 0:t.length)>0?(0,Iy.jsxs)("span",{style:{backgroundColor:"#0078d4",color:"white",padding:"7px 12px",borderRadius:"50px",fontSize:"13px",fontWeight:"500",boxShadow:"0 2px 5px rgba(0, 120, 212, 0.3)"},children:[e," Certified"]},e):null}))}),(0,Iy.jsxs)("div",{style:M,id:"SocialLinks",children:[(0,Iy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Iy.jsxs)("h4",{style:{fontWeight:"600",margin:"0",fontSize:"18px",color:"#333"},children:[(0,Iy.jsx)("span",{style:{marginRight:"10px",fontSize:"20px"},children:"\ud83d\udd17"})," Social Links"]}),(0,Iy.jsxs)("div",{style:{position:"relative",marginLeft:"10px"},children:[(0,Iy.jsx)(U,{onClick:()=>k(!E)}),(0,Iy.jsx)(L,{show:E,onClose:()=>k(!1),title:"Social Links Importance",content:(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("p",{style:{fontSize:"14px",margin:"0 0 15px 0"},children:"Adding social links helps employers verify your professional identity and work:"}),(0,Iy.jsxs)("ul",{style:{paddingLeft:"20px",margin:"0 0 15px 0",color:"#555"},children:[(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"LinkedIn:"})," Shows your full professional experience and network"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"GitHub:"})," Demonstrates your actual coding projects and contributions"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Twitter:"})," Shows industry engagement and thought leadership"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Portfolio:"})," Showcases your best projects and technical skills"]})]}),(0,Iy.jsx)("div",{style:{padding:"12px",backgroundColor:"#f0f9ff",borderLeft:"4px solid #0078d4",borderRadius:"4px",fontSize:"13px",marginBottom:"10px"},children:"Complete profiles with active social links receive 30% more interest from employers."}),(0,Iy.jsxs)("div",{style:{padding:"12px",backgroundColor:"#fff8f0",borderLeft:"4px solid #f7b731",borderRadius:"4px",fontSize:"13px"},children:[(0,Iy.jsx)("strong",{children:"Pro tip:"})," Keep all your social profiles updated with consistent information."]})]})})]})]}),v?(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("button",{onClick:async()=>{try{await qg(Bf(nm,"applicants",tm.currentUser.uid),{socialLinks:{linkedin:u.linkedin,twitter:u.twitter,portfolio:u.portfolio,other:u.other}}),b(!1),alert("Social links saved successfully!")}catch(e){console.error("Error updating social links:",e),alert("Error saving social links. Please try again.")}},style:{padding:"8px 15px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"10px",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(40, 167, 69, 0.25)"},onMouseOver:e=>{e.target.style.backgroundColor="#218838",e.target.style.boxShadow="0 4px 8px rgba(40, 167, 69, 0.3)"},onMouseOut:e=>{e.target.style.backgroundColor="#28a745",e.target.style.boxShadow="0 2px 5px rgba(40, 167, 69, 0.25)"},children:"Save"}),(0,Iy.jsx)("button",{onClick:()=>b(!1),style:{padding:"8px 15px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 117, 125, 0.25)"},onMouseOver:e=>{e.target.style.backgroundColor="#5a6268",e.target.style.boxShadow="0 4px 8px rgba(108, 117, 125, 0.3)"},onMouseOut:e=>{e.target.style.backgroundColor="#6c757d",e.target.style.boxShadow="0 2px 5px rgba(108, 117, 125, 0.25)"},children:"Cancel"})]}):(0,Iy.jsx)("button",{onClick:()=>b(!0),style:{padding:"8px 15px",backgroundColor:"#0078d4",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0, 120, 212, 0.25)"},onMouseOver:e=>{e.target.style.backgroundColor="#006cbd",e.target.style.boxShadow="0 4px 8px rgba(0, 120, 212, 0.3)"},onMouseOut:e=>{e.target.style.backgroundColor="#0078d4",e.target.style.boxShadow="0 2px 5px rgba(0, 120, 212, 0.25)"},children:"Edit"})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Iy.jsx)("label",{style:{width:"100px",textAlign:"right",marginRight:"15px",fontWeight:"500",color:"#444"},children:"LinkedIn:"}),(0,Iy.jsx)("input",{type:"text",value:u.linkedin,onChange:e=>N(e,"linkedin"),placeholder:"Your LinkedIn URL",disabled:!v,style:{padding:"10px 15px",borderRadius:"8px",border:"1px solid #ddd",width:"60%",maxWidth:"400px",backgroundColor:v?"#fff":"#f9f9f9",transition:"all 0.3s ease",fontSize:"14px"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Iy.jsx)("label",{style:{width:"100px",textAlign:"right",marginRight:"15px",fontWeight:"500",color:"#444"},children:"GitHub:"}),(0,Iy.jsx)("input",{type:"text",value:u.github,onChange:e=>N(e,"github"),placeholder:"Your GitHub Username",disabled:!0,style:{padding:"10px 15px",borderRadius:"8px",border:"1px solid #ddd",width:"60%",maxWidth:"400px",backgroundColor:"#f9f9f9",color:"#666",fontSize:"14px"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Iy.jsx)("label",{style:{width:"100px",textAlign:"right",marginRight:"15px",fontWeight:"500",color:"#444"},children:"Twitter:"}),(0,Iy.jsx)("input",{type:"text",value:u.twitter,onChange:e=>N(e,"twitter"),placeholder:"Your Twitter URL",disabled:!v,style:{padding:"10px 15px",borderRadius:"8px",border:"1px solid #ddd",width:"60%",maxWidth:"400px",backgroundColor:v?"#fff":"#f9f9f9",transition:"all 0.3s ease",fontSize:"14px"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Iy.jsx)("label",{style:{width:"100px",textAlign:"right",marginRight:"15px",fontWeight:"500",color:"#444"},children:"Portfolio:"}),(0,Iy.jsx)("input",{type:"text",value:u.portfolio,onChange:e=>N(e,"portfolio"),placeholder:"Your Portfolio URL",disabled:!v,style:{padding:"10px 15px",borderRadius:"8px",border:"1px solid #ddd",width:"60%",maxWidth:"400px",backgroundColor:v?"#fff":"#f9f9f9",transition:"all 0.3s ease",fontSize:"14px"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Iy.jsx)("label",{style:{width:"100px",textAlign:"right",marginRight:"15px",fontWeight:"500",color:"#444"},children:"Other:"}),(0,Iy.jsx)("input",{type:"text",value:u.other,onChange:e=>N(e,"other"),placeholder:"Other website URL",disabled:!v,style:{padding:"10px 15px",borderRadius:"8px",border:"1px solid #ddd",width:"60%",maxWidth:"400px",backgroundColor:v?"#fff":"#f9f9f9",transition:"all 0.3s ease",fontSize:"14px"}})]})]}),(0,Iy.jsxs)("div",{style:M,id:"Certifications",children:[(0,Iy.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Iy.jsxs)("h4",{style:{fontWeight:"600",margin:"0",fontSize:"18px",color:"#333"},children:[(0,Iy.jsx)("span",{style:{marginRight:"10px",fontSize:"20px"},children:"\ud83c\udfc6"})," Certifications"]}),(0,Iy.jsxs)("div",{style:{position:"relative",marginLeft:"10px"},children:[(0,Iy.jsx)(U,{onClick:()=>w(!x)}),(0,Iy.jsx)(L,{show:x,onClose:()=>w(!1),title:"Certification Guidelines",content:(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("p",{style:{fontSize:"14px",margin:"0 0 15px 0"},children:"Adding verified certifications enhances your credibility:"}),(0,Iy.jsxs)("ul",{style:{paddingLeft:"20px",margin:"0 0 15px 0",color:"#555"},children:[(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Issuer:"})," Include the organization that granted the certification"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Dates:"})," Issue date and expiry date if applicable"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"ID:"})," Credential ID for verification purposes"]}),(0,Iy.jsxs)("li",{style:{marginBottom:"8px"},children:[(0,Iy.jsx)("strong",{children:"Image:"})," Upload your certificate image for verification"]})]}),(0,Iy.jsx)("div",{style:{padding:"12px",backgroundColor:"#f0f9ff",borderLeft:"4px solid #0078d4",borderRadius:"4px",fontSize:"13px",marginBottom:"10px"},children:"Applicants with verified certifications are 59% more likely to receive interview requests."}),(0,Iy.jsxs)("div",{style:{padding:"12px",backgroundColor:"#fff8f0",borderLeft:"4px solid #f7b731",borderRadius:"4px",fontSize:"13px"},children:[(0,Iy.jsx)("strong",{children:"Pro tip:"})," Keep your certifications current and updated with the latest versions."]})]})})]})]})}),(0,Iy.jsx)("div",{style:{marginBottom:"20px",display:"flex",borderBottom:"1px solid #eee"},children:Object.keys(h).map((e=>{var t;return(0,Iy.jsxs)("div",{onClick:()=>g(e),style:{padding:"12px 20px",fontWeight:f===e?"600":"400",cursor:"pointer",borderBottom:f===e?"3px solid #0078d4":"none",color:f===e?"#0078d4":"#555",transition:"all 0.3s ease"},children:[e," ",(null===(t=h[e])||void 0===t?void 0:t.length)>0&&`(${h[e].length})`]},e)}))}),(0,Iy.jsx)("div",{style:{marginBottom:"30px"},children:(null===(e=h[f])||void 0===e?void 0:e.length)>0?(0,Iy.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:h[f].map(((e,t)=>(0,Iy.jsxs)("div",{style:{width:"calc(33.33% - 10px)",minWidth:"250px",border:"1px solid #eee",borderRadius:"8px",padding:"15px",position:"relative",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)",backgroundColor:O(e)?"#fff":"#fff5f5",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-3px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(0, 0, 0, 0.08)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.05)"},children:[!O(e)&&(0,Iy.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#ff4d4f",color:"white",padding:"3px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"Expired"}),(0,Iy.jsx)("div",{style:{marginBottom:"10px",height:"150px",overflow:"hidden",borderRadius:"5px"},children:(0,Iy.jsx)("img",{src:e.imageURL,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,Iy.jsx)("h5",{style:{margin:"8px 0",fontSize:"16px",color:"#333",fontWeight:"600"},children:e.name}),(0,Iy.jsxs)("p",{style:{margin:"5px 0",fontSize:"14px",color:"#555"},children:[(0,Iy.jsx)("strong",{children:"Issuer:"})," ",e.issuer]}),(0,Iy.jsxs)("p",{style:{margin:"5px 0",fontSize:"14px",color:"#555"},children:[(0,Iy.jsx)("strong",{children:"Issued:"})," ",e.issueDate]}),e.expiryDate&&(0,Iy.jsxs)("p",{style:{margin:"5px 0",fontSize:"14px",color:O(e)?"#555":"#ff4d4f"},children:[(0,Iy.jsx)("strong",{children:"Expires:"})," ",e.expiryDate]}),e.credentialID&&(0,Iy.jsxs)("p",{style:{margin:"5px 0",fontSize:"14px",color:"#555"},children:[(0,Iy.jsx)("strong",{children:"ID:"})," ",e.credentialID]}),(0,Iy.jsx)("div",{style:{marginTop:"15px",textAlign:"right"},children:(0,Iy.jsx)("button",{onClick:()=>D("certification",f,e),style:{backgroundColor:"#f5f5f5",color:"#dc3545",border:"none",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontSize:"13px",transition:"all 0.2s ease"},onMouseOver:e=>{e.target.style.backgroundColor="#ffecec"},onMouseOut:e=>{e.target.style.backgroundColor="#f5f5f5"},children:"Remove"})})]},t)))}):(0,Iy.jsxs)("div",{style:{textAlign:"center",padding:"30px 0",color:"#777",fontSize:"15px"},children:["No ",f," certifications added yet."]})}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsxs)("h5",{style:{fontSize:"16px",fontWeight:"600",color:"#333",marginBottom:"15px"},children:["Add New ",f," Certification"]}),(0,Iy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,Iy.jsxs)("div",{children:[(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500",color:"#444",fontSize:"14px"},children:"Certificate Name*"}),(0,Iy.jsx)("input",{type:"text",name:"name",value:m.name,onChange:A,placeholder:"e.g. JavaScript Advanced",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500",color:"#444",fontSize:"14px"},children:"Issuer*"}),(0,Iy.jsx)("input",{type:"text",name:"issuer",value:m.issuer,onChange:A,placeholder:"e.g. Udemy, Coursera",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500",color:"#444",fontSize:"14px"},children:"Credential ID"}),(0,Iy.jsx)("input",{type:"text",name:"credentialID",value:m.credentialID,onChange:A,placeholder:"e.g. ABC123XYZ",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}})]})]}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500",color:"#444",fontSize:"14px"},children:"Issue Date*"}),(0,Iy.jsx)("input",{type:"date",name:"issueDate",value:m.issueDate,onChange:A,style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500",color:"#444",fontSize:"14px"},children:"Expiry Date (if applicable)"}),(0,Iy.jsx)("input",{type:"date",name:"expiryDate",value:m.expiryDate,onChange:A,style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}}),I&&(0,Iy.jsx)("p",{style:{color:"#dc3545",fontSize:"12px",marginTop:"5px"},children:I})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500",color:"#444",fontSize:"14px"},children:"Certificate Image*"}),(0,Iy.jsx)("input",{type:"file",accept:"image/*",onChange:e=>R(e,"certificate"),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}})]})]})]}),(0,Iy.jsx)("div",{style:{marginTop:"20px",textAlign:"right"},children:(0,Iy.jsx)("button",{onClick:async()=>{if(m.name&&m.issuer&&m.issueDate&&m.imageURL){if((()=>{if(!m.expiryDate)return!0;const e=new Date;return new Date(m.expiryDate)<e?(j("Cannot add an expired certificate. Please provide a valid expiry date."),!1):(j(""),!0)})())try{const e=[...h[f]||[],m];p((t=>({...t,[f]:e}))),await qg(Bf(nm,"applicants",tm.currentUser.uid),{certifications:{...h,[f]:e}}),y({name:"",issuer:"",issueDate:"",expiryDate:"",credentialID:"",imageURL:""})}catch(e){console.error("Error saving certificate:",e)}}else alert("Please fill all required fields and upload certificate image")},style:{backgroundColor:"#0078d4",color:"white",border:"none",borderRadius:"8px",padding:"10px 20px",cursor:"pointer",fontWeight:"500",boxShadow:"0 2px 5px rgba(0, 120, 212, 0.25)",transition:"all 0.2s ease"},onMouseOver:e=>{e.target.style.backgroundColor="#006cbd",e.target.style.boxShadow="0 4px 8px rgba(0, 120, 212, 0.3)"},onMouseOut:e=>{e.target.style.backgroundColor="#0078d4",e.target.style.boxShadow="0 2px 5px rgba(0, 120, 212, 0.25)"},children:"Add Certificate"})})]})]})]})},Ay=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)({}),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[y,v]=(0,i.useState)({}),[b,x]=(0,i.useState)("name"),[w,S]=(0,i.useState)("asc"),[_,E]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[T,I]=(0,i.useState)({industry:"",location:"",description:"",phone:"",contactPerson:""}),[j,R]=(0,i.useState)(null),[N,A]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{if(tm.currentUser){const e=Bf(nm,"employers",tm.currentUser.uid),n=await Bg(e);n.exists()?(t(n.data()),I({industry:n.data().industry,location:n.data().location,description:n.data().description,phone:n.data().phone,contactPerson:n.data().contactPerson||""}),R(n.data().profilePic||"")):console.log("No employer data found.")}})(),(async()=>{if(tm.currentUser){const e=Ig(zf(nm,"jobs"),Rg("employerId","==",tm.currentUser.uid)),t=await Wg(e);r(t.docs.map((e=>({id:e.id,...e.data()}))))}})()}),[]),(0,i.useEffect)((()=>{const e={};return n.forEach((t=>{const n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=P(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||$f(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if($f(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof Ff)d=Pf(e.firestore,qf),h=vc(e._key.path),u={next:t=>{n[l]&&n[l](Jg(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Pf(e,Mf);d=Pf(t.firestore,qf),h=t._query;const r=new Hg(d);u={next:e=>{n[l]&&n[l](new Vg(d,r,t,e))},error:n[l+1],complete:n[l+2]},kg(e._query)}return function(e,t,n,r){const i=new mf(r),s=new Dp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ip(await Ef(e),s))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>jp(await Ef(e),s)))}}(Kf(d),h,c,u)}(zf(nm,"jobs",t.id,"applications"),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));o((e=>({...e,[t.id]:n})))}));e[t.id]=n;(async()=>{try{const e=Bf(zf(nm,"employers",tm.currentUser.uid,"hired"),t.id),n=await Bg(e);n.exists()&&v((e=>({...e,[t.id]:n.data().applicants||[]})))}catch(e){console.error("Error fetching hired applicants:",e)}})()})),()=>{Object.values(e).forEach((e=>e()))}}),[n]);const O=e=>{u(e)},D=e=>{I({...T,[e.target.name]:e.target.value})},L=e=>{let{cert:t,onClose:n}=e;return t?(0,Iy.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Iy.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"90%",maxWidth:"400px"},children:[(0,Iy.jsx)("h4",{children:"Certification Details"}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Name:"})," ",t.name]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Issuer:"})," ",t.issuer]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Issue Date:"})," ",t.issueDate]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Expiry Date:"})," ",t.expiryDate]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Credential ID:"})," ",t.credentialID]}),t.imageURL&&(0,Iy.jsx)("img",{src:t.imageURL,alt:"cert",style:{maxWidth:"100%",marginTop:"10px",borderRadius:"5px"}}),(0,Iy.jsx)("button",{onClick:n,style:{marginTop:"15px"},children:"Close"})]})}):null};return(0,Iy.jsxs)("div",{className:"employer-profile",style:{maxWidth:"1200px",margin:"0 auto",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Iy.jsx)("h2",{style:{marginTop:"20px",color:"#333",textAlign:"center",fontSize:"28px",fontWeight:"600",marginBottom:"30px",marginTop:"5%"},children:"Employer Dashboard"}),e?(0,Iy.jsxs)("div",{className:"profile-container",style:{display:"flex",flexWrap:"wrap",gap:"30px"},children:[(0,Iy.jsxs)("div",{className:"profile-details",style:{flex:"1",minWidth:"300px",backgroundColor:"#fff",borderRadius:"10px",padding:"25px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[(0,Iy.jsxs)("div",{className:"profile-picture",style:{position:"relative",marginRight:"20px"},children:[(0,Iy.jsxs)("label",{htmlFor:"profile-pic-upload",style:{cursor:"pointer"},children:[(0,Iy.jsxs)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:"3px solid #3498db",position:"relative"},children:[(0,Iy.jsx)("img",{src:j||"/default-profile.png",alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}),N&&(0,Iy.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff"},children:"Uploading..."})]}),(0,Iy.jsx)("div",{style:{position:"absolute",bottom:"0",right:"0",backgroundColor:"#3498db",width:"30px",height:"30px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",fontSize:"18px"},children:"+"})]}),(0,Iy.jsx)("input",{type:"file",id:"profile-pic-upload",style:{display:"none"},onChange:async e=>{const t=e.target.files[0];if(t){A(!0);const e=to(rm,`profile_pictures/${tm.currentUser.uid}`);await Zs(e,t);const n=await eo(e);R(n),await qg(Bf(nm,"employers",tm.currentUser.uid),{profilePic:n}),A(!1)}}})]}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("h3",{style:{fontSize:"24px",fontWeight:"600",color:"#333",margin:"0 0 5px 0"},children:e.companyName}),(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center",color:"#666"},children:[(0,Iy.jsx)("span",{style:{marginRight:"10px"},children:e.industry}),"\u2022",(0,Iy.jsx)("span",{style:{marginLeft:"10px"},children:e.location})]})]})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Iy.jsx)("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#333",marginBottom:"10px",paddingBottom:"5px",borderBottom:"1px solid #eee"},children:"Company Details"}),(0,Iy.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"3px"},children:"Industry:"}),d?(0,Iy.jsx)("input",{type:"text",name:"industry",value:T.industry,onChange:D,style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #ddd"}}):(0,Iy.jsx)("div",{children:e.industry})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"3px"},children:"Location:"}),d?(0,Iy.jsx)("input",{type:"text",name:"location",value:T.location,onChange:D,style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #ddd"}}):(0,Iy.jsx)("div",{children:e.location})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"3px"},children:"Description:"}),d?(0,Iy.jsx)("textarea",{name:"description",value:T.description,onChange:D,style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #ddd",minHeight:"100px",resize:"vertical"}}):(0,Iy.jsx)("div",{style:{lineHeight:"1.5",color:"#555"},children:e.description})]})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Iy.jsx)("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#333",marginBottom:"10px",paddingBottom:"5px",borderBottom:"1px solid #eee"},children:"Contact Information"}),(0,Iy.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"3px"},children:"Contact Person:"}),d?(0,Iy.jsx)("input",{type:"text",name:"contactPerson",value:T.contactPerson,onChange:D,style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #ddd"}}):(0,Iy.jsx)("div",{children:e.contactPerson||"Not specified"})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"3px"},children:"Email:"}),(0,Iy.jsx)("div",{children:e.email})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"3px"},children:"Phone:"}),d?(0,Iy.jsx)("input",{type:"text",name:"phone",value:T.phone,onChange:D,style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #ddd"}}):(0,Iy.jsx)("div",{children:e.phone})]})]}),d?(0,Iy.jsx)("button",{className:"save-btn",onClick:async()=>{if(tm.currentUser){const e=Bf(nm,"employers",tm.currentUser.uid);await qg(e,T),t((e=>({...e,...T}))),h(!1)}},style:{backgroundColor:"#2ecc71",color:"#fff",border:"none",padding:"10px 15px",borderRadius:"5px",cursor:"pointer",fontWeight:"600",width:"100%",fontSize:"16px"},children:"Save Changes"}):(0,Iy.jsx)("button",{className:"edit-btn",onClick:()=>{h(!0)},style:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"10px 15px",borderRadius:"5px",cursor:"pointer",fontWeight:"600",width:"100%",fontSize:"16px"},children:"Edit Profile"})]}),(0,Iy.jsxs)("div",{className:"jobs-section",style:{flex:"2",minWidth:"400px",backgroundColor:"#fff",borderRadius:"10px",padding:"25px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Iy.jsxs)("h3",{style:{fontSize:"22px",fontWeight:"600",color:"#333",marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Iy.jsx)("span",{children:"Active Job Listings"}),(0,Iy.jsx)(ky,{to:"/employer/post-job",style:{fontSize:"14px",backgroundColor:"#3498db",color:"#fff",textDecoration:"none",padding:"5px 15px",borderRadius:"5px",display:"inline-block"},children:(0,Iy.jsx)("span",{children:"+ Post New Job"})})]}),n.length>0?(0,Iy.jsx)("ul",{className:"job-list",style:{listStyle:"none",padding:"0",margin:"0"},children:n.map((e=>{var t,n,i,o,c,u;return(0,Iy.jsxs)("li",{className:"job-card",style:{marginBottom:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"20px",borderLeft:"closed"===e.status?"4px solid #e74c3c":"4px solid #3498db"},children:[(0,Iy.jsxs)("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"space-between"},children:[(0,Iy.jsxs)("h4",{style:{margin:"0",fontSize:"18px",fontWeight:"600",color:"#333"},children:[e.title,"closed"===e.status&&(0,Iy.jsx)("span",{style:{color:"#e74c3c",fontSize:"14px",fontWeight:"normal",marginLeft:"10px",padding:"3px 8px",backgroundColor:"#fde2e2",borderRadius:"4px"},children:"Closed"})]}),(0,Iy.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Iy.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to close this job post? It will no longer be visible to applicants."))try{await qg(Bf(nm,"jobs",e),{status:"closed"}),r((t=>t.map((t=>t.id===e?{...t,status:"closed"}:t)))),alert("Job post has been closed.")}catch(t){console.error("Error closing job:",t),alert("Failed to close job. Please try again.")}})(e.id),disabled:"closed"===e.status,style:{padding:"5px 10px",backgroundColor:"closed"===e.status?"#ccc":"#e74c3c",color:"#fff",border:"none",borderRadius:"4px",cursor:"closed"===e.status?"not-allowed":"pointer",fontSize:"12px"},children:"Close Job"}),(0,Iy.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this job post?")&&(await Kg(Bf(nm,"jobs",e)),r((t=>t.filter((t=>t.id!==e)))),alert("Job post deleted successfully!"))})(e.id),style:{padding:"5px 10px",backgroundColor:"#7f8c8d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]})]}),(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",color:"#666",fontSize:"14px"},children:[(0,Iy.jsxs)("span",{style:{marginRight:"15px"},children:["\ud83d\udccd ",e.location]}),e.salary&&(0,Iy.jsxs)("span",{children:["\ud83d\udcb0 ",e.salary]})]}),(0,Iy.jsx)("p",{style:{margin:"0 0 15px 0",color:"#555",fontSize:"14px",lineHeight:"1.5"},children:(null===(t=e.description)||void 0===t?void 0:t.length)>150?`${e.description.substring(0,150)}...`:e.description}),(0,Iy.jsxs)("div",{className:"job-stats",style:{display:"flex",marginBottom:"15px",fontSize:"13px"},children:[(0,Iy.jsxs)("div",{style:{marginRight:"15px",backgroundColor:"#eaf2fd",padding:"5px 10px",borderRadius:"4px",color:"#3498db"},children:["\ud83d\udc65 ",(null===(n=s[e.id])||void 0===n?void 0:n.length)||0," Applicants"]}),(0,Iy.jsxs)("div",{style:{backgroundColor:"#e2f7eb",padding:"5px 10px",borderRadius:"4px",color:"#27ae60"},children:["\u2705 ",(null===(i=y[e.id])||void 0===i?void 0:i.length)||0," Hired"]})]}),(0,Iy.jsxs)("div",{className:"job-buttons",style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,Iy.jsx)("button",{onClick:()=>(e=>{l(e.id),E(!1)})(e),style:{padding:"8px 12px",backgroundColor:a!==e.id||_?"#3498db":"#2c3e50",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",flex:"1"},children:"View Applicants"}),(0,Iy.jsx)("button",{onClick:()=>{return t=e.id,l(t),void E(!_);var t},style:{padding:"8px 12px",backgroundColor:_&&a===e.id?"#2c3e50":"#2ecc71",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",flex:"1"},children:"View Hired"})]}),a===e.id&&!_&&(0,Iy.jsxs)("div",{id:"JOBlist",style:{marginTop:"15px",backgroundColor:"#fff",borderRadius:"6px",padding:"15px",border:"1px solid #e1e1e1"},children:[(0,Iy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,Iy.jsxs)("h5",{style:{margin:"0",fontSize:"16px",fontWeight:"600",color:"#333"},children:["Applicants (",(null===(o=s[e.id])||void 0===o?void 0:o.length)||0,")"]}),(0,Iy.jsxs)("div",{className:"filter-controls",style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Iy.jsx)("select",{value:b,onChange:e=>x(e.target.value),style:{padding:"6px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"13px"},children:(0,Iy.jsx)("option",{value:"name",children:"Name"})}),(0,Iy.jsxs)("select",{value:w,onChange:e=>S(e.target.value),style:{padding:"6px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"13px"},children:[(0,Iy.jsx)("option",{value:"asc",children:"A-Z"}),(0,Iy.jsx)("option",{value:"desc",children:"Z-A"})]})]})]}),(0,Iy.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto",borderRadius:"6px"},className:"applicant-list",children:s[e.id]&&s[e.id].length>0?(u=e.id,s[u]?[...s[u]].sort(((e,t)=>"name"===b?"asc"===w?e.name.localeCompare(t.name):t.name.localeCompare(e.name):0)):[]).map((e=>(0,Iy.jsxs)("div",{style:{padding:"15px",marginBottom:"10px",backgroundColor:"#f9f9f9",borderRadius:"6px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #eee",":hover":{transform:"translateY(-2px)",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}},children:[(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:"1"},children:[e.profilePicURL?(0,Iy.jsx)("img",{src:e.profilePicURL,alt:e.name,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",marginRight:"15px",border:"2px solid #3498db"}}):(0,Iy.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#3498db",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",fontWeight:"bold",marginRight:"15px",fontSize:"16px"},children:e.name?e.name[0].toUpperCase():"A"}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",fontSize:"15px",color:"#333",marginBottom:"3px"},children:e.name}),(0,Iy.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:e.email})]})]}),(0,Iy.jsx)("div",{children:(0,Iy.jsx)("button",{onClick:t=>{t.stopPropagation(),O(e)},style:{padding:"6px 12px",backgroundColor:"#3498db",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600"},children:"View Details"})})]},e.id))):(0,Iy.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#777",backgroundColor:"#f9f9f9",borderRadius:"6px",border:"1px dashed #ddd"},children:[(0,Iy.jsx)("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"\ud83d\udc65"}),(0,Iy.jsx)("p",{style:{margin:"0"},children:"No applicants for this position yet."})]})})]}),a===e.id&&_&&(0,Iy.jsxs)("div",{id:"HiredList",style:{marginTop:"15px",backgroundColor:"#fff",borderRadius:"6px",padding:"15px",border:"1px solid #e1e1e1"},children:[(0,Iy.jsxs)("h5",{style:{margin:"0 0 15px 0",fontSize:"16px",fontWeight:"600",color:"#333"},children:["Hired Applicants (",(null===(c=y[e.id])||void 0===c?void 0:c.length)||0,")"]}),(0,Iy.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto",borderRadius:"6px"},className:"hired-applicant-list",children:y[e.id]&&y[e.id].length>0?y[e.id].map((e=>(0,Iy.jsxs)("div",{style:{padding:"15px",marginBottom:"10px",backgroundColor:"#e6ffe6",border:"1px solid #c1e7c1",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",":hover":{transform:"translateY(-2px)",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}},onClick:()=>O(e),children:[e.profilePicURL?(0,Iy.jsx)("img",{src:e.profilePicURL,alt:e.name,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",marginRight:"15px",border:"2px solid #27ae60"}}):(0,Iy.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#27ae60",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",fontWeight:"bold",marginRight:"15px",fontSize:"16px"},children:e.name?e.name[0].toUpperCase():"A"}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",fontSize:"15px",color:"#333",marginBottom:"3px"},children:e.name}),(0,Iy.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:e.email})]})]},e.id))):(0,Iy.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#777",backgroundColor:"#f9f9f9",borderRadius:"6px",border:"1px dashed #ddd"},children:[(0,Iy.jsx)("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"\u2705"}),(0,Iy.jsx)("p",{style:{margin:"0"},children:"No hired applicants for this position yet."})]})})]})]},e.id)}))}):(0,Iy.jsxs)("div",{style:{padding:"30px",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px dashed #ddd"},children:[(0,Iy.jsx)("div",{style:{fontSize:"32px",marginBottom:"15px"},children:"\ud83d\udccb"}),(0,Iy.jsx)("p",{style:{margin:"0 0 15px 0",fontSize:"16px",color:"#555"},children:"You haven't posted any jobs yet."}),(0,Iy.jsx)(ky,{to:"/employer/post-job",style:{fontSize:"14px",backgroundColor:"#3498db",color:"#fff",textDecoration:"none",padding:"5px 15px",borderRadius:"5px",display:"inline-block"},children:(0,Iy.jsx)("span",{children:"Post Your First Job"})})]})]})]}):(0,Iy.jsxs)("div",{style:{padding:"40px",textAlign:"center",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Iy.jsx)("div",{style:{width:"80px",height:"80px",margin:"0 auto 20px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,Iy.jsx)("p",{style:{fontSize:"18px",color:"#777"},children:"Loading employer details..."}),(0,Iy.jsx)("style",{children:"\n                        @keyframes spin {\n                            0% { transform: rotate(0deg); }\n                            100% { transform: rotate(360deg); }\n                        }\n                    "})]}),c&&(0,Iy.jsx)("div",{className:"modal-overlay1",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Iy.jsxs)("div",{className:"modal-content",style:{backgroundColor:"#fff",borderRadius:"10px",width:"90%",maxWidth:"700px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 5px 20px rgba(0, 0, 0, 0.2)",padding:"0"},children:[(0,Iy.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:[(0,Iy.jsx)("h4",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#333"},children:"Applicant Details"}),(0,Iy.jsx)("button",{onClick:()=>{u(null)},style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#777"},children:"\xd7"})]}),(0,Iy.jsxs)("div",{style:{padding:"25px"},children:[(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"25px",backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"20px"},children:[(0,Iy.jsx)("div",{style:{marginRight:"20px"},children:c.profilePicURL?(0,Iy.jsx)("img",{src:c.profilePicURL,alt:"Profile",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid #3498db"}}):(0,Iy.jsx)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"#3498db",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"40px"},children:c.name?c.name[0].toUpperCase():"A"})}),(0,Iy.jsxs)("div",{style:{flex:1},children:[(0,Iy.jsx)("h3",{style:{margin:"0 0 5px 0",fontSize:"24px",fontWeight:"600",color:"#333"},children:c.name}),(0,Iy.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"10px"},children:[(0,Iy.jsx)("div",{style:{backgroundColor:"#e3f2fd",color:"#1976d2",padding:"5px 10px",borderRadius:"4px",fontSize:"13px",fontWeight:"500"},children:c.type||"Not specified"}),c.status&&(0,Iy.jsx)("div",{style:{backgroundColor:"Active"===c.status?"#e8f5e9":"#ffebee",color:"Active"===c.status?"#388e3c":"#d32f2f",padding:"5px 10px",borderRadius:"4px",fontSize:"13px",fontWeight:"500"},children:c.status})]}),(0,Iy.jsxs)("div",{style:{fontSize:"15px",color:"#666",marginBottom:"5px"},children:[(0,Iy.jsx)("span",{style:{marginRight:"5px"},children:"\ud83d\udce7"})," ",c.email]}),c.phone&&(0,Iy.jsxs)("div",{style:{fontSize:"15px",color:"#666"},children:[(0,Iy.jsx)("span",{style:{marginRight:"5px"},children:"\ud83d\udcf1"})," ",c.phone]})]})]}),(0,Iy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",marginBottom:"25px"},children:c.githubRepo&&(0,Iy.jsxs)("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"15px",border:"1px solid #eee"},children:[(0,Iy.jsxs)("h5",{style:{margin:"0 0 10px 0",fontSize:"16px",fontWeight:"600",color:"#333",display:"flex",alignItems:"center"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\ud83d\udc68\u200d\ud83d\udcbb"})," GitHub Repository"]}),(0,Iy.jsxs)("a",{href:c.githubRepo,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",padding:"10px",backgroundColor:"#fff",borderRadius:"5px",border:"1px solid #ddd",color:"#3498db",textDecoration:"none",fontWeight:"500",transition:"background-color 0.2s",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\ud83d\udd17"}),c.githubRepo.replace(/^https?:\/\/(www\.)?github\.com\//,"")]})]})}),c.socialLinks&&Object.keys(c.socialLinks).length>0&&(0,Iy.jsxs)("div",{style:{marginBottom:"25px",backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"15px",border:"1px solid #eee"},children:[(0,Iy.jsxs)("h5",{style:{margin:"0 0 15px 0",fontSize:"16px",fontWeight:"600",color:"#333",display:"flex",alignItems:"center"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\ud83d\udd17"})," Social Links"]}),(0,Iy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"10px"},children:[c.socialLinks.linkedin&&(0,Iy.jsxs)("a",{href:c.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",padding:"10px",backgroundColor:"#e8f1f8",borderRadius:"5px",color:"#0077b5",textDecoration:"none",fontWeight:"500",transition:"transform 0.2s",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px",fontSize:"18px"},children:"in"}),"LinkedIn"]}),c.socialLinks.portfolio&&(0,Iy.jsxs)("a",{href:c.socialLinks.portfolio,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",padding:"10px",backgroundColor:"#e8f5e9",borderRadius:"5px",color:"#388e3c",textDecoration:"none",fontWeight:"500",transition:"transform 0.2s",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px",fontSize:"18px"},children:"\ud83c\udf10"}),"Portfolio"]}),c.socialLinks.twitter&&(0,Iy.jsxs)("a",{href:c.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",padding:"10px",backgroundColor:"#e8f5fd",borderRadius:"5px",color:"#1da1f2",textDecoration:"none",fontWeight:"500",transition:"transform 0.2s",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px",fontSize:"18px"},children:"\ud83d\udc26"}),"Twitter"]}),c.socialLinks.other&&(0,Iy.jsxs)("a",{href:c.socialLinks.other,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",padding:"10px",backgroundColor:"#fff3e0",borderRadius:"5px",color:"#ff9800",textDecoration:"none",fontWeight:"500",transition:"transform 0.2s",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px",fontSize:"18px"},children:"\ud83d\udd17"}),"Other"]})]})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"25px",backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"15px",border:"1px solid #eee"},children:[(0,Iy.jsxs)("h5",{style:{margin:"0 0 15px 0",fontSize:"16px",fontWeight:"600",color:"#333",display:"flex",alignItems:"center"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\ud83c\udfc6"})," Certifications"]}),c.certifications&&Object.keys(c.certifications).length>0?(0,Iy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"15px"},children:Object.entries(c.certifications).map((e=>{let[t,n]=e;return(0,Iy.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"6px",padding:"15px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",fontSize:"15px",color:"#333",marginBottom:"10px",borderBottom:"1px solid #eee",paddingBottom:"5px"},children:t}),(0,Iy.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:n.map(((e,n)=>(0,Iy.jsxs)("button",{onClick:()=>{u({...c,selectedCert:e}),C(!0)},style:{fontSize:"14px",color:"#3498db",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",padding:"3px 0",outline:"none"},children:[(0,Iy.jsx)("span",{style:{marginRight:"5px",fontSize:"12px"},children:"\ud83d\udd17"}),"Certificate ",n+1]},`${t}-${n}`)))})]},t)}))}):(0,Iy.jsx)("div",{style:{padding:"15px",textAlign:"center",color:"#777",backgroundColor:"#f2f2f2",borderRadius:"6px",border:"1px dashed #ddd"},children:"No certifications provided"})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"25px",backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"15px",border:"1px solid #eee"},children:[(0,Iy.jsxs)("h5",{style:{margin:"0 0 15px 0",fontSize:"16px",fontWeight:"600",color:"#333",display:"flex",alignItems:"center"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\ud83d\udcdd"})," Application Details"]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#555"},children:"Cover Letter"}),(0,Iy.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"6px",padding:"15px",border:"1px solid #eee",lineHeight:"1.6",color:"#444",fontSize:"14px"},children:c.socialLinks||"No cover letter provided"})]}),c.portfolioLinks&&c.portfolioLinks.length>0&&(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#555"},children:"Portfolio Links"}),(0,Iy.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:c.portfolioLinks.map(((e,t)=>(0,Iy.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"14px",color:"#3498db",textDecoration:"none",backgroundColor:"#f0f8ff",padding:"8px 12px",borderRadius:"4px",display:"flex",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px",fontSize:"14px"},children:"\ud83d\udd17"}),e]},t)))})]}),c.additionalInfo&&(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#555"},children:"Additional Information"}),(0,Iy.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"6px",padding:"15px",border:"1px solid #eee",lineHeight:"1.6",color:"#444",fontSize:"14px"},children:c.additionalInfo})]})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"25px",backgroundColor:"#f0f8ff",borderRadius:"8px",padding:"15px",border:"1px solid #d1e6fa"},children:[(0,Iy.jsxs)("h5",{style:{margin:"0 0 15px 0",fontSize:"16px",fontWeight:"600",color:"#1976d2",display:"flex",alignItems:"center"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\u2709\ufe0f"})," Contact Applicant"]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#555"},children:"Email Subject"}),(0,Iy.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"Regarding your application for [Job Title]",style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #cce5ff",backgroundColor:"#fff"}})]}),(0,Iy.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Iy.jsx)("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#555"},children:"Email Body"}),(0,Iy.jsx)("textarea",{value:g,onChange:e=>m(e.target.value),placeholder:"Write your message to the applicant here...",style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #cce5ff",backgroundColor:"#fff",minHeight:"120px",resize:"vertical"}})]}),(0,Iy.jsx)("button",{onClick:async()=>{if(c&&a&&e)try{const t=zf(nm,"applicants",c.id,"notifications"),n={jobId:a,companyName:e.companyName,subject:p,message:g,timestamp:new Date,status:"unread"};await Gg(t,n),console.log("Notification added successfully!"),alert("Email sent successfully!"),u(null)}catch(t){console.error("Error sending email or updating Firestore:",t),alert("Failed to send email. Please try again.")}else console.error("Missing required data (applicant, job, or employer).")},disabled:!p||!g,style:{backgroundColor:p&&g?"#1976d2":"#b3d7ff",color:p&&g?"#fff":"#666",border:"none",padding:"10px 15px",borderRadius:"5px",cursor:p&&g?"pointer":"not-allowed",fontWeight:"600",width:"100%",fontSize:"16px"},children:"Send Email"})]}),(0,Iy.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"15px"},children:[(0,Iy.jsxs)("button",{className:"hire-btn",onClick:async()=>{if(c&&a)try{const e=Bf(nm,"employers",tm.currentUser.uid,"hired",a),t=await Bg(e);let n=[];if(t.exists()&&(n=t.data().applicants||[]),n.some((e=>e.id===c.id)))alert("This applicant has already been hired!");else{n.push(c),await $g(e,{applicants:n},{merge:!0});const t=Bf(nm,"jobs",a,"applications",c.id);await Kg(t),v((e=>({...e,[a]:[...e[a]||[],c]}))),alert(`${c.name} has been hired!`),u(null)}}catch(e){console.error("Error hiring applicant:",e),alert("Failed to hire applicant. Please try again.")}else console.error("No applicant or job selected")},style:{backgroundColor:"#2ecc71",color:"#fff",border:"none",padding:"12px",borderRadius:"5px",cursor:"pointer",fontWeight:"600",flex:"1",fontSize:"16px",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\u2705"})," Hire Applicant"]}),(0,Iy.jsxs)("button",{className:"reject-btn",onClick:async()=>{if(!c||!a)return void console.error("No applicant or job selected");if(window.confirm(`Are you sure you want to reject ${c.name}?`))try{await Kg(Bf(nm,"jobs",a,"applications",c.id)),o((e=>({...e,[a]:e[a].filter((e=>e.id!==c.id))}))),alert(`${c.name} has been rejected.`),u(null)}catch(e){console.error("Error rejecting applicant:",e),alert("Failed to reject applicant. Please try again.")}},style:{backgroundColor:"#e74c3c",color:"#fff",border:"none",padding:"12px",borderRadius:"5px",cursor:"pointer",fontWeight:"600",flex:"1",fontSize:"16px",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,Iy.jsx)("span",{style:{marginRight:"8px"},children:"\u274c"})," Reject Applicant"]})]})]}),k&&(null===c||void 0===c?void 0:c.selectedCert)&&(0,Iy.jsx)(L,{cert:c.selectedCert,onClose:()=>{C(!1),u(null)}})]})})]})},Py=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(new Set),[g,m]=(0,i.useState)("ascending"),[y,v]=(0,i.useState)("date");(0,i.useEffect)((()=>{(async()=>{try{if(tm.currentUser){const e=zf(nm,"applicants",tm.currentUser.uid,"submissions"),t=await Wg(e);if(t.empty)return console.log("No submissions found for the user"),h(0),0;{let e=0,n=0;if(t.forEach((t=>{const r=t.data();r.scores&&void 0!==r.scores.overall&&(e+=parseFloat(r.scores.overall),n++)})),n>0){const t=e/n;return h(t),t}return console.log("No submissions with scores found"),h(0),0}}return console.log("No authenticated user found"),0}catch(e){return console.error("Error fetching user's average score:",e),0}})(),(async()=>{const e=zf(nm,"jobs"),n=(await Wg(e)).docs.map((e=>({id:e.id,...e.data(),averageScore:parseFloat(e.data().averageScore||0)}))).filter((e=>{var t;return"closed"!==(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}));t(n),o(n)})(),b()}),[]);const b=async()=>{if(tm.currentUser){const e=tm.currentUser.uid,t=zf(nm,"jobs"),n=await Wg(t),r=new Set;for(const i of n.docs){const t=zf(nm,"jobs",i.id,"applications");(await Wg(t)).docs.some((t=>t.id===e))&&r.add(i.id)}f(r)}};(0,i.useEffect)((()=>{if(a&&a.employerId){(async()=>{try{const e=Bf(nm,"employers",a.employerId),t=await Bg(e);u(t.exists()?t.data():null)}catch(e){console.error("Error fetching employer details:",e),u(null)}})()}else u(null)}),[a]);const x=()=>{let e=[...s];if("title"===y)e.sort(((e,t)=>"ascending"===g?e.title.localeCompare(t.title):t.title.localeCompare(e.title)));else if("date"===y)e.sort(((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.seconds?1e3*e.createdAt.seconds:0,s=null!==(r=t.createdAt)&&void 0!==r&&r.seconds?1e3*t.createdAt.seconds:0;return"ascending"===g?i-s:s-i}));else if("role"===y){const t=["Front-end Developer","Back-end Developer","Full Stack Developer","React Developer","Vue.js Developer","Angular Developer","Node.js Developer","Django Developer","Laravel Developer","Express.js Developer","JavaScript Engineer","TypeScript Developer","Next.js Developer","Nuxt.js Developer","API Developer"];e.sort(((e,n)=>{const r=t.indexOf(e.title),i=t.indexOf(n.title),s=-1===r?t.length:r,o=-1===i?t.length:i;return"ascending"===g?s-o:o-s}))}o(e)},w=s.filter((e=>null!==d&&d>=e.averageScore)),S=async(e,t,n)=>{if(n.stopPropagation(),tm.currentUser)try{const n=tm.currentUser.uid,r=Bf(nm,"applicants",n),i=await Bg(r);if(!i.exists())return void console.error("User data not found!");const s=i.data(),{name:o,certifications:a=[],githubRepo:l,email:c}=s,u=zf(nm,"applicants",n,"submissions"),d=(await Wg(u)).docs.map((e=>({id:e.id,...e.data()}))),h=Bf(nm,"jobs",e,"applications",n),p={userId:n,jobId:e,appliedAt:Go.now(),name:o,certifications:a,githubRepo:l,email:c,submissions:d};await $g(h,p);const f=await Bg(Bf(nm,"jobs",e));if(!f.exists())return void console.error("Job not found!");const g=f.data(),m=g.companyName,y=g.jobRole,v=(await Wg(zf(nm,"employers"))).docs.find((e=>e.data().companyName===m),(e=>e.data().jobRole===y));if(v){const e=v.id;await(async(e,t,n)=>{const r=zf(nm,"employers",e,"notifications");await Gg(r,{subject:"New Job Application",message:`${n} applied for your job posting: ${t}.`,status:"unread",timestamp:Zg()})})(e,t,o)}else console.warn("No matching employer found for company:",m);await b(),alert("Applied to job: "+t)}catch(r){console.error("Error applying to job:",r)}};return(0,Iy.jsx)("div",{style:{position:"relative"},children:(0,Iy.jsxs)("div",{id:"job-search-container",style:{padding:"20px",transition:"filter 0.3s ease-in-out"},children:[(0,Iy.jsx)("h2",{style:{marginTop:"25px"},children:"Search Jobs"}),(0,Iy.jsx)("input",{type:"text",placeholder:"Search for jobs...",value:n,onChange:t=>{r(t.target.value);const n=e.filter((e=>{const n=t.target.value.toLowerCase(),r=!!e.title&&e.title.toLowerCase().includes(n),i=!!e.description&&e.description.toLowerCase().includes(n),s=!!e.companyName&&e.companyName.toLowerCase().includes(n),o=!!e.location&&e.location.toLowerCase().includes(n),a=!!e.jobRole&&e.jobRole.toLowerCase().includes(n);return r||i||s||o||a}));o(n)},style:{marginBottom:"20px",marginTop:"20px",width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"}}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsxs)("button",{onClick:()=>{m((e=>"ascending"===e?"descending":"ascending")),x()},style:{padding:"8px 16px",fontSize:"16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",marginBottom:"20px",marginRight:"10px"},children:["Sort by ","ascending"===g?"Descending":"Ascending"]}),(0,Iy.jsxs)("select",{onChange:e=>{v(e.target.value),x()},value:y,style:{padding:"8px 16px",fontSize:"16px",borderRadius:"5px",border:"1px solid #ddd",marginBottom:"20px",backgroundColor:"#fff"},children:[(0,Iy.jsx)("option",{value:"date",children:"Sort by Date"}),(0,Iy.jsx)("option",{value:"title",children:"Sort by Title"})]}),(0,Iy.jsx)("h3",{children:"Highest Eligible Jobs"}),(0,Iy.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"},children:w.map((e=>(0,Iy.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 0 10px black",padding:"10px",width:"200px",cursor:"pointer",background:"#a6faf6",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onClick:()=>l(e),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 0 15px rgba(0, 0, 0, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 0 10px black"},children:[(0,Iy.jsx)("h4",{children:e.title}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Company:"})," ",e.companyName]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"JobRole:"})," ",e.jobRole]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",e.location]})]},e.id)))}),(0,Iy.jsx)("h3",{children:"All Jobs"}),(0,Iy.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"},children:s.map((e=>(0,Iy.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 0 10px black",padding:"10px",width:"200px",cursor:"pointer",background:"#a6faf6",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onClick:()=>l(e),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 0 15px rgba(0, 0, 0, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 0 10px black"},children:(0,Iy.jsxs)("div",{className:"job-posting",children:[(0,Iy.jsx)("h4",{children:e.title}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Company:"})," ",e.companyName]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Job Role:"})," ",e.jobRole]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",e.location]})]})},e.id)))})]}),a&&(0,Iy.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",width:"80%",maxWidth:"80%",maxHeight:"80%",padding:"24px",zIndex:1e3,overflowY:"auto",animation:"fadeIn 0.3s ease",fontFamily:"sans-serif"},children:[(0,Iy.jsx)("h3",{children:a.title}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Posted On:"})," ",new Date(1e3*a.createdAt.seconds).toLocaleDateString()]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Company:"})," ",a.companyName]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Role:"})," ",a.jobRole]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",a.location]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Description:"})," ",a.description]}),c&&(0,Iy.jsxs)("div",{style:{marginTop:"20px",padding:"16px",border:"1px solid #eee",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[(0,Iy.jsx)("h3",{style:{marginTop:0},children:"Company Details"}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Industry:"})," ",c.industry]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",c.location]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"About:"})," ",c.description]}),(0,Iy.jsx)("h3",{style:{marginTop:0},children:"Contact Information"}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Name:"})," ",c.contactPerson]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Email:"})," ",c.email]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Phone:"})," ",c.phone]}),(0,Iy.jsx)("div",{style:{marginTop:"12px"},children:(0,Iy.jsx)("img",{src:c.profilePic||"/default-profile.png",alt:"Employer Profile",style:{width:"100px",height:"100px",borderRadius:"50%",border:"2px solid #ccc",objectFit:"cover"}})})]}),p.has(a.id)?(0,Iy.jsx)("button",{onClick:e=>(async(e,t)=>{if(t.stopPropagation(),tm.currentUser)try{const t=tm.currentUser.uid,n=Bf(nm,"jobs",e,"applications",t);await Kg(n),await b(),alert("Application canceled.")}catch(n){console.error("Error canceling application:",n)}})(a.id,e),style:{backgroundColor:"red",color:"white",padding:"10px",marginRight:"10px",borderRadius:"5px",marginTop:"10px"},children:"Cancel Application"}):(0,Iy.jsx)("button",{onClick:e=>S(a.id,a.title,e),style:{backgroundColor:"#007bff",color:"#fff",padding:"10px",marginRight:"10px",borderRadius:"5px",marginTop:"10px"},children:"Apply"}),(0,Iy.jsx)("button",{onClick:()=>l(null),style:{padding:"10px",borderRadius:"5px",marginTop:"10px"},children:"Close"})]})]})})};function Oy(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(Wx){s(Wx)}}function a(e){try{l(r.throw(e))}catch(Wx){s(Wx)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function Dy(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(Wx){s=[6,Wx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var Ly=function(){return Ly=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ly.apply(this,arguments)},Uy=function(e){return{loading:void 0===e||null===e,value:e}},My=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return Ly(Ly({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Uy(t.defaultValue);case"value":return Ly(Ly({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Uy(t)),r=n[0],s=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})}),[e]),a=(0,i.useCallback)((function(e){s({type:"error",error:e})}),[]),l=(0,i.useCallback)((function(e){s({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:a,setValue:l,value:r.value}}),[r.error,r.loading,o,a,l,r.value])};const Fy=["Front-end Developer","Back-end Developer","Full Stack Developer","React Developer","Vue.js Developer","Angular Developer","Node.js Developer","Django Developer","Laravel Developer","Express.js Developer","JavaScript Engineer","TypeScript Developer","Next.js Developer","Nuxt.js Developer","API Developer"],Vy=()=>{const[e]=function(e,t){var n=My((function(){return e.currentUser})),r=n.error,s=n.loading,o=n.setError,a=n.setValue,l=n.value;return(0,i.useEffect)((function(){var n=yr(e,(function(e){return Oy(void 0,void 0,void 0,(function(){var n;return Dy(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return a(e),[2]}}))}))}),o);return function(){n()}}),[e]),[l,s,r]}(tm),[t,n]=(0,i.useState)(""),[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(50),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{if(e){const t=await Bg(Bf(nm,"employers",e.uid));t.exists()&&d(t.data().companyName)}}catch(t){console.error("Error fetching company name:",t)}})()}),[e]);const f={formContainer:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"500px",margin:"auto",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9",boxShadow:"none"},input:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",boxShadow:"none"},textarea:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",minHeight:"80px",boxShadow:"none"},select:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",boxShadow:"none",backgroundColor:"#fff"},button:{padding:"10px 20px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background 0.3s",boxShadow:"none"}};return(0,Iy.jsxs)("div",{id:"job-posting-container",style:{padding:"20px",maxWidth:"600px",margin:"auto",marginTop:"90px",borderRadius:"8px"},children:[(0,Iy.jsx)("h2",{children:"Post a Job"}),(0,Iy.jsxs)("form",{onSubmit:async i=>{i.preventDefault();try{const i=`job_${Date.now()}`,d=Bf(nm,"jobs-to-be-approved",i);await $g(d,{id:i,title:t,description:r,location:o,jobRole:h,averageScore:l,createdAt:new Date,employerId:null===e||void 0===e?void 0:e.uid,companyName:u,jobRole:h,status:"pending"}),n(""),s(""),a(""),p(""),c(50),alert("Job posted successfully and is awaiting approval!")}catch(d){console.error("Error posting job:",d),alert("Failed to post the job. Please try again.")}},style:f.formContainer,children:[(0,Iy.jsx)("input",{type:"text",placeholder:"Job Title",value:t,onChange:e=>n(e.target.value),required:!0,style:f.input}),(0,Iy.jsxs)("select",{value:h,onChange:e=>p(e.target.value),required:!0,style:f.select,children:[(0,Iy.jsx)("option",{value:"",children:"Select Job Role"}),Fy.map((e=>(0,Iy.jsx)("option",{value:e,children:e},e)))]}),(0,Iy.jsx)("textarea",{placeholder:"Job Description",value:r,onChange:e=>s(e.target.value),required:!0,style:f.textarea}),(0,Iy.jsx)("input",{type:"text",placeholder:"Location",value:o,onChange:e=>a(e.target.value),required:!0,style:f.input}),(0,Iy.jsxs)("div",{style:f.scoreContainer,children:[(0,Iy.jsx)("label",{style:f.label,children:"Average Score:"}),(0,Iy.jsxs)("div",{style:f.rangeContainer,children:[(0,Iy.jsx)("input",{type:"number",value:l,min:"0",max:"100",onChange:e=>{const t=parseInt(e.target.value,10)||0;c(Math.max(0,Math.min(100,t)))},placeholder:"0-100",style:f.numberInput}),(0,Iy.jsx)("input",{type:"range",min:"0",max:"100",value:l,onChange:e=>c(parseInt(e.target.value,10)),style:f.rangeInput}),(0,Iy.jsxs)("span",{style:f.percentage,children:[l,"%"]})]})]}),(0,Iy.jsx)("button",{type:"submit",style:f.button,children:"Submit Job"})]}),(0,Iy.jsx)("div",{style:{marginTop:"20px",padding:"10px",background:"#f9f9f9",border:"1px solid #ddd",borderRadius:"5px",position:"relative"},children:(0,Iy.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",position:"relative"},children:[(0,Iy.jsx)("span",{className:"tooltip-exclamation",children:"!"}),(0,Iy.jsxs)("div",{className:"tooltip-text",children:[(0,Iy.jsx)("strong",{children:"How the System Evaluates the Average Score:"}),(0,Iy.jsx)("br",{}),(0,Iy.jsx)("strong",{children:"HTML:"})," Evaluates structure, accessibility, and avoidance of deprecated tags like ",(0,Iy.jsx)("code",{children:"<font>"}),".",(0,Iy.jsx)("br",{}),(0,Iy.jsx)("strong",{children:"CSS:"})," Ensures modularity, minimal use of ",(0,Iy.jsx)("code",{children:"!important"}),", and adherence to coding standards.",(0,Iy.jsx)("br",{}),(0,Iy.jsx)("strong",{children:"JavaScript:"})," Checks for clean code, modularity, and avoidance of debugging artifacts like ",(0,Iy.jsx)("code",{children:"console.log"}),".",(0,Iy.jsx)("br",{}),(0,Iy.jsx)("br",{}),"The average score reflects the quality standard for applicants' portfolios."]}),(0,Iy.jsx)("strong",{style:{marginLeft:"10px"},children:"How the System Evaluates the Average Score:"})]})})]})};var zy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},By=i.createContext&&i.createContext(zy),Hy=["attr","size","title"];function Wy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(this,arguments)}function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(n),!0).forEach((function(t){Gy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qy(e){return e&&e.map(((e,t)=>i.createElement(e.tag,Ky({key:t},e.attr),Qy(e.child))))}function Jy(e){return t=>i.createElement(Yy,$y({attr:Ky({},e.attr)},t),Qy(e.child))}function Yy(e){var t=t=>{var n,{attr:r,size:s,title:o}=e,a=Wy(e,Hy),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",$y({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:Ky(Ky({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==By?i.createElement(By.Consumer,null,(e=>t(e))):t(zy)}function Xy(e){return Jy({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Zy(e){return Jy({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function ev(e){return Jy({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function tv(e){return Jy({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function nv(e){return Jy({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function rv(e){return Jy({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function iv(e){return Jy({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const sv=e=>{let{userType:t,onLogout:n}=e;const[r,s]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=()=>{s(window.innerWidth<=992),window.innerWidth>992&&a(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);return(0,Iy.jsx)("nav",{className:"navbar navbar-expand-lg fixed-top custom-navbar",children:(0,Iy.jsxs)("div",{className:"container-fluid",children:[(0,Iy.jsx)(ky,{className:"navbar-brand",to:"/",children:"Ski-Folio"}),(0,Iy.jsx)("button",{className:"navbar-toggler "+(o?"open":""),type:"button",onClick:()=>a(!o),children:(0,Iy.jsxs)("div",{className:"burger-icon",children:[(0,Iy.jsx)("span",{className:"line"}),(0,Iy.jsx)("span",{className:"line"}),(0,Iy.jsx)("span",{className:"line"})]})}),(0,Iy.jsx)("div",{className:"navbar-collapse "+(r?o?"show":"hide":"d-lg-flex"),children:(0,Iy.jsxs)("ul",{className:"navbar-nav ms-auto",children:["applicant"===t&&(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/applicant/profile",children:[(0,Iy.jsx)(iv,{}),(0,Iy.jsx)("span",{children:"Profile"})]})}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/applicant/search-jobs",children:[(0,Iy.jsx)(nv,{}),(0,Iy.jsx)("span",{children:"Search Jobs"})]})}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/portfolio",children:[(0,Iy.jsx)(ev,{}),(0,Iy.jsx)("span",{children:"Portfolio"})]})}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/discovered",children:[(0,Iy.jsx)(Zy,{}),(0,Iy.jsx)("span",{children:"Get Discovered"})]})}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/notifications",children:[(0,Iy.jsx)(Xy,{}),(0,Iy.jsx)("span",{children:"Notifications"})]})})]}),"employer"===t&&(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/employer/profile",children:[(0,Iy.jsx)(iv,{}),(0,Iy.jsx)("span",{children:"Profile"})]})}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/employer/post-job",children:[(0,Iy.jsx)(tv,{}),(0,Iy.jsx)("span",{children:"Post Job"})]})}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/notifications",children:[(0,Iy.jsx)(Xy,{}),(0,Iy.jsx)("span",{children:"Notifications"})]})}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/filter",children:[(0,Iy.jsx)(Zy,{}),(0,Iy.jsx)("span",{children:"Discover"})]})})]}),(0,Iy.jsx)("li",{className:"nav-item",children:(0,Iy.jsxs)(ky,{className:"nav-link",to:"/",onClick:n,children:[(0,Iy.jsx)(rv,{}),(0,Iy.jsx)("span",{children:"Logout"})]})})]})})]})})},ov=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{const e=zf(nm,"posts"),n=(await Wg(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)})()}),[]);const d=async()=>{if(c){const e=to(rm,`posts/${c.name}`);return await Zs(e,c),await eo(e)}return""};return(0,Iy.jsxs)("div",{className:"home-feed",children:[(0,Iy.jsx)("h1",{children:"Home Feed"}),(0,Iy.jsxs)("div",{className:"add-post-section",children:[(0,Iy.jsx)("button",{onClick:()=>r(!n),children:n?"Cancel":"Add Post"}),n&&(0,Iy.jsxs)("div",{className:"add-post-form",children:[(0,Iy.jsx)("input",{type:"text",placeholder:"Title",value:s,onChange:e=>o(e.target.value)}),(0,Iy.jsx)("textarea",{placeholder:"Description",value:a,onChange:e=>l(e.target.value)}),(0,Iy.jsx)("input",{type:"file",accept:"image/*",onChange:e=>u(e.target.files[0])}),(0,Iy.jsx)("button",{onClick:async()=>{try{const n=tm.currentUser;if(!n)return void alert("User is not logged in.");const i=n.email.includes("employer")?"employers":"applicants",c=Bf(nm,i,n.uid),h=await Bg(c);if(!h.exists())return void alert("User profile not found.");const{name:p,profilePicURL:f}=h.data(),g=await d(),m={title:s,description:a,imageUrl:g,authorName:p,authorPhoto:f||"defaultProfilePic.jpg",timestamp:Zg()};await Gg(zf(nm,"posts"),m),t([...e,m]),r(!1),o(""),l(""),u(null)}catch(n){console.error("Error adding post:",n)}},children:"Post"})]})]}),(0,Iy.jsx)("div",{className:"posts-container",children:0===e.length?(0,Iy.jsx)("p",{children:"No posts available"}):e.map((e=>(0,Iy.jsxs)("div",{className:"post",children:[(0,Iy.jsxs)("div",{className:"post-header",children:[(0,Iy.jsx)("img",{src:e.authorPhoto,alt:"Author Profile",className:"author-profile-pic"}),(0,Iy.jsx)("p",{children:e.authorName})]}),(0,Iy.jsxs)("div",{className:"post-content",children:[e.imageUrl&&(0,Iy.jsx)("img",{src:e.imageUrl,alt:"Post",className:"post-image"}),(0,Iy.jsx)("h3",{children:e.title}),(0,Iy.jsx)("p",{children:e.description})]})]},e.id)))})]})},av=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(!1),a=Xm();return(0,Iy.jsx)("div",{className:"hero",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Iy.jsx)("div",{className:"choicecontainer",style:{textAlign:"center",width:"100%",maxWidth:"400px"},children:(0,Iy.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=(await gr(tm,e,n)).user,r=await Bg(Bf(nm,"applicants",t.uid)),i=await Bg(Bf(nm,"employers",t.uid));if((await Bg(Bf(nm,"userAccountsToBeApproved",t.uid))).exists())return alert("Your account is pending approval. Please wait for admin approval."),await vr(tm),void a("/");r.exists()?a("/applicant/profile"):i.exists()?a("/employer/profile"):console.error("User type not found in database.")}catch(r){console.error("Error signing in:",r),alert("Failed to sign in. Please check your email and password.")}},style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"100px"},children:[(0,Iy.jsx)("h2",{style:{fontFamily:"Times New Roman"},children:"Log In"}),(0,Iy.jsx)("input",{id:"email",className:"inputs",type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0,style:{marginBottom:"10px",width:"100%"}}),(0,Iy.jsxs)("div",{style:{position:"relative",width:"100%",marginBottom:"10px"},children:[(0,Iy.jsx)("input",{className:"inputs",id:"password",type:s?"text":"password",placeholder:"Password",value:n,onChange:e=>r(e.target.value),required:!0,style:{width:"100%",marginLeft:"-2px"}}),(0,Iy.jsx)("button",{type:"button",onClick:()=>o(!s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"black"},children:s?"Hide":"Show"})]}),(0,Iy.jsx)("button",{className:"input-submit",type:"submit",children:"Log In"}),(0,Iy.jsx)("p",{onClick:async()=>{if(!e)return void alert("Please enter your email to reset your password.");if(window.confirm(`Send password reset email to ${e}?`))try{await fr(tm,e),alert(`A password reset link has been sent to ${e}. Please check your inbox.`)}catch(t){console.error("Error sending password reset email:",t),"auth/user-not-found"===t.code?alert("No account found with this email. Please check and try again."):"auth/invalid-email"===t.code?alert("Invalid email format. Please enter a valid email."):alert("Failed to send password reset email. Please try again later.")}},style:{marginTop:"10px",cursor:"pointer",color:"blue",textDecoration:"underline"},children:"Forgot Password?"})]})})})};function lv(e,t){return function(){return e.apply(t,arguments)}}const{toString:cv}=Object.prototype,{getPrototypeOf:uv}=Object,{iterator:dv,toStringTag:hv}=Symbol,pv=(fv=Object.create(null),e=>{const t=cv.call(e);return fv[t]||(fv[t]=t.slice(8,-1).toLowerCase())});var fv;const gv=e=>(e=e.toLowerCase(),t=>pv(t)===e),mv=e=>t=>typeof t===e,{isArray:yv}=Array,vv=mv("undefined");const bv=gv("ArrayBuffer");const xv=mv("string"),wv=mv("function"),Sv=mv("number"),_v=e=>null!==e&&"object"===typeof e,Ev=e=>{if("object"!==pv(e))return!1;const t=uv(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(hv in e)&&!(dv in e)},kv=gv("Date"),Cv=gv("File"),Tv=gv("Blob"),Iv=gv("FileList"),jv=gv("URLSearchParams"),[Rv,Nv,Av,Pv]=["ReadableStream","Request","Response","Headers"].map(gv);function Ov(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),yv(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Dv(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Lv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Uv=e=>!vv(e)&&e!==Lv;const Mv=(Fv="undefined"!==typeof Uint8Array&&uv(Uint8Array),e=>Fv&&e instanceof Fv);var Fv;const Vv=gv("HTMLFormElement"),zv=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Bv=gv("RegExp"),Hv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ov(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)};const Wv=gv("AsyncFunction"),$v=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Lv.addEventListener("message",(e=>{let{source:t,data:i}=e;t===Lv&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Lv.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,wv(Lv.postMessage)),qv="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Lv):"undefined"!==typeof process&&process.nextTick||$v,Kv={isArray:yv,isArrayBuffer:bv,isBuffer:function(e){return null!==e&&!vv(e)&&null!==e.constructor&&!vv(e.constructor)&&wv(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||wv(e.append)&&("formdata"===(t=pv(e))||"object"===t&&wv(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&bv(e.buffer),t},isString:xv,isNumber:Sv,isBoolean:e=>!0===e||!1===e,isObject:_v,isPlainObject:Ev,isReadableStream:Rv,isRequest:Nv,isResponse:Av,isHeaders:Pv,isUndefined:vv,isDate:kv,isFile:Cv,isBlob:Tv,isRegExp:Bv,isFunction:wv,isStream:e=>_v(e)&&wv(e.pipe),isURLSearchParams:jv,isTypedArray:Mv,isFileList:Iv,forEach:Ov,merge:function e(){const{caseless:t}=Uv(this)&&this||{},n={},r=(r,i)=>{const s=t&&Dv(n,i)||i;Ev(n[s])&&Ev(r)?n[s]=e(n[s],r):Ev(r)?n[s]=e({},r):yv(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ov(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ov(t,((t,r)=>{n&&wv(t)?e[r]=lv(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&uv(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:pv,kindOfTest:gv,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(yv(e))return e;let t=e.length;if(!Sv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[dv]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Vv,hasOwnProperty:zv,hasOwnProp:zv,reduceDescriptors:Hv,freezeMethods:e=>{Hv(e,((t,n)=>{if(wv(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];wv(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return yv(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Dv,global:Lv,isContextDefined:Uv,isSpecCompliantForm:function(e){return!!(e&&wv(e.append)&&"FormData"===e[hv]&&e[dv])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=yv(e)?[]:{};return Ov(e,((e,t)=>{const s=n(e,r+1);!vv(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Wv,isThenable:e=>e&&(_v(e)||wv(e))&&wv(e.then)&&wv(e.catch),setImmediate:$v,asap:qv,isIterable:e=>null!=e&&wv(e[dv])};function Gv(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Kv.inherits(Gv,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Kv.toJSONObject(this.config),code:this.code,status:this.status}}});const Qv=Gv.prototype,Jv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Jv[e]={value:e}})),Object.defineProperties(Gv,Jv),Object.defineProperty(Qv,"isAxiosError",{value:!0}),Gv.from=(e,t,n,r,i,s)=>{const o=Object.create(Qv);return Kv.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Gv.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Yv=Gv;function Xv(e){return Kv.isPlainObject(e)||Kv.isArray(e)}function Zv(e){return Kv.endsWith(e,"[]")?e.slice(0,-2):e}function eb(e,t,n){return e?e.concat(t).map((function(e,t){return e=Zv(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const tb=Kv.toFlatObject(Kv,{},null,(function(e){return/^is[A-Z]/.test(e)}));const nb=function(e,t,n){if(!Kv.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Kv.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Kv.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Kv.isSpecCompliantForm(t);if(!Kv.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Kv.isDate(e))return e.toISOString();if(!a&&Kv.isBlob(e))throw new Yv("Blob is not supported. Use a Buffer instead.");return Kv.isArrayBuffer(e)||Kv.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(Kv.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Kv.isArray(e)&&function(e){return Kv.isArray(e)&&!e.some(Xv)}(e)||(Kv.isFileList(e)||Kv.endsWith(n,"[]"))&&(a=Kv.toArray(e)))return n=Zv(n),a.forEach((function(e,r){!Kv.isUndefined(e)&&null!==e&&t.append(!0===o?eb([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!Xv(e)||(t.append(eb(i,n,s),l(e)),!1)}const u=[],d=Object.assign(tb,{defaultVisitor:c,convertValue:l,isVisitable:Xv});if(!Kv.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Kv.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Kv.forEach(n,(function(n,s){!0===(!(Kv.isUndefined(n)||null===n)&&i.call(t,n,Kv.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function rb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ib(e,t){this._pairs=[],e&&nb(e,this,t)}const sb=ib.prototype;sb.append=function(e,t){this._pairs.push([e,t])},sb.toString=function(e){const t=e?function(t){return e.call(this,t,rb)}:rb;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ob=ib;function ab(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lb(e,t,n){if(!t)return e;const r=n&&n.encode||ab;Kv.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):Kv.isURLSearchParams(t)?t.toString():new ob(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const cb=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Kv.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ub={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},db={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ob,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},hb="undefined"!==typeof window&&"undefined"!==typeof document,pb="object"===typeof navigator&&navigator||void 0,fb=hb&&(!pb||["ReactNative","NativeScript","NS"].indexOf(pb.product)<0),gb="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,mb=hb&&window.location.href||"http://localhost",yb={...r,...db};const vb=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&Kv.isArray(r)?r.length:s,a)return Kv.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&Kv.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&Kv.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(Kv.isFormData(e)&&Kv.isFunction(e.entries)){const n={};return Kv.forEachEntry(e,((e,r)=>{t(function(e){return Kv.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const bb={transitional:ub,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Kv.isObject(e);i&&Kv.isHTMLForm(e)&&(e=new FormData(e));if(Kv.isFormData(e))return r?JSON.stringify(vb(e)):e;if(Kv.isArrayBuffer(e)||Kv.isBuffer(e)||Kv.isStream(e)||Kv.isFile(e)||Kv.isBlob(e)||Kv.isReadableStream(e))return e;if(Kv.isArrayBufferView(e))return e.buffer;if(Kv.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return nb(e,new yb.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return yb.isNode&&Kv.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Kv.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return nb(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Kv.isString(e))try{return(t||JSON.parse)(e),Kv.trim(e)}catch(Wx){if("SyntaxError"!==Wx.name)throw Wx}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||bb.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Kv.isResponse(e)||Kv.isReadableStream(e))return e;if(e&&Kv.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Wx){if(n){if("SyntaxError"===Wx.name)throw Yv.from(Wx,Yv.ERR_BAD_RESPONSE,this,null,this.response);throw Wx}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yb.classes.FormData,Blob:yb.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Kv.forEach(["delete","get","head","post","put","patch"],(e=>{bb.headers[e]={}}));const xb=bb,wb=Kv.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sb=Symbol("internals");function _b(e){return e&&String(e).trim().toLowerCase()}function Eb(e){return!1===e||null==e?e:Kv.isArray(e)?e.map(Eb):String(e)}function kb(e,t,n,r,i){return Kv.isFunction(r)?r.call(this,t,n):(i&&(t=n),Kv.isString(t)?Kv.isString(r)?-1!==t.indexOf(r):Kv.isRegExp(r)?r.test(t):void 0:void 0)}class Cb{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=_b(t);if(!i)throw new Error("header name must be a non-empty string");const s=Kv.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Eb(e))}const s=(e,t)=>Kv.forEach(e,((e,n)=>i(e,n,t)));if(Kv.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Kv.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&wb[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Kv.isObject(e)&&Kv.isIterable(e)){let n,r,i={};for(const t of e){if(!Kv.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?Kv.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=_b(e)){const n=Kv.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Kv.isFunction(t))return t.call(this,e,n);if(Kv.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_b(e)){const n=Kv.findKey(this,e);return!(!n||void 0===this[n]||t&&!kb(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=_b(e)){const i=Kv.findKey(n,e);!i||t&&!kb(0,n[i],i,t)||(delete n[i],r=!0)}}return Kv.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!kb(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Kv.forEach(this,((r,i)=>{const s=Kv.findKey(n,i);if(s)return t[s]=Eb(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Eb(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Kv.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Kv.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Sb]=this[Sb]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_b(e);t[r]||(!function(e,t){const n=Kv.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Kv.isArray(e)?e.forEach(r):r(e),this}}Cb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Kv.reduceDescriptors(Cb.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Kv.freezeMethods(Cb);const Tb=Cb;function Ib(e,t){const n=this||xb,r=t||n,i=Tb.from(r.headers);let s=r.data;return Kv.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function jb(e){return!(!e||!e.__CANCEL__)}function Rb(e,t,n){Yv.call(this,null==e?"canceled":e,Yv.ERR_CANCELED,t,n),this.name="CanceledError"}Kv.inherits(Rb,Yv,{__CANCEL__:!0});const Nb=Rb;function Ab(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Yv("Request failed with status code "+n.status,[Yv.ERR_BAD_REQUEST,Yv.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Pb=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Ob=function(e,t){let n,r,i=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=s?o(l,e):(n=l,r||(r=setTimeout((()=>{r=null,o(n)}),s-t)))},()=>n&&o(n)]},Db=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Pb(50,250);return Ob((n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,l=i(a);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},Lb=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ub=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kv.asap((()=>e(...n)))},Mb=yb.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,yb.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(yb.origin),yb.navigator&&/(msie|trident)/i.test(yb.navigator.userAgent)):()=>!0,Fb=yb.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];Kv.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Kv.isString(r)&&o.push("path="+r),Kv.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Vb(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const zb=e=>e instanceof Tb?{...e}:e;function Bb(e,t){t=t||{};const n={};function r(e,t,n,r){return Kv.isPlainObject(e)&&Kv.isPlainObject(t)?Kv.merge.call({caseless:r},e,t):Kv.isPlainObject(t)?Kv.merge({},t):Kv.isArray(t)?t.slice():t}function i(e,t,n,i){return Kv.isUndefined(t)?Kv.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!Kv.isUndefined(t))return r(void 0,t)}function o(e,t){return Kv.isUndefined(t)?Kv.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>i(zb(e),zb(t),0,!0)};return Kv.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);Kv.isUndefined(o)&&s!==a||(n[r]=o)})),n}const Hb=e=>{const t=Bb({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=Tb.from(a),t.url=lb(Vb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Kv.isFormData(r))if(yb.hasStandardBrowserEnv||yb.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(yb.hasStandardBrowserEnv&&(i&&Kv.isFunction(i)&&(i=i(t)),i||!1!==i&&Mb(t.url))){const e=s&&o&&Fb.read(o);e&&a.set(s,e)}return t},Wb="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Hb(e);let i=r.data;const s=Tb.from(r.headers).normalize();let o,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=Tb.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Ab((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new Yv("Request aborted",Yv.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new Yv("Network Error",Yv.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||ub;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Yv(t,i.clarifyTimeoutError?Yv.ETIMEDOUT:Yv.ECONNABORTED,e,g)),g=null},void 0===i&&s.setContentType(null),"setRequestHeader"in g&&Kv.forEach(s.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Kv.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),p&&([l,u]=Db(p,!0),g.addEventListener("progress",l)),h&&g.upload&&([a,c]=Db(h),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{g&&(n(!t||t.type?new Nb(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===yb.protocols.indexOf(y)?n(new Yv("Unsupported protocol "+y+":",Yv.ERR_BAD_REQUEST,e)):g.send(i||null)}))},$b=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Yv?t:new Nb(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new Yv(`timeout ${t} of ms exceeded`,Yv.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>Kv.asap(o),a}},qb=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Kb=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Gb=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of Kb(e))yield*qb(n,t)}(e,t);let s,o=0,a=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},Qb="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Jb=Qb&&"function"===typeof ReadableStream,Yb=Qb&&("function"===typeof TextEncoder?(Xb=new TextEncoder,e=>Xb.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Xb;const Zb=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Wx){return!1}},ex=Jb&&Zb((()=>{let e=!1;const t=new Request(yb.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),tx=Jb&&Zb((()=>Kv.isReadableStream(new Response("").body))),nx={stream:tx&&(e=>e.body)};var rx;Qb&&(rx=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!nx[e]&&(nx[e]=Kv.isFunction(rx[e])?t=>t[e]():(t,n)=>{throw new Yv(`Response type '${e}' is not supported`,Yv.ERR_NOT_SUPPORT,n)})})));const ix=async(e,t)=>{const n=Kv.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Kv.isBlob(e))return e.size;if(Kv.isSpecCompliantForm(e)){const t=new Request(yb.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Kv.isArrayBufferView(e)||Kv.isArrayBuffer(e)?e.byteLength:(Kv.isURLSearchParams(e)&&(e+=""),Kv.isString(e)?(await Yb(e)).byteLength:void 0)})(t):n},sx=Qb&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Hb(e);c=c?(c+"").toLowerCase():"text";let p,f=$b([i,s&&s.toAbortSignal()],o);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let m;try{if(l&&ex&&"get"!==n&&"head"!==n&&0!==(m=await ix(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Kv.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Lb(m,Db(Ub(l)));r=Gb(n.body,65536,e,t)}}Kv.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let s=await fetch(p);const o=tx&&("stream"===c||"response"===c);if(tx&&(a||o&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=Kv.toFiniteNumber(s.headers.get("content-length")),[n,r]=a&&Lb(t,Db(Ub(a),!0))||[];s=new Response(Gb(s.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let y=await nx[Kv.findKey(nx,c)||"text"](s,e);return!o&&g&&g(),await new Promise(((t,n)=>{Ab(t,n,{data:y,headers:Tb.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new Yv("Network Error",Yv.ERR_NETWORK,e,p),{cause:y.cause||y});throw Yv.from(y,y&&y.code,e,p)}}),ox={http:null,xhr:Wb,fetch:sx};Kv.forEach(ox,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Wx){}Object.defineProperty(e,"adapterName",{value:t})}}));const ax=e=>`- ${e}`,lx=e=>Kv.isFunction(e)||null===e||!1===e,cx=e=>{e=Kv.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!lx(n)&&(r=ox[(t=String(n)).toLowerCase()],void 0===r))throw new Yv(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ax).join("\n"):" "+ax(e[0]):"as no adapter specified";throw new Yv("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ux(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nb(null,e)}function dx(e){ux(e),e.headers=Tb.from(e.headers),e.data=Ib.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return cx(e.adapter||xb.adapter)(e).then((function(t){return ux(e),t.data=Ib.call(e,e.transformResponse,t),t.headers=Tb.from(t.headers),t}),(function(t){return jb(t)||(ux(e),t&&t.response&&(t.response.data=Ib.call(e,e.transformResponse,t.response),t.response.headers=Tb.from(t.response.headers))),Promise.reject(t)}))}const hx="1.9.0",px={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{px[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const fx={};px.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new Yv(r(i," has been removed"+(t?" in "+t:"")),Yv.ERR_DEPRECATED);return t&&!fx[i]&&(fx[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},px.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const gx={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Yv("options must be an object",Yv.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Yv("option "+s+" must be "+n,Yv.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Yv("Unknown option "+s,Yv.ERR_BAD_OPTION)}},validators:px},mx=gx.validators;class yx{constructor(e){this.defaults=e||{},this.interceptors={request:new cb,response:new cb}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Wx){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Bb(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&gx.assertOptions(n,{silentJSONParsing:mx.transitional(mx.boolean),forcedJSONParsing:mx.transitional(mx.boolean),clarifyTimeoutError:mx.transitional(mx.boolean)},!1),null!=r&&(Kv.isFunction(r)?t.paramsSerializer={serialize:r}:gx.assertOptions(r,{encode:mx.function,serialize:mx.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gx.assertOptions(t,{baseUrl:mx.spelling("baseURL"),withXsrfToken:mx.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&Kv.merge(i.common,i[t.method]);i&&Kv.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Tb.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[dx.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=dx.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return lb(Vb((e=Bb(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Kv.forEach(["delete","get","head","options"],(function(e){yx.prototype[e]=function(t,n){return this.request(Bb(n||{},{method:e,url:t,data:(n||{}).data}))}})),Kv.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Bb(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}yx.prototype[e]=t(),yx.prototype[e+"Form"]=t(!0)}));const vx=yx;class bx{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Nb(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new bx((function(t){e=t})),cancel:e}}}const xx=bx;const wx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wx).forEach((e=>{let[t,n]=e;wx[n]=t}));const Sx=wx;const _x=function e(t){const n=new vx(t),r=lv(vx.prototype.request,n);return Kv.extend(r,vx.prototype,n,{allOwnKeys:!0}),Kv.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Bb(t,n))},r}(xb);_x.Axios=vx,_x.CanceledError=Nb,_x.CancelToken=xx,_x.isCancel=jb,_x.VERSION=hx,_x.toFormData=nb,_x.AxiosError=Yv,_x.Cancel=_x.CanceledError,_x.all=function(e){return Promise.all(e)},_x.spread=function(e){return function(t){return e.apply(null,t)}},_x.isAxiosError=function(e){return Kv.isObject(e)&&!0===e.isAxiosError},_x.mergeConfig=Bb,_x.AxiosHeaders=Tb,_x.formToJSON=e=>vb(Kv.isHTMLForm(e)?new FormData(e):e),_x.getAdapter=cx,_x.HttpStatusCode=Sx,_x.default=_x;const Ex=_x,kx=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(""),[g,m]=(0,i.useState)(!1),[y,v]=(0,i.useState)("");(0,i.useEffect)((()=>{b(),S()}),[]);const b=async()=>{if(tm.currentUser){const e=Bf(nm,"applicants",tm.currentUser.uid),n=await Bg(e);if(n.exists()){const e=n.data();t(e);const r=e.githubRepo||"";let i=x(r);v(i),i&&w(i)}else console.log("No such document!")}},x=e=>{if(!e)return"";if(e.includes("github.com")){const t=e.split("github.com/");if(t.length>1)return t[1].split("/")[0]}return""},w=async e=>{if(e)try{console.log("Fetching repos for username:",e);const t=await Ex.get(`https://api.github.com/users/${e}/repos`);u(t.data.map((e=>({name:e.name,nameLower:e.name.toLowerCase()})))),console.log("Found repos:",t.data.map((e=>e.name)))}catch(p){console.error("Error fetching user repositories:",p),f("Failed to fetch your GitHub repositories. Please try again later.")}else f("Invalid GitHub username.")},S=async()=>{h(!0);try{if(!tm.currentUser)return void console.log("User not authenticated");const e=zf(Bf(nm,"applicants",tm.currentUser.uid),"submissions"),t=(await Wg(e)).docs.map((e=>({id:e.id,...e.data()})));r(t)}catch(p){console.error("Error fetching submissions:",p),f("Failed to load your previous submissions.")}finally{h(!1)}};return(0,Iy.jsxs)("div",{className:"portfolio-container",children:[(0,Iy.jsx)("h3",{className:"section-title",children:"Portfolio"}),e&&(0,Iy.jsx)("div",{className:"github-link",children:(0,Iy.jsxs)("p",{children:["GitHub: ",(0,Iy.jsx)("a",{href:e.githubRepo,target:"_blank",rel:"noopener noreferrer",children:e.githubRepo})]})}),(0,Iy.jsxs)("div",{className:"form-group",children:[(0,Iy.jsx)("input",{type:"text",placeholder:"Enter Live Demo Link",value:s,onChange:e=>o(e.target.value)}),(0,Iy.jsx)("button",{className:"primary-button",onClick:async()=>{if(f(""),!s.trim())return void alert("Please enter a valid live demo link.");let e=!1;try{new URL(s),e=!0}catch(Wx){return void alert("Please enter a valid URL.")}if(e){if(s.includes("github.com")||s.includes(".github.io")){let e="",t="";if(s.includes("github.com")){const n=s.split("github.com/");if(n.length>1){const r=n[1].split("/");r.length>1&&(t=r[0],e=r[1].replace(".git",""))}}else if(s.includes(".github.io"))try{const n=new URL(s);t=n.hostname.split(".")[0];const r=n.pathname.split("/");r.length>1&&r[1]&&(e=r[1])}catch(p){console.error("Error parsing GitHub Pages URL:",p)}console.log("Extracted username from demo:",t),console.log("Stored GitHub username:",y),console.log("Extracted repo name:",e);if(t.toLowerCase()===y.toLowerCase()){if(e){const t=e.toLowerCase(),n=c.some((e=>e.nameLower===t));if(console.log("Repository exists in user repos:",n),console.log("Available repos:",c.map((e=>e.name)).join(", ")),!n&&!window.confirm(`Repository "${e}" wasn't found in your GitHub account. Do you want to continue anyway?`))return}}else if(!window.confirm(`The GitHub username in the demo link (${t}) doesn't match your GitHub account (${y}). Do you want to continue anyway?`))return}l(!0);try{var t;const e={url:s};console.log("Sending analysis request for:",s);const n=await Ex.post("https://skifolio-main.onrender.com/analyze",e,{headers:{"Content-Type":"application/json"},timeout:6e4});if(null===n||void 0===n||null===(t=n.data)||void 0===t||!t.scores)throw new Error("Invalid response from analysis server. Missing scores data.");{console.log("Analysis results received:",n.data);const e={liveDemoLink:s,timestamp:new Date,scores:n.data.scores,feedback:n.data.feedback||{}},t=zf(Bf(nm,"applicants",tm.currentUser.uid),"submissions");await Gg(t,e),S(),o(""),alert("Your project has been successfully submitted and analyzed!")}}catch(p){console.error("Error submitting the demo link:",p),f(`Submission failed: ${p.message||"Unknown error occurred"}`),alert(`Failed to analyze your project. ${p.message||"Please try again later."}`)}finally{l(!1)}}else alert("Please enter a valid URL including http:// or https://")},disabled:a,children:a?"Submitting...":"Submit"}),(0,Iy.jsx)("button",{className:"help-button",onClick:()=>m(!g),children:g?"Hide Help":"Need Help?"})]}),g&&(0,Iy.jsxs)("div",{className:"help-section",children:[(0,Iy.jsx)("h4",{children:"Getting Started with GitHub and Live Demo Pages"}),(0,Iy.jsxs)("div",{className:"help-links",children:[(0,Iy.jsxs)("div",{className:"help-card",children:[(0,Iy.jsx)("h5",{children:"Creating a GitHub Repository"}),(0,Iy.jsx)("p",{children:"Learn how to create your first GitHub repository:"}),(0,Iy.jsx)("a",{href:"https://docs.github.com/en/get-started/quickstart/create-a-repo",target:"_blank",rel:"noopener noreferrer",children:"GitHub Docs: Creating a Repository"}),(0,Iy.jsx)("a",{href:"https://www.youtube.com/watch?v=QUtk-Uuq9nE",target:"_blank",rel:"noopener noreferrer",children:"Video Tutorial: Creating a GitHub Repository"})]}),(0,Iy.jsxs)("div",{className:"help-card",children:[(0,Iy.jsx)("h5",{children:"Creating a GitHub Pages Live Demo"}),(0,Iy.jsx)("p",{children:"Learn how to publish your project with GitHub Pages:"}),(0,Iy.jsx)("a",{href:"https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site",target:"_blank",rel:"noopener noreferrer",children:"GitHub Docs: Creating a GitHub Pages site"}),(0,Iy.jsx)("a",{href:"https://www.youtube.com/watch?v=8hrJ4oN1u_8",target:"_blank",rel:"noopener noreferrer",children:"Video Tutorial: Publishing with GitHub Pages"})]})]})]}),p&&(0,Iy.jsx)("div",{className:"error-message",children:p}),d?(0,Iy.jsx)("p",{children:"Loading submissions..."}):(0,Iy.jsx)("div",{className:"submissions-grid",children:0===n.length?(0,Iy.jsx)("p",{children:"No submissions yet. Submit your first project!"}):n.map(((e,t)=>(0,Iy.jsxs)("div",{className:"submission-card",children:[(0,Iy.jsx)("h4",{children:(0,Iy.jsxs)("a",{href:e.liveDemoLink,target:"_blank",rel:"noopener noreferrer",className:"demo-link",children:["Live Demo [",t+1,"]"]})}),(0,Iy.jsxs)("div",{className:"scores",children:[(0,Iy.jsx)("p",{children:"Scores:"}),(0,Iy.jsxs)("ul",{children:[(0,Iy.jsxs)("li",{children:["HTML: ",(0,Iy.jsx)("span",{className:"score",children:e.scores.html})]}),(0,Iy.jsxs)("li",{children:["CSS: ",(0,Iy.jsx)("span",{className:"score",children:e.scores.css})]}),(0,Iy.jsxs)("li",{children:["JavaScript: ",(0,Iy.jsx)("span",{className:"score",children:e.scores.javascript})]})]})]}),(0,Iy.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this submission?"))try{const t=Bf(nm,"applicants",tm.currentUser.uid,"submissions",e);await Kg(t),S()}catch(p){console.error("Error deleting submission:",p),alert("Failed to delete submission. Please try again.")}})(e.id),children:"Delete"})]},e.id)))})]})},Cx={_origin:"https://api.emailjs.com"},Tx=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Ix{constructor(e){this.status=e.status,this.text=e.responseText}}const jx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",(e=>{let{target:t}=e;const n=new Ix(t);200===n.status||"OK"===n.text?r(n):i(n)})),s.addEventListener("error",(e=>{let{target:t}=e;i(new Ix(t))})),s.open("POST",Cx._origin+e,!0),Object.keys(n).forEach((e=>{s.setRequestHeader(e,n[e])})),s.send(t)}))},Rx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";Cx._userID=e,Cx._origin=t},Nx=(e,t,n,r)=>{const i=r||Cx._userID;Tx(i,e,t);const s={lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:n};return jx("/api/v1.0/email/send",JSON.stringify(s),{"Content-type":"application/json"})},Ax=()=>{var e,t;const[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(!0),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)([]),[p,f]=(0,i.useState)([]),[g,m]=(0,i.useState)([]),[y,v]=(0,i.useState)("Applicants"),[b,x]=(0,i.useState)(null),[w,S]=(0,i.useState)([]),[_,E]=(0,i.useState)([]),[k,C]=(0,i.useState)(null),[T,I]=(0,i.useState)(null),[j,R]=(0,i.useState)([]),[N,A]=(0,i.useState)(!0),[P,O]=(0,i.useState)(!0),[D,L]=(0,i.useState)(!0),[U,M]=(0,i.useState)([]),[F,V]=(0,i.useState)(!1),[z,B]=(0,i.useState)(""),[H,W]=(0,i.useState)(""),[$,q]=(0,i.useState)(null),[K,G]=(0,i.useState)(null),[Q,J]=(0,i.useState)(!0),[Y,X]=(0,i.useState)("manageUsers"),Z=async(e,t)=>{const n=(new Date).toISOString();M((r=>[...r,{timestamp:n,event:e,details:t}]));try{await Gg(zf(nm,"historyData"),{timestamp:n,event:e,details:t})}catch(r){console.error("Error adding history record: ",r)}};(0,i.useEffect)((()=>{(async()=>{try{const e=(await Wg(zf(nm,"applicants"))).docs.map((e=>({id:e.id,...e.data()}))),t=(await Wg(zf(nm,"employers"))).docs.map((e=>({id:e.id,...e.data()})));f(e),h(t)}catch(e){console.error("Error fetching users:",e)}})()}),[]),(0,i.useEffect)((()=>{(async()=>{try{const e=await Wg(zf(nm,"applicants")),t=await Promise.all(e.docs.map((async e=>{const t=e.id,n=e.data(),r=zf(nm,"applicants",t,"submissions"),i=(await Wg(r)).docs.map((e=>e.data())),s=zf(nm,"applicants",t,"appliedJobs");return{...n,userId:t,submissions:i,appliedJobs:(await Wg(s)).docs.map((e=>e.data()))}})));f(t)}catch(e){console.error("Error fetching applicants:",e)}})()}),[]),(0,i.useEffect)((()=>{(async()=>{try{const e=(await Wg(zf(nm,"jobs-to-be-approved"))).docs.map((e=>({id:e.id,...e.data()})));R(e)}catch(e){console.error("Error fetching pending jobs:",e)}})()}),[]);const[ee,te]=(0,i.useState)([]),[ne,re]=(0,i.useState)([]),[ie,se]=(0,i.useState)(!1),[oe,ae]=(0,i.useState)(!1),[le,ce]=(0,i.useState)(new Date),[ue,de]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setInterval((()=>{ce(new Date)}),1e3);return()=>clearInterval(e)}),[]);const he={backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",textAlign:"center",minWidth:"200px",flex:"1",transition:"transform 0.2s",cursor:"pointer"};(0,i.useEffect)((()=>{(async()=>{try{const e=(await Wg(zf(nm,"userAccountsToBeApproved"))).docs.map((e=>({id:e.id,...e.data()})));te(e)}catch(e){console.error("Error fetching users to approve:",e)}})()}),[ie]),(0,i.useEffect)((()=>{ie&&(async()=>{try{const e=(await Wg(zf(nm,"deletedFiles"))).docs.map((e=>({id:e.id,...e.data()})));re(e)}catch(e){console.error("Error fetching deleted files:",e)}})(),(async()=>{try{const e=(await Wg(zf(nm,"userAccountsToBeApproved"))).docs.map((e=>({id:e.id,...e.data()})));te(e)}catch(e){console.error("Error fetching users to approve:",e)}})()}),[ie]),(0,i.useEffect)((()=>{D&&(async()=>{try{const e=(await Wg(zf(nm,"historyData"))).docs.map((e=>{const t=e.data(),n=t.timestamp;return n&&(t.timestamp=n.toDate().toLocaleString()),{id:e.id,...t}}));M(e)}catch(e){console.error("Error fetching history data: ",e)}})()}),[D]);(0,i.useEffect)((()=>{(async()=>{try{const e=(await Wg(zf(nm,"employers"))).docs.map((e=>({id:e.id,...e.data()})));h(e)}catch(e){console.error("Error fetching employers:",e)}})()}),[]);const pe=()=>{"admin"===a&&"admin123"===c?r(!0):alert("Invalid credentials")},fe=async e=>{if("Applicants"===y)x({...e,submissions:e.submissions||[],appliedJobs:e.appliedJobs||[]});else{x(e);const t=Ig(zf(nm,"jobs"),Rg("employerId","==",e.id)),n=(await Wg(t)).docs.map((e=>({id:e.id,...e.data()})));S(n),C(null),E([])}};(0,i.useEffect)((()=>{const e=document.querySelector(".user");e&&("JobsToBeApproved"===y?e.classList.add("user"):e.classList.remove("user"))}),[y]);return n?(0,Iy.jsx)(Iy.Fragment,{children:(0,Iy.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Iy.jsx)("button",{onClick:()=>{localStorage.removeItem("authToken"),window.location.href="./"},style:{position:"absolute",top:"20px",right:"20px",padding:"10px 20px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",transition:"background-color 0.3s"},onMouseEnter:e=>e.target.style.backgroundColor="#d32f2f",onMouseLeave:e=>e.target.style.backgroundColor="#f44336",children:"Log Out"}),(0,Iy.jsxs)("div",{style:{display:"flex"},children:[(0,Iy.jsxs)("div",{style:{width:"240px",background:"linear-gradient(to bottom, #66e0c8, #1ac7b3)",color:"#004d4d",padding:"20px",height:"100vh",borderRight:"1px solid #ddd",boxSizing:"border-box",position:"fixed",top:0,left:0},children:[(0,Iy.jsx)("h2",{style:{marginBottom:"20px",fontFamily:"Arial, sans-serif"},children:"Admin Page"}),(0,Iy.jsx)("button",{onClick:()=>{J(!0),v(""),A(!1),O(!1),se(!1),L(!1),ae(!1)},style:{display:"block",width:"100%",marginBottom:"10px",padding:"10px",backgroundColor:Q?"#007bff":"#ddd",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Dashboard"}),(0,Iy.jsx)("button",{onClick:()=>{v("Applicants"),J(!1),A(!1),O(!1),se(!1),L(!1),ae(!1)},style:{display:"block",width:"100%",marginBottom:"10px",padding:"10px",backgroundColor:"Applicants"!==y||N?"#ddd":"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"View Applicants"}),(0,Iy.jsx)("button",{onClick:()=>{v("Employers"),J(!1),A(!1),O(!1),se(!1),L(!1),ae(!1)},style:{display:"block",width:"100%",marginBottom:"10px",padding:"10px",backgroundColor:"Employers"!==y||N?"#ddd":"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"View Employers"}),(0,Iy.jsx)("button",{onClick:()=>{A(!0),O(!1),L(!1),ae(!1)},style:{display:"block",width:"100%",marginBottom:"10px",padding:"10px",backgroundColor:!N||P||D?"#ddd":"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Jobs to Be Approved"}),(0,Iy.jsxs)("button",{onClick:()=>{O(!0),J(!1),se(!1),A(!1),v(!1),L(!1),ae(!1)},style:{display:"block",width:"100%",marginBottom:"10px",padding:"10px",backgroundColor:P&&!D?"#007bff":"#ddd",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:["View User Accounts (",ee.length||0," Waiting)"]}),(0,Iy.jsx)("button",{onClick:()=>{se(!0),J(!1),O(!1),A(!1),v(""),L(!1),ae(!1)},style:{display:"block",width:"100%",marginBottom:"10px",padding:"10px",backgroundColor:ie?"#007bff":"#ddd",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"View Deleted Files"}),(0,Iy.jsx)("button",{onClick:()=>{ae(!0),J(!1),L(!1),se(!1),O(!1),A(!1),v("")},style:{display:"block",width:"100%",marginBottom:"10px",padding:"10px",backgroundColor:oe?"#007bff":"#ddd",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Announcement"})]}),(0,Iy.jsxs)("div",{style:{flexGrow:1,padding:"20px",marginLeft:"240px",marginTop:"20px",width:"100%",boxSizing:"border-box"},children:[Q&&(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("h2",{style:{fontFamily:"Arial, sans-serif"},children:"Dashboard"}),(0,Iy.jsxs)("p",{style:{color:"#555",marginBottom:"30px"},children:[le.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),","," ",le.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit"})," "]}),(0,Iy.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",marginTop:"20px"},children:[(0,Iy.jsxs)("div",{style:{...he,position:"relative"},onMouseEnter:()=>de(!0),onMouseLeave:()=>de(!1),children:[(0,Iy.jsx)("h3",{children:"Total Users"}),(0,Iy.jsx)("p",{children:(p.length||0)+(d.length||0)}),ue&&(0,Iy.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",backgroundColor:"#f9f9f9",border:"1px solid #ccc",borderRadius:"5px",padding:"10px",marginTop:"5px",boxShadow:"0px 2px 8px rgba(0,0,0,0.1)",zIndex:1},children:[(0,Iy.jsxs)("p",{style:{margin:0},children:["Applicants: ",p.length||0]}),(0,Iy.jsxs)("p",{style:{margin:0},children:["Employers: ",d.length||0]})]})]}),(0,Iy.jsxs)("div",{style:he,children:[(0,Iy.jsx)("h3",{children:"Jobs To Be Approved"}),(0,Iy.jsx)("p",{children:j.length||0})]}),(0,Iy.jsxs)("div",{style:he,children:[(0,Iy.jsx)("h3",{children:"Total Job Posts"}),(0,Iy.jsx)("p",{children:g.length||0})]}),(0,Iy.jsxs)("div",{style:he,children:[(0,Iy.jsx)("h3",{children:"Pending Accounts"}),(0,Iy.jsx)("p",{children:ee.length||0})]})]})]}),!N&&!P&&!Q&&!ie&&!D&&!oe&&(0,Iy.jsxs)("div",{className:"user",style:{border:"1px solid #ddd",borderRadius:"5px",padding:"20px"},children:[(0,Iy.jsx)("h3",{children:y}),(0,Iy.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Iy.jsx)("thead",{children:(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Applicants"===y?"Name":"Company Name"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Applicants"===y?"GitHub Repo":"Company Website"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Details"})]})}),(0,Iy.jsxs)("tbody",{children:["Applicants"===y&&p.map((e=>(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.name}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:(0,Iy.jsx)("a",{href:e.githubRepo,target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"none"},children:e.githubRepo})}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"center"},children:(0,Iy.jsx)("button",{onClick:()=>fe(e),style:{padding:"5px 10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"View"})})]},e.id||e.userId))),"Employers"===y&&d.map((e=>(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.companyName}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:(0,Iy.jsx)("a",{href:e.companyWebsite,target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"none"},children:e.companyWebsite})}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"center"},children:(0,Iy.jsx)("button",{onClick:()=>fe(e),style:{padding:"5px 10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"View"})})]},e.id||e.userId)))]})]})]}),b&&(0,Iy.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Iy.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"5px",maxWidth:"600px",width:"90%",maxHeight:"80%",overflowY:"auto"},children:[(0,Iy.jsx)("h4",{children:"Applicants"===y?"Applicant Details":"JobsToBeApproved"!==y}),"Applicants"!==y||N?"Applicants"===y||N?null:(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Company Name:"})," ",b.companyName]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Email:"})," ",b.email]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Website:"})," ",b.companyWebsite]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Contact-Person:"})," ",b.contactPerson]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",b.location]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Phone:"})," ",b.phone]}),(0,Iy.jsx)("h5",{children:"Posted Jobs"}),(0,Iy.jsx)("ul",{children:w.map(((e,t)=>(0,Iy.jsxs)("li",{children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Job Title:"})," ",e.title]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",e.location]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Job Role:"})," ",e.jobRole]}),(0,Iy.jsx)("p",{children:(0,Iy.jsx)("button",{onClick:()=>(async e=>{C(e);const t=zf(nm,"jobs",e,"applications"),n=(await Wg(t)).docs.map((e=>({id:e.id,...e.data()})));E(n)})(e.id),style:{cursor:"pointer"},children:"View Applicants"})})]},t)))})]}):(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Name:"})," ",b.name]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Email:"})," ",b.email]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Resume:"})," ",(0,Iy.jsx)("a",{href:b.resumeURL,target:"_blank",rel:"noopener noreferrer",children:"View Resume"})]}),(0,Iy.jsx)("h5",{children:"Submissions"}),(0,Iy.jsx)("ul",{children:null===(e=b.submissions)||void 0===e?void 0:e.map(((e,t)=>(0,Iy.jsxs)("li",{children:[(0,Iy.jsx)("strong",{children:"Live Demo:"})," ",(0,Iy.jsx)("a",{href:e.liveDemoLink,target:"_blank",rel:"noopener noreferrer",children:"View"})," ","| ",(0,Iy.jsx)("strong",{children:"Demo Video:"})," ",(0,Iy.jsx)("a",{href:e.demoVideoLink,target:"_blank",rel:"noopener noreferrer",children:"Watch"})]},t)))}),(0,Iy.jsx)("h5",{children:"Applied Jobs"}),(0,Iy.jsx)("ul",{children:null===(t=b.appliedJobs)||void 0===t?void 0:t.map(((e,t)=>{var n;return(0,Iy.jsxs)("li",{children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Job Title:"})," ",e.title]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",e.location]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Applied At:"})," ",(null===(n=e.appliedAt)||void 0===n?void 0:n.toDate().toLocaleString())||"N/A"]})]},t)}))})]}),(0,Iy.jsx)("button",{onClick:()=>{x(null),S([]),C(null),E([])},style:{marginTop:"20px",padding:"10px 15px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})}),k&&(0,Iy.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Iy.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"5px",maxWidth:"600px",width:"90%",maxHeight:"80%",overflowY:"auto"},children:[(0,Iy.jsx)("h4",{children:"Job Applicants"}),(0,Iy.jsx)("ul",{children:_.map(((e,t)=>(0,Iy.jsxs)("li",{children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,Iy.jsx)("p",{children:(0,Iy.jsx)("button",{onClick:()=>(e=>{I(e),o(!0)})(e),style:{padding:"5px 10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"View Applicant"})})]},t)))}),(0,Iy.jsx)("button",{onClick:()=>C(null),style:{marginTop:"20px",padding:"10px 15px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})}),T&&(0,Iy.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Iy.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"5px",maxWidth:"600px",width:"90%",maxHeight:"80%",overflowY:"auto"},children:[(0,Iy.jsx)("h4",{children:"Applicant Details"}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Name:"})," ",T.name]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Email:"})," ",T.email]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Resume:"})," ",(0,Iy.jsx)("a",{href:T.resumeURL,target:"_blank",rel:"noopener noreferrer",children:"View Resume"})]}),(0,Iy.jsx)("button",{onClick:()=>{I(null)},style:{marginTop:"20px",padding:"10px 15px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})}),1==N&&!b&&!Q&&!ie&&!oe&&!D&&(0,Iy.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"5px",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Iy.jsx)("h3",{children:"Jobs to Be Approved"}),(0,Iy.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Iy.jsx)("thead",{children:(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Job Title"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Company Name"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Location"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Actions"})]})}),(0,Iy.jsx)("tbody",{children:j.map((e=>(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.title}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.companyName}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.location}),(0,Iy.jsxs)("td",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"center"},children:[(0,Iy.jsx)("button",{onClick:()=>{C(e),o(!1)},style:{padding:"5px 10px",marginRight:"5px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"View"}),(0,Iy.jsx)("button",{onClick:()=>(async e=>{try{o(!0),await Kg(Bf(nm,"jobs-to-be-approved",e)),R(j.filter((t=>t.id!==e))),C(null),alert("Job rejected successfully."),await Z("Job Post Rejected",`Job post #${e} rejected.`)}catch(t){console.error("Error rejecting job:",t),alert("Failed to reject job. Please try again.")}})(e.id),style:{padding:"5px 10px",backgroundColor:"#ff4d4d",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Reject"})]})]},e.id)))})]}),k&&!s&&(0,Iy.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Iy.jsxs)("div",{id:"jobdetails",style:{backgroundColor:"#fff",padding:"20px",borderRadius:"5px",maxWidth:"600px",width:"90%",maxHeight:"80%",overflowY:"auto"},children:[(0,Iy.jsx)("h4",{children:"Job Details"}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Title:"})," ",k.title]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Job Role:"})," ",k.jobRole]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Company Name:"})," ",k.companyName]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Location:"})," ",k.location]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Description:"})," ",k.description||"No description provided."]}),(0,Iy.jsx)("button",{onClick:()=>{(async e=>{try{await $g(Bf(nm,"jobs",e.id),e),await Kg(Bf(nm,"jobs-to-be-approved",e.id)),R(j.filter((t=>t.id!==e.id))),C(null),alert("Job published successfully."),await Z("Job Published",`Job post #${e.id} published.`)}catch(t){console.error("Error publishing job:",t),alert("Failed to publish job. Please try again.")}})(k),C(null)},style:{padding:"10px 20px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:"Publish"}),(0,Iy.jsx)("button",{onClick:()=>C(null),style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})})]}),!ie&&!N&&!y&&!Q&&!D&&!oe&&(0,Iy.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"5px",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Iy.jsx)("h3",{children:"Users Pending Approval"}),(0,Iy.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Iy.jsx)("thead",{children:(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Name/Company"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Email"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Type"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Actions"})]})}),(0,Iy.jsx)("tbody",{children:ee.map((e=>(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:"applicant"===e.type?e.name:e.companyName}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.email}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.type}),(0,Iy.jsxs)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:[(0,Iy.jsx)("button",{onClick:()=>(async e=>{try{console.log("handleApproveUser received user:",e),console.log("Email:",e.email),Rx("bWFWZMuU0I3Ok35gl");const t={email:e.email,html:'\n        <div style="font-family: system-ui, sans-serif, Arial; font-size: 16px; background-color: #fff8f1">\n          <div style="max-width: 600px; margin: auto; padding: 16px">\n            <p>Welcome to the Ski-Folio family! We\'re excited to have you on board.</p>\n            <p>\n              Your account has been successfully created, and you\'re now ready to explore all the great\n              features we offer.\n            </p>\n            <p>\n              <a\n                style="\n                  display: inline-block;\n                  text-decoration: none;\n                  outline: none;\n                  color: #fff;\n                  background-color: #fc0038;\n                  padding: 8px 16px;\n                  border-radius: 4px;\n                "\n                href="https://ski-folio.netlify.app"\n                target="_blank"\n              >\n                Open Ski-folio\n              </a>\n            </p>\n            <p>Best regards,<br />The Ski-Folio Team</p>\n          </div>\n        </div>\n      '},n=await Nx("service_mu4w5ko","template_g72ruh8",t);console.log("Email sent:",n.status,n.text);const r="applicant"===e.type?"applicants":"employers";await $g(Bf(nm,r,e.id),{...e,status:"approved"}),await Kg(Bf(nm,"userAccountsToBeApproved",e.id)),te((t=>t.filter((t=>t.id!==e.id)))),await Z("User Approved",`User ${e.id} approved.`),alert("User approved successfully.")}catch(t){console.error("Error approving user:",t),alert("Failed to approve user. Please try again.")}})(e),style:{padding:"5px 10px",marginRight:"5px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Approve"}),(0,Iy.jsx)("button",{onClick:()=>(async e=>{try{await $g(Bf(nm,"deletedFiles",e.id),e),await Kg(Bf(nm,"userAccountsToBeApproved",e.id)),te(ee.filter((t=>t.id!==e.id))),alert("User rejected and moved to deleted files."),await Z("User Rejected",`User ${e.id} rejected.`)}catch(t){console.error("Error rejecting user:",t),alert("Failed to reject user. Please try again.")}})(e),style:{padding:"5px 10px",marginRight:"5px",backgroundColor:"#ff4d4d",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Reject"})]})]},e.id)))})]})]}),ie&&!y&&!N&&!Q&&!D&&!oe&&(0,Iy.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"5px",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Iy.jsx)("h3",{children:"Deleted Files"}),(0,Iy.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Iy.jsx)("thead",{children:(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Name/Company"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Email"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Type"}),(0,Iy.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px"},children:"Reason"})]})}),(0,Iy.jsx)("tbody",{children:ne.map((e=>(0,Iy.jsxs)("tr",{children:[(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:"applicant"===e.type?e.name:e.companyName}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.email}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.type}),(0,Iy.jsx)("td",{style:{border:"1px solid #ddd",padding:"10px"},children:e.reason||"N/A"})]},e.id)))})]})]}),oe&&!Q&&!D&&!P&&!ie&&!y&&!N&&(0,Iy.jsxs)("div",{style:{marginTop:"20px",marginLeft:"auto",marginRight:"auto",padding:"10px 20px",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9",maxWidth:"1200px",width:"90%",textAlign:"center"},children:[(0,Iy.jsx)("h3",{children:"Announcement"}),(0,Iy.jsx)("p",{children:"This is for important announcement!"}),(0,Iy.jsx)("input",{type:"text",placeholder:"Announcement Subject",value:z,onChange:e=>B(e.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",borderRadius:"5px"}}),(0,Iy.jsx)("textarea",{placeholder:"Announcement Body",value:H,onChange:e=>W(e.target.value),rows:"4",style:{width:"100%",padding:"10px",borderRadius:"5px",marginBottom:"10px"}}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("label",{htmlFor:"image-upload",style:{marginBottom:"10px",display:"block"},children:"Upload Image:"}),(0,Iy.jsx)("input",{type:"file",id:"image-upload",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&G(t)},style:{marginBottom:"10px"}})]}),(0,Iy.jsx)("div",{style:{marginTop:"10px"},children:(0,Iy.jsxs)("label",{children:["Select Recipient Type:",(0,Iy.jsxs)("select",{value:$||"",onChange:e=>q(e.target.value),style:{marginLeft:"10px",padding:"8px",borderRadius:"5px",fontSize:"16px"},children:[(0,Iy.jsx)("option",{value:"",children:"Select Recipient"}),(0,Iy.jsx)("option",{value:"applicant",children:"Applicant"}),(0,Iy.jsx)("option",{value:"employer",children:"Employer"}),(0,Iy.jsx)("option",{value:"both",children:"All"})]})]})}),(0,Iy.jsx)("button",{onClick:e=>(async e=>{if(e.preventDefault(),!z||!H||!$)return console.error("Missing required data (subject, body, or recipient type)."),void alert("Please fill out all fields and select a recipient type.");try{let e="";if(K){const t=to(rm,`images/${K.name}`);await Zs(t,K),e=await eo(t),console.log("Image URL:",e)}const t="both"===$?["applicant","employer"]:[$],n=`\n        <p>${H}</p>\n        ${e?`<img src="${e}" alt="Attached Image" style="max-width: 100%; height: auto;" />`:""}\n      `,r=zf(nm,"announcement"),i=Date.now();for(const s of t){const t={subject:z,message:n,timestamp:new Date,recipientType:s,status:"unread",imageUrl:e||null},o=`${s}_${i}`;await $g(Bf(r,o),t)}alert("Announcement sent successfully!"),B(""),W(""),G(null),q(null)}catch(t){console.error("Error sending notification:",t),alert("Failed to send announcement.")}})(e),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Send Announcement"})]})]})]})]})}):(0,Iy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",fontFamily:"Arial, sans-serif"},children:(0,Iy.jsxs)("form",{onSubmit:pe,style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"600px",padding:"60px 40px",borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",background:"white",textAlign:"center"},children:[(0,Iy.jsx)("h2",{style:{marginBottom:"15px",fontFamily:"Times New Roman"},children:"Admin Login"}),(0,Iy.jsx)("input",{type:"text",placeholder:"Username",value:a,onChange:e=>l(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #ccc",fontSize:"16px",textAlign:"center"}}),(0,Iy.jsx)("input",{type:"password",placeholder:"Password",value:c,onChange:e=>u(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #ccc",fontSize:"16px",textAlign:"center"}}),(0,Iy.jsx)("button",{type:"submit",style:{width:"100%",padding:"10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",transition:"0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#0056b3",onMouseOut:e=>e.target.style.backgroundColor="#007bff",children:"Login"})]})})},Px=()=>{const[e,t]=(0,i.useState)({news:[],application:[]}),[n,r]=(0,i.useState)("news"),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(10);(0,i.useEffect)((()=>{u(10)}),[n]);const d=e[n].slice(0,c);(0,i.useEffect)((()=>{(async()=>{if(tm.currentUser)try{const e=tm.currentUser.uid,n=Bf(nm,"applicants",e),r=Bf(nm,"employers",e),i=(await Bg(r)).exists();l(i?"employer":"applicant");const s=(await Wg(zf(i?r:n,"notifications"))).docs.map((e=>({id:e.id,...e.data()}))),o=(await Wg(zf(nm,"announcement"))).docs.map((e=>({id:e.id,...e.data(),status:e.data().status||"unread"}))),a=o.filter((e=>e.recipientType===(i?"employer":"applicant")));t({application:s.sort(((e,t)=>{var n,r;return(null===(n=t.timestamp)||void 0===n?void 0:n.toDate())-(null===(r=e.timestamp)||void 0===r?void 0:r.toDate())})),news:a.sort(((e,t)=>{var n,r;return(null===(n=t.timestamp)||void 0===n?void 0:n.toDate())-(null===(r=e.timestamp)||void 0===r?void 0:r.toDate())}))})}catch(e){console.error("Error fetching notifications:",e)}})()}),[]);const h=async e=>{if(tm.currentUser)try{let n;const r=e.recipientType?"news":"application";if(e.recipientType)n=Bf(nm,"announcement",e.id);else{n=Bf(nm,"employer"===a?"employers":"applicants",tm.currentUser.uid,"notifications",e.id)}await qg(n,{status:"read"}),o(s===e.id?null:e.id),t((t=>({...t,[r]:t[r].map((t=>t.id===e.id?{...t,status:"read"}:t))})))}catch(n){console.error("Error updating notification status:",n)}};return(0,Iy.jsx)("div",{className:"notification-page",children:(0,Iy.jsxs)("div",{className:"notification-top",children:[(0,Iy.jsx)("h2",{style:{margin:"25px"},children:"Notifications"}),(0,Iy.jsx)("div",{className:"tabs",children:Object.keys(e).map((e=>(0,Iy.jsx)("button",{className:"tab-button "+(n===e?"active":""),onClick:()=>r(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))}),(0,Iy.jsx)("div",{className:"notification-content",children:(0,Iy.jsx)("ul",{children:e[n].length>0?(0,Iy.jsxs)(Iy.Fragment,{children:[d.some((e=>!e.recipientType))&&(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)("li",{className:"notif-section-title",children:"\ud83d\udcec Your Notifications"}),e[n].filter((e=>!e.recipientType)).slice(0,c).map((e=>{var t;return(0,Iy.jsxs)("li",{className:"notification-item "+("unread"===e.status?"unread":"read"),onClick:()=>h(e),children:[(0,Iy.jsxs)("div",{className:"notif-header",children:[(0,Iy.jsx)("strong",{children:e.companyName||"System"}),"unread"===e.status&&(0,Iy.jsx)("span",{className:"badge",children:"New \ud83d\udd25"})]}),s===e.id&&(0,Iy.jsxs)("div",{className:"notif-details",children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Subject:"})," ",e.subject]}),(0,Iy.jsx)("p",{children:e.message}),(0,Iy.jsxs)("p",{className:"timestamp",children:[(0,Iy.jsx)("strong",{children:"Received:"})," ",null===(t=e.timestamp)||void 0===t?void 0:t.toDate().toLocaleString()]})]})]},e.id)})),e[n].length>c&&(0,Iy.jsx)("button",{className:"see-more-btn",onClick:()=>u(e[n].length),children:"See More"})]}),d.some((e=>e.recipientType))&&(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)("li",{className:"notif-section-title",children:"\ud83d\udce2 Announcements from Admin"}),e[n].filter((e=>e.recipientType)).slice(0,c).map((e=>{var t;return(0,Iy.jsxs)("li",{className:"notification-item "+("unread"===e.status?"unread":"read"),onClick:()=>h(e),children:[(0,Iy.jsxs)("div",{className:"notif-header",children:[(0,Iy.jsx)("strong",{children:"Admin"}),"unread"===e.status&&(0,Iy.jsx)("span",{className:"badge",children:"New \ud83d\udce3"})]}),s===e.id&&(0,Iy.jsxs)("div",{className:"notif-details",children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Subject:"})," ",e.subject]}),(0,Iy.jsx)("p",{dangerouslySetInnerHTML:{__html:e.message}}),(0,Iy.jsxs)("p",{className:"timestamp",children:[(0,Iy.jsx)("strong",{children:"Posted:"})," ",null===(t=e.timestamp)||void 0===t?void 0:t.toDate().toLocaleString()]})]})]},e.id)})),e[n].length>c&&(0,Iy.jsx)("button",{className:"see-more-btn",onClick:()=>u(e[n].length),children:"See More"})]})]}):(0,Iy.jsx)("li",{className:"empty",children:"No new notifications."})})})]})})},Ox=()=>(0,Iy.jsxs)("div",{className:"home-wrapper",children:[(0,Iy.jsx)("header",{className:"top-header",children:(0,Iy.jsx)("h1",{className:"site-logo",children:"Ski-Folio"})}),(0,Iy.jsxs)("main",{className:"hero-section1",children:[(0,Iy.jsx)("h2",{className:"hero-title",children:"Welcome to Ski-Folio"}),(0,Iy.jsx)("p",{className:"hero-description",children:"Your personalized platform for finding jobs and building your professional portfolio. Whether you're an applicant looking for opportunities or an employer seeking top talent, Ski-Folio connects you with the right match."}),(0,Iy.jsxs)("div",{className:"cta-container",children:[(0,Iy.jsx)(ky,{to:"/select",children:(0,Iy.jsx)("button",{className:"main-btn",children:"Get Started"})}),(0,Iy.jsx)(ky,{to:"/about-us",children:(0,Iy.jsx)("button",{className:"alt-btn",children:"Learn More"})})]})]}),(0,Iy.jsx)("section",{className:"features-section",children:(0,Iy.jsxs)("div",{className:"features-content",children:[(0,Iy.jsx)("h3",{className:"features-title",children:"Why Choose Ski-Folio?"}),(0,Iy.jsxs)("ul",{className:"features-list",children:[(0,Iy.jsx)("li",{children:" Showcase your skills with a dynamic portfolio."}),(0,Iy.jsx)("li",{children:" Find and apply for jobs that match your expertise."}),(0,Iy.jsx)("li",{children:" Employers can post jobs and connect with applicants."}),(0,Iy.jsx)("li",{children:" Enhance your career with a professional, user-friendly platform."})]})]})}),(0,Iy.jsxs)("footer",{className:"homepage-footer",children:["\xa9 ",(new Date).getFullYear()," Ski-Folio. All rights reserved."]})]}),Dx=["Front-end Developer","Back-end Developer","Full Stack Developer","React Developer","Vue.js Developer","Angular Developer","Node.js Developer","Django Developer","Laravel Developer","Express.js Developer","JavaScript Engineer","TypeScript Developer","Next.js Developer","Nuxt.js Developer","API Developer"],Lx=["Front-end Developer","Back-end Developer","React Developer","Node.js Developer","JavaScript Engineer"],Ux=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)({}),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)("absolute");(0,i.useEffect)((()=>{const e=yr(tm,(e=>{e?d(e.uid):(console.log("No user signed in."),l(!1))}));return()=>e()}),[]);const d=async e=>{try{const n=await Bg(Bf(nm,"applicants",e));if(n.exists()){const e=n.data();t(e.scoutVisibility||!1),r(e.experience||""),o(e.skills||{})}}catch(n){console.error("Error fetching scouting status:",n)}finally{l(!1)}},h=async e=>{if(tm.currentUser){r(e);try{await qg(Bf(nm,"applicants",tm.currentUser.uid),{experience:e})}catch(t){console.error("Error updating experience:",t)}}};return a?(0,Iy.jsxs)("div",{style:{height:"80vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Iy.jsx)("div",{className:"spinner"})," "]}):(0,Iy.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Iy.jsx)("h2",{style:{color:"#333"},children:"Scouting Visibility"}),(0,Iy.jsxs)("div",{className:"toggle-container",style:{marginBottom:"20px"},children:[(0,Iy.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:[(0,Iy.jsx)("input",{type:"checkbox",id:"checkboxInput",checked:e,onChange:async()=>{if(!tm.currentUser)return;const n=!e;t(n);try{await qg(Bf(nm,"applicants",tm.currentUser.uid),{scoutVisibility:n})}catch(r){console.error("Error updating scout visibility:",r)}}}),(0,Iy.jsx)("label",{htmlFor:"checkboxInput",className:"toggleSwitch"})]}),(0,Iy.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:(0,Iy.jsx)("p",{style:{fontSize:"18px",fontWeight:"600",color:"#000",margin:0},children:e?"You are visible to employers.":"You are hidden from employers."})})]}),e&&(0,Iy.jsxs)("div",{style:{maxWidth:"700px",margin:"auto",background:"#ffffff",padding:"30px",borderRadius:"12px",boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.2)"},children:[(0,Iy.jsx)("h3",{style:{marginBottom:"15px",color:"#333"},children:"Experience Level"}),(0,Iy.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"25px"},children:[(0,Iy.jsx)("button",{className:"experience-btn",onClick:()=>h("No experience"),style:{padding:"15px 40px",borderRadius:"10px",border:"2px solid #4ad4d4",background:"No experience"===n?"#4ad4d4":"#fff",color:"No experience"===n?"#fff":"#4ad4d4",cursor:"pointer",fontSize:"18px",fontWeight:"600",transition:"all 0.3s ease"},children:"No Experience"}),(0,Iy.jsx)("button",{className:"experience-btn",onClick:()=>h("Have job experience"),style:{padding:"15px 40px",borderRadius:"10px",border:"2px solid #4ad4d4",background:"Have job experience"===n?"#4ad4d4":"#fff",color:"Have job experience"===n?"#fff":"#4ad4d4",cursor:"pointer",fontSize:"18px",fontWeight:"600",transition:"all 0.3s ease"},children:"Have Job Experience"})]}),(0,Iy.jsx)("h3",{style:{marginBottom:"15px",color:"#333"},children:"Filter Skills"}),(0,Iy.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},children:[(0,Iy.jsx)("button",{onClick:()=>u("relevancy"),style:{padding:"10px 20px",borderRadius:"8px",border:"2px solid #4ad4d4",background:"relevancy"===c?"#4ad4d4":"#fff",color:"relevancy"===c?"#fff":"#4ad4d4",fontWeight:"600",cursor:"pointer",fontSize:"16px",transition:"0.3s"},children:"Relevancy"}),(0,Iy.jsx)("button",{onClick:()=>u("absolute"),style:{padding:"10px 20px",borderRadius:"8px",border:"2px solid #4ad4d4",background:"absolute"===c?"#4ad4d4":"#fff",color:"absolute"===c?"#fff":"#4ad4d4",fontWeight:"600",cursor:"pointer",fontSize:"16px",transition:"0.3s"},children:"Absolute"})]}),(0,Iy.jsx)("h3",{style:{marginBottom:"15px",color:"#333"},children:"Preferred Job Roles"}),(0,Iy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:("relevancy"===c?Lx:Dx).map((e=>(0,Iy.jsx)("div",{onClick:()=>(async e=>{if(!tm.currentUser)return;const t={...s};t[e]?delete t[e]:t[e]=!0,o(t);try{await qg(Bf(nm,"applicants",tm.currentUser.uid),{skills:t})}catch(n){console.error("Error updating skills:",n)}})(e),style:{padding:"14px",border:"2px solid #ccc",borderRadius:"10px",cursor:"pointer",background:s[e]?"#4ad4d4":"#fff",fontWeight:"600",textAlign:"center",transition:"0.3s",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:e},e)))})]})]})},Mx=["Front-end Developer","Back-end Developer","Full Stack Developer","React Developer","Vue.js Developer","Angular Developer","Node.js Developer","Django Developer","Laravel Developer","Express.js Developer","JavaScript Engineer","TypeScript Developer","Next.js Developer","Nuxt.js Developer","API Developer"],Fx=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)("relevancy"),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1);(0,i.useEffect)((()=>{e.length>0?(async()=>{const t=await Wg(zf(nm,"applicants"));let n=[];t.forEach((t=>{const r=t.data();if(!r.scoutVisibility)return;const i=r.selectedJobs||[];let s=!1;s="absolute"===a?e.length===i.length&&e.every((e=>i.includes(e))):e.some((e=>i.includes(e))),s&&n.push({id:t.id,...r})})),n.sort(((e,t)=>parseFloat(t.average||0)-parseFloat(e.average||0))),r(n)})():r([])}),[e,a]);return(0,Iy.jsxs)("div",{style:{padding:"100px",maxWidth:"1000px",margin:"auto"},children:[(0,Iy.jsx)("h2",{style:{textAlign:"center"},children:"Filter Applicants by Skills"}),(0,Iy.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},children:Mx.map((n=>(0,Iy.jsx)("div",{onClick:()=>(e=>{t((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(n),style:{padding:"12px",border:"2px solid #ccc",borderRadius:"8px",cursor:"pointer",backgroundColor:e.includes(n)?"#4ad4d4":"#fff",fontWeight:"600",textAlign:"center",transition:"0.3s"},children:n},n)))}),e.length>0&&(0,Iy.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Iy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Iy.jsx)("h4",{children:"Selected Skills:"}),(0,Iy.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Iy.jsxs)("button",{onClick:()=>{l((e=>"relevancy"===e?"absolute":"relevancy")),u(!0),setTimeout((()=>u(!1)),500)},style:{backgroundColor:"#4ad4d4",color:"#fff",border:"none",padding:"8px 14px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",transform:c?"scale(1.1)":"scale(1)",transition:"transform 0.3s ease"},children:["Mode: ","relevancy"===a?"Relevancy":"Absolute"]}),(0,Iy.jsx)("button",{onClick:()=>{t([])},style:{backgroundColor:"#ff4d4d",color:"#fff",border:"none",padding:"8px 14px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Clear All"})]})]}),(0,Iy.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginTop:"10px"},children:e.map((e=>(0,Iy.jsxs)("div",{onClick:()=>{return n=e,void t((e=>e.filter((e=>e!==n))));var n},style:{backgroundColor:"#4ad4d4",color:"#fff",padding:"8px 12px",borderRadius:"20px",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",cursor:"pointer"},children:[e," \u2716"]},e)))})]}),(0,Iy.jsxs)("h3",{children:["Matching Applicants: ",n.length]}),(0,Iy.jsx)("div",{style:{display:"grid",gap:"15px",marginTop:"20px"},children:n.length>0?n.map((e=>(0,Iy.jsxs)("div",{onClick:()=>(e=>{o(e),h(!0)})(e),style:{border:"1px solid #ddd",padding:"20px",borderRadius:"10px",backgroundColor:"#f9f9f9",cursor:"pointer",transition:"0.3s ease"},children:[(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:e.name})," \u2014 ",e.experience]}),(0,Iy.jsx)("p",{children:(e.selectedJobs||[]).join(", ")})]},e.id))):e.length>0?(0,Iy.jsx)("div",{style:{textAlign:"center",marginTop:"40px",fontSize:"20px",color:"#000000",animation:"fadeIn 0.5s ease-in-out"},children:"\ud83d\udeab No applicants match your current selection."}):null}),s&&d&&(0,Iy.jsx)("div",{className:"modal-overlay "+(d?"fadeIn":""),children:(0,Iy.jsxs)("div",{className:"modal-container",children:[(0,Iy.jsx)("button",{onClick:()=>{o(null),h(!1)},style:{float:"right",fontSize:"20px"},children:"\u2716"}),(0,Iy.jsxs)("div",{style:{display:"flex",gap:"20px",marginTop:"10px"},children:[(0,Iy.jsx)("img",{src:s.profilePicURL,alt:"Profile",style:{width:"120px",borderRadius:"10px"}}),(0,Iy.jsxs)("div",{children:[(0,Iy.jsx)("h2",{children:s.name}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Email:"})," ",s.email]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Experience:"})," ",s.experience]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"GitHub:"})," ",(0,Iy.jsx)("a",{href:s.githubLink,target:"_blank",rel:"noreferrer",children:s.githubLink})]}),(0,Iy.jsxs)("p",{children:[(0,Iy.jsx)("strong",{children:"Resume:"})," ",(0,Iy.jsx)("a",{href:s.resumeURL,target:"_blank",rel:"noreferrer",children:"View PDF"})]})]})]}),(0,Iy.jsxs)("div",{style:{marginTop:"20px"},children:[(0,Iy.jsx)("h3",{children:"Skills"}),(0,Iy.jsx)("ul",{children:(s.selectedJobs||[]).map((e=>(0,Iy.jsx)("li",{children:e},e)))})]}),(0,Iy.jsxs)("div",{style:{marginTop:"20px"},children:[(0,Iy.jsx)("h3",{children:"Certifications"}),s.certifications&&Object.entries(s.certifications).map((e=>{let[t,n]=e;return(0,Iy.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Iy.jsx)("h4",{children:t}),(0,Iy.jsx)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:n.map(((e,t)=>(0,Iy.jsx)("img",{src:e,alt:"cert",style:{width:"150px",borderRadius:"8px"}},t)))})]},t)}))]})]})})]})},Vx=[{name:"Ken Robert Noleal",role:"Project Lead",image:"./images/Noleal.jpg"},{name:"Elay Angel Marie Tandingan",role:"System Analyst",image:"./images/Tandingan.jpg"},{name:"Cj Napoles",role:"Backend Developer",image:"./images/Napoles.jpg"},{name:"Hans Matthew De Guzman",role:"Frontend Developer",image:"./images/DeGuzman.jpg"}],zx=()=>(0,Iy.jsxs)("div",{className:"about-wrapper",children:[(0,Iy.jsxs)("header",{className:"top-header",children:[(0,Iy.jsx)("h1",{className:"site-logo",children:"Ski-Folio"}),(0,Iy.jsx)("div",{className:"action-btns",children:(0,Iy.jsx)("a",{href:"/",className:"buttonHome",children:"Home"})})]}),(0,Iy.jsxs)("section",{className:"about-content",children:[(0,Iy.jsx)("h2",{className:"about-title",children:"About Ski-Folio"}),(0,Iy.jsx)("p",{className:"about-description",children:"Ski-Folio is a personalized job matching and portfolio platform designed to connect applicants with employers in a simple and efficient way. Applicants can showcase their skills, create digital portfolios, and apply for jobs posted by businesses. Meanwhile, employers can post job openings and find ideal candidates that match their needs."}),(0,Iy.jsx)("h3",{className:"about-title",style:{marginTop:"50px"},children:"Meet the Developers"}),(0,Iy.jsx)("div",{className:"dev-cards-container",children:Vx.map(((e,t)=>(0,Iy.jsxs)("div",{className:"dev-card",children:[(0,Iy.jsx)("img",{src:e.image,alt:e.name,className:"dev-image"}),(0,Iy.jsx)("h3",{className:"dev-name",children:e.name}),(0,Iy.jsx)("p",{className:"dev-role",children:e.role})]},t)))})]}),(0,Iy.jsxs)("footer",{className:"homepage-footer",children:["\xc2\xa9 ",(new Date).getFullYear()," Ski-Folio. All rights reserved."]})]}),Bx=()=>{const e=new Date("2024-11-15").toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return(0,Iy.jsxs)("div",{className:"max-w-4xl mx-auto bg-gray-50 rounded-xl shadow-md p-8 md:p-12",children:[(0,Iy.jsxs)("header",{className:"mb-8",children:[(0,Iy.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800",children:"Terms and Conditions"}),(0,Iy.jsxs)("p",{className:"text-center italic text-gray-500 mt-2",children:["Effective Date: ",e]}),(0,Iy.jsx)("hr",{className:"my-8 border-t border-gray-200"})]}),(0,Iy.jsx)("div",{className:"space-y-8",children:[{title:"1. Acceptance of Terms",content:"By accessing or using Skifolio, you agree to be bound by these Terms and Conditions. If you do not agree, please do not register, use, or access our services."},{title:"2. Account Eligibility",content:"You must be at least 13 years old to create an account. Employers must submit valid business documents to verify company identity."},{title:"3. Account Responsibilities",content:"Keep your login credentials secure and confidential. Immediately report unauthorized access or breaches. You are responsible for all activities that occur under your account.",list:!0},{title:"4. User Conduct",content:"You agree not to:",listItems:["Upload false or misleading information.","Use Skifolio for unlawful or abusive purposes.","Violate intellectual property rights of others."]},{title:"5. Content Ownership",content:"All content you upload remains your intellectual property. By submitting content to Skifolio, you grant us a license to display and share it within the scope of the platform's purpose."},{title:"6. Employer Verification",content:"Employers must upload valid business permits and company details. These documents are reviewed and stored securely for verification purposes."},{title:"7. Account Approval",content:"All accounts are subject to verification and approval. Skifolio reserves the right to reject or suspend accounts that do not meet platform standards or violate these terms."},{title:"8. Termination",content:"We may suspend or terminate your account for violations of these Terms, misuse of the platform, or at our discretion with or without prior notice."},{title:"9. Limitation of Liability",content:'Skifolio is provided "as is" and we make no warranties regarding its accuracy, security, or availability. We are not liable for any indirect or consequential damages arising from the use of our platform.'},{title:"10. Changes to Terms",content:"We may revise these Terms at any time. Continued use of Skifolio constitutes acceptance of the updated terms. We encourage users to review this page regularly."},{title:"11. Contact Us",content:"For questions or concerns regarding these Terms, please contact us at support@skifolio.com.",hasEmail:!0}].map(((e,t)=>(0,Iy.jsxs)("section",{className:"pb-4",children:[(0,Iy.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-gray-700 mb-3",children:e.title}),!e.listItems&&!e.list&&(0,Iy.jsxs)("p",{className:"text-gray-600 leading-relaxed",children:[e.content,e.hasEmail&&(0,Iy.jsx)("a",{href:"mailto:support@skifolio.com",className:"text-blue-600 hover:text-blue-800 underline",children:"support@skifolio.com"})]}),e.list&&(0,Iy.jsxs)("ul",{className:"list-disc pl-5 text-gray-600 leading-relaxed",children:[(0,Iy.jsx)("li",{children:"Keep your login credentials secure and confidential."}),(0,Iy.jsx)("li",{children:"Immediately report unauthorized access or breaches."}),(0,Iy.jsx)("li",{children:"You are responsible for all activities that occur under your account."})]}),e.listItems&&(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)("p",{className:"text-gray-600 mb-2",children:e.content}),(0,Iy.jsx)("ul",{className:"list-disc pl-5 text-gray-600 leading-relaxed",children:e.listItems.map(((e,t)=>(0,Iy.jsx)("li",{children:e},t)))})]})]},t)))}),(0,Iy.jsxs)("footer",{className:"mt-12 text-center text-gray-400 text-sm",children:["\xa9 ",(new Date).getFullYear()," Skifolio. All rights reserved."]})]})},Hx=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=yr(tm,(e=>{r(e)}));return()=>e()}),[]);return(0,Iy.jsxs)(Sy,{children:[n&&(0,Iy.jsx)(sv,{userType:e,onLogout:()=>{tm.signOut().then((()=>{r(null),t(null)})).catch((e=>{console.error("Error signing out:",e)}))}}),(0,Iy.jsxs)(fy,{children:[(0,Iy.jsx)(hy,{path:"/",element:(0,Iy.jsx)(Ox,{})}),(0,Iy.jsx)(hy,{path:"/select",element:(0,Iy.jsx)(jy,{setUserType:t})})," ",(0,Iy.jsx)(hy,{path:"/signin",element:(0,Iy.jsx)(av,{userType:e})}),(0,Iy.jsx)(hy,{path:"/signup",element:(0,Iy.jsx)(Ry,{userType:e,setUser:r})}),(0,Iy.jsx)(hy,{path:"/applicant/profile",element:(0,Iy.jsx)(Ny,{})}),(0,Iy.jsx)(hy,{path:"/applicant/search-jobs",element:(0,Iy.jsx)(Py,{})}),(0,Iy.jsx)(hy,{path:"/employer/profile",element:(0,Iy.jsx)(Ay,{})}),(0,Iy.jsx)(hy,{path:"/employer/post-job",element:(0,Iy.jsx)(Vy,{})}),(0,Iy.jsx)(hy,{path:"/portfolio",element:(0,Iy.jsx)(kx,{})}),(0,Iy.jsx)(hy,{path:"/home",element:(0,Iy.jsx)(ov,{})}),(0,Iy.jsx)(hy,{path:"/admin",element:(0,Iy.jsx)(Ax,{})}),(0,Iy.jsx)(hy,{path:"/Notifications",element:(0,Iy.jsx)(Px,{})}),(0,Iy.jsx)(hy,{path:"/discovered",element:(0,Iy.jsx)(Ux,{})}),(0,Iy.jsx)(hy,{path:"/filter",element:(0,Iy.jsx)(Fx,{})}),(0,Iy.jsx)(hy,{path:"/about-us",element:(0,Iy.jsx)(zx,{})}),(0,Iy.jsx)(hy,{path:"/terms",element:(0,Iy.jsx)(Bx,{})})]})]})};o.createRoot(document.getElementById("root")).render((0,Iy.jsx)(i.StrictMode,{children:(0,Iy.jsx)(Hx,{})}))})();
//# sourceMappingURL=main.9fc3273b.js.map